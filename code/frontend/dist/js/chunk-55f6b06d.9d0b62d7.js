(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-55f6b06d"],{"01d4":function(t,e,i){"use strict";e.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},"0212":function(t,e,a){"use strict";a.r(e);var h=a("7a23"),i=Object(h.gb)("data-v-52b8186e");Object(h.H)("data-v-52b8186e");var l={key:0,ref:"heatMapCtl",class:"heatMapCtl horizontal-center"},u=Object(h.n)("label",null,"热点半径：",-1),p=Object(h.n)("label",null,"模糊尺寸：",-1);Object(h.F)();var n=i(function(t,e,i,n,r,o){var a=Object(h.N)("query-btn"),s=Object(h.N)("map-canvas"),c=Object(h.N)("map-layer-selection");return Object(h.E)(),Object(h.i)(h.b,null,[Object(h.n)(a),r.heatmap.visible?(Object(h.E)(),Object(h.i)("div",l,[Object(h.n)("form",null,[u,Object(h.db)(Object(h.n)("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return r.heatmap.radius=t}),type:"range",min:"10",max:"80",step:"1"},null,512),[[h.Y,r.heatmap.radius]]),p,Object(h.db)(Object(h.n)("input",{"onUpdate:modelValue":e[2]||(e[2]=function(t){return r.heatmap.blur=t}),type:"range",min:"10",max:"80",step:"1"},null,512),[[h.Y,r.heatmap.blur]])])],512)):Object(h.j)("",!0),Object(h.n)(s,{ref:"mapCanvasRef",onHeatMap:o.handleHeatmap,onHoverOn:e[3]||(e[3]=function(t){return r.clickCoord=t})},null,8,["onHeatMap"]),Object(h.n)(c),Object(h.n)("div",{ref:"mapFooterRef",class:"footer-left"},Object(h.R)(r.clickCoord),513)],64)}),r=a("06ca"),c=(a("b0c0"),Object(h.gb)("data-v-f2fce040"));Object(h.H)("data-v-f2fce040");var f={ref:"mapCanvasRef",id:"mapCanvas",class:"mapCanvas"},d={ref:"popupRef",id:"popup",class:"popup"},_={key:0,style:{"margin-top":"20px"},ref:"popupContentRef"},g=Object(h.m)("查看房源列表"),y=Object(h.m)(" 名 称： "),v=Object(h.m)(" 房源数量："),m=Object(h.m)(" 房源平均价格："),b=Object(h.m)(" 所属城市Id："),O=Object(h.m)(" 中心经纬度：");Object(h.F)();var o,s,E=c(function(t,e,i,n,r,o){var a=Object(h.N)("el-button"),s=Object(h.N)("el-tag");return Object(h.E)(),Object(h.i)(h.b,null,[Object(h.n)("div",f,null,512),Object(h.n)("div",d,[Object(h.n)(a,{type:"text",icon:"el-icon-close",ref:"popupCloserRef",class:"popupCloser",onClick:o.closePopup},null,8,["onClick"]),r.featureProps?(Object(h.E)(),Object(h.i)("div",_,["community"===r.featureProps.groupType?(Object(h.E)(),Object(h.i)(a,{key:0,size:"mini",type:"primary",onClick:o.toTable},{default:c(function(){return[g]}),_:1},8,["onClick"])):Object(h.j)("",!0),Object(h.n)("li",null,[y,Object(h.n)(s,{type:"success",size:"small",style:{float:"right"}},{default:c(function(){return[Object(h.m)(Object(h.R)(r.featureProps.name),1)]}),_:1})]),Object(h.n)("li",null,[v,Object(h.n)(s,{type:"warning",size:"small",style:{float:"right"}},{default:c(function(){return[Object(h.m)(Object(h.R)(r.featureProps.count)+Object(h.R)(r.featureProps.countUnit),1)]}),_:1})]),Object(h.n)("li",null,[m,Object(h.n)(s,{type:"danger",size:"small",style:{float:"right"}},{default:c(function(){return[Object(h.m)(Object(h.R)(r.featureProps.price)+Object(h.R)(r.featureProps.priceUnit),1)]}),_:1})]),Object(h.n)("li",null,[b,Object(h.n)(s,{size:"small",style:{float:"right"}},{default:c(function(){return[Object(h.m)(Object(h.R)(r.featureProps.cityId),1)]}),_:1})]),Object(h.n)("li",null,[O,Object(h.n)(s,{type:"info",size:"small",style:{float:"right"}},{default:c(function(){return[Object(h.m)(Object(h.R)(r.featureProps.lng)+","+Object(h.R)(r.featureProps.lat),1)]}),_:1})])],512)):Object(h.j)("",!0)],512)],64)}),x=a("5530"),C=(a("d81d"),a("159b"),a("4de4"),a("5502")),j=(a("5bc0"),a("5eee")),T=a("e269"),R=a("592d"),S="bottom-left",w="bottom-center",I="bottom-right",P="center-left",A="center-center",L="center-right",M="top-left",F="top-center",D="top-right",G=a("cd7e"),N=a("0af5"),k=a("1e8d"),z=a("0999"),U=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),X="element",B="map",Y="offset",W="position",K="positioning";function V(t){var e=s.call(this)||this;e.options=t,e.id=t.id,e.insertFirst=void 0===t.insertFirst||t.insertFirst,e.stopEvent=void 0===t.stopEvent||t.stopEvent,e.element=document.createElement("div"),e.element.className=void 0!==t.className?t.className:"ol-overlay-container "+G.d,e.element.style.position="absolute",e.element.style.pointerEvents="auto";var i=t.autoPan;return i&&"object"!=typeof i&&(i={animation:t.autoPanAnimation,margin:t.autoPanMargin}),e.autoPan=i||!1,e.rendered={transform_:"",visible:!0},e.mapPostrenderListenerKey=null,e.addEventListener(Object(T.b)(X),e.handleElementChanged),e.addEventListener(Object(T.b)(B),e.handleMapChanged),e.addEventListener(Object(T.b)(Y),e.handleOffsetChanged),e.addEventListener(Object(T.b)(W),e.handlePositionChanged),e.addEventListener(Object(T.b)(K),e.handlePositioningChanged),void 0!==t.element&&e.setElement(t.element),e.setOffset(void 0!==t.offset?t.offset:[0,0]),e.setPositioning(void 0!==t.positioning?t.positioning:M),void 0!==t.position&&e.setPosition(t.position),e}var Z,H,q=(s=T.a,U(V,s),V.prototype.getElement=function(){return this.get(X)},V.prototype.getId=function(){return this.id},V.prototype.getMap=function(){return this.get(B)},V.prototype.getOffset=function(){return this.get(Y)},V.prototype.getPosition=function(){return this.get(W)},V.prototype.getPositioning=function(){return this.get(K)},V.prototype.handleElementChanged=function(){Object(z.d)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},V.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(z.e)(this.element),Object(k.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();t&&(this.mapPostrenderListenerKey=Object(k.a)(t,R.a.POSTRENDER,this.render,this),this.updatePixelPosition(),t=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer(),this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan())},V.prototype.render=function(){this.updatePixelPosition()},V.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},V.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},V.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},V.prototype.setElement=function(t){this.set(X,t)},V.prototype.setMap=function(t){this.set(B,t)},V.prototype.setOffset=function(t){this.set(Y,t)},V.prototype.setPosition=function(t){this.set(W,t)},V.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},V.prototype.panIntoView=function(t){var e,i,n,r,o,a,s=this.getMap();s&&s.getTargetElement()&&this.get(W)&&(n=this.getRect(s.getTargetElement(),s.getSize()),i=this.getElement(),o=this.getRect(i,[Object(z.c)(i),Object(z.b)(i)]),r=void 0===(a=t||{}).margin?20:a.margin,Object(N.g)(n,o)||(e=o[0]-n[0],i=n[2]-o[2],t=o[1]-n[1],n=n[3]-o[3],o=[0,0],e<0?o[0]=e-r:i<0&&(o[0]=Math.abs(i)+r),t<0?o[1]=t-r:n<0&&(o[1]=Math.abs(n)+r),0===o[0]&&0===o[1]||(r=s.getView().getCenterInternal(),(r=s.getPixelFromCoordinateInternal(r))&&(o=[r[0]+o[0],r[1]+o[1]],a=a.animation||{},s.getView().animateInternal({center:s.getCoordinateFromPixelInternal(o),duration:a.duration,easing:a.easing})))))},V.prototype.getRect=function(t,e){var i=t.getBoundingClientRect(),t=i.left+window.pageXOffset,i=i.top+window.pageYOffset;return[t,i,t+e[0],i+e[1]]},V.prototype.setPositioning=function(t){this.set(K,t)},V.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},V.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();t&&t.isRendered()&&e?(e=t.getPixelFromCoordinate(e),t=t.getSize(),this.updateRenderedPosition(e,t)):this.setVisible(!1)},V.prototype.updateRenderedPosition=function(t,e){var i=this.element.style,n=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var o=Math.round(t[0]+n[0])+"px",a=Math.round(t[1]+n[1])+"px",t="0%",n="0%";r==I||r==L||r==D?t="-100%":r!=w&&r!=A&&r!=F||(t="-50%"),r==S||r==w||r==I?n="-100%":r!=P&&r!=A&&r!=L||(n="-50%");a="translate("+t+", "+n+") translate("+o+", "+a+")";this.rendered.transform_!=a&&(this.rendered.transform_=a,i.transform=a,i.msTransform=a)},V.prototype.getOptions=function(){return this.options},V),J=a("256f"),Q=a("a568"),$=a("a2c7"),tt=a("480c"),et=a("01d4"),it=a("0ec0"),nt=a("acc1"),rt=a("1300"),ot=a("ca42"),i=(Z=function(t,e){return(Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Z(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function at(t,e,i){var n=H.call(this)||this,i=i||{};return n.tileCoord=t,n.state=e,n.interimTile=null,n.hifi=!0,n.key="",n.transition_=void 0===i.transition?250:i.transition,n.transitionStarts_={},n}var st,ct,U=(H=it.a,i(at,H),at.prototype.changed=function(){this.dispatchEvent(et.a.CHANGE)},at.prototype.release=function(){},at.prototype.getKey=function(){return this.key+"/"+this.tileCoord},at.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==nt.a.LOADED)return this.transition_=0,t}while(t=t.interimTile);return this},at.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==nt.a.LOADED){t.interimTile=null;break}}while(t.getState()!=nt.a.LOADING&&t.getState()==nt.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile)}},at.prototype.getTileCoord=function(){return this.tileCoord},at.prototype.getState=function(){return this.state},at.prototype.setState=function(t){if(this.state!==nt.a.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},at.prototype.load=function(){Object(rt.b)()},at.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else this.transitionStarts_[t]=i=e;i=e-i+1e3/60;return i>=this.transition_?1:Object(ot.a)(i/this.transition_)},at.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},at.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},at),lt=a("6611");function ut(t,e,i,n,r,o){o=ct.call(this,t,e,o)||this;return o.crossOrigin_=n,o.src_=i,o.key=i,o.image_=new Image,null!==n&&(o.image_.crossOrigin=n),o.unlisten_=null,o.tileLoadFunction_=r,o}var ht=((st=function(t,e){return(st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}st(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(ut,ct=U),ut.prototype.getImage=function(){return this.image_},ut.prototype.handleImageError_=function(){var t;this.state=nt.a.ERROR,this.unlistenImage_(),this.image_=((t=Object(z.a)(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},ut.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=nt.a.LOADED:this.state=nt.a.EMPTY,this.unlistenImage_(),this.changed()},ut.prototype.load=function(){this.state==nt.a.ERROR&&(this.state=nt.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==nt.a.IDLE&&(this.state=nt.a.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Object(lt.a)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},ut.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},ut),pt=a("7fc9");function ft(t,e,i,n,r,o){this.sourceProj_=t,this.targetProj_=e;var a={},s=Object(J.h)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=s(t)),a[e]},this.maxSourceExtent_=n,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&Object(N.E)(n)==Object(N.E)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(N.E)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(N.E)(this.targetProj_.getExtent()):null;var c,l=Object(N.C)(i),u=Object(N.D)(i),h=Object(N.w)(i),p=Object(N.v)(i),t=this.transformInv_(l),e=this.transformInv_(u),r=this.transformInv_(h),n=this.transformInv_(p),o=10+(o?Math.max(0,Math.ceil(Object(pt.d)(Object(N.u)(i)/(o*o*256*256)))):0);this.addQuad_(l,u,h,p,t,e,r,n,o),this.wrapsXInSource_&&(c=1/0,this.triangles_.forEach(function(t,e,i){c=Math.min(c,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){var e,i;Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-c>this.sourceWorldWidth_/2&&((e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]])[0][0]-c>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-c>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-c>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_),i=Math.min(e[0][0],e[1][0],e[2][0]),Math.max(e[0][0],e[1][0],e[2][0])-i<this.sourceWorldWidth_/2&&(t.source=e))}.bind(this))),a={}}var dt,_t,gt,yt=(ft.prototype.addTriangle_=function(t,e,i,n,r,o){this.triangles_.push({source:[n,r,o],target:[t,e,i]})},ft.prototype.addQuad_=function(t,e,i,n,r,o,a,s,c){var l=Object(N.b)([r,o,a,s]),u=this.sourceWorldWidth_?Object(N.E)(l)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&.5<u&&u<1,f=!1;if(0<c&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(v=Object(N.b)([t,e,i,n]),f=.25<Object(N.E)(v)/this.targetWorldWidth_||f),!p&&this.sourceProj_.isGlobal()&&u&&(f=.25<u||f)),!(!f&&this.maxSourceExtent_&&isFinite(l[0])&&isFinite(l[1])&&isFinite(l[2])&&isFinite(l[3]))||Object(N.F)(l,this.maxSourceExtent_)){var d,_,g,y,v=0;if(!(f||isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])))if(0<c)f=!0;else if(1!=(v=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(s[0])&&isFinite(s[1])?0:1))&&2!=v&&4!=v&&8!=v)return;if(0<c)if(f||(u=[(t[0]+i[0])/2,(t[1]+i[1])/2],l=this.transformInv_(u),u=void 0,f=(u=p?(Object(pt.e)(r[0],h)+Object(pt.e)(a[0],h))/2-Object(pt.e)(l[0],h):(r[0]+a[0])/2-l[0])*u+(l=(r[1]+a[1])/2-l[1])*l>this.errorThresholdSquared_),f)return void(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])?(_=[(e[0]+i[0])/2,(e[1]+i[1])/2],y=this.transformInv_(_),d=[(n[0]+t[0])/2,(n[1]+t[1])/2],g=this.transformInv_(d),this.addQuad_(t,e,_,d,r,o,y,g,c-1),this.addQuad_(d,_,i,n,g,y,a,s,c-1)):(d=[(t[0]+e[0])/2,(t[1]+e[1])/2],_=this.transformInv_(d),g=[(i[0]+n[0])/2,(i[1]+n[1])/2],y=this.transformInv_(g),this.addQuad_(t,d,g,n,r,_,y,s,c-1),this.addQuad_(d,e,i,g,_,o,a,y,c-1)));if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&v)&&this.addTriangle_(t,i,n,r,a,s),0==(14&v)&&this.addTriangle_(t,i,e,r,a,o),v&&(0==(13&v)&&this.addTriangle_(e,n,t,o,s,r),0==(7&v)&&this.addTriangle_(e,n,i,o,s,a))}},ft.prototype.calculateSourceExtent=function(){var n=Object(N.j)();return this.triangles_.forEach(function(t,e,i){t=t.source;Object(N.r)(n,t[0]),Object(N.r)(n,t[1]),Object(N.r)(n,t[2])}),n},ft.prototype.getTriangles=function(){return this.triangles_},ft),vt={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},mt=a("38f3");function bt(t,e,i,n,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,i),t.lineTo(n,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,n)+1,Math.max(i,r)),t.restore()}function Ot(t,e){return 2<Math.abs(t[4*e]-210)||2<Math.abs(t[4*e+3]-191.25)}function Et(t,e,i,n){var r=Object(J.m)(i,e,t),i=Object(J.g)(e,n,i),e=e.getMetersPerUnit();void 0!==e&&(i*=e);e=t.getMetersPerUnit();void 0!==e&&(i/=e);e=t.getExtent();return e&&!Object(N.f)(e,r)||(r=Object(J.g)(t,i,r)/i,isFinite(r)&&0<r&&(i/=r)),i}function xt(t,e,y,v,i,m,n,r,o,s,a,b){var O=Object(z.a)(Math.round(y*t),Math.round(y*e));if(Object(mt.a)(O,b),0===o.length)return O.canvas;function E(t){return Math.round(t*y)/y}O.scale(y,y),O.globalCompositeOperation="lighter";var x=Object(N.j)();o.forEach(function(t,e,i){Object(N.q)(x,t.extent)});var t=Object(N.E)(x),e=Object(N.A)(x),C=Object(z.a)(Math.round(y*t/v),Math.round(y*e/v));Object(mt.a)(C,b);var c=y/v;o.forEach(function(t,e,i){var n=t.extent[0]-x[0],r=-(t.extent[3]-x[3]),o=Object(N.E)(t.extent),a=Object(N.A)(t.extent);0<t.image.width&&0<t.image.height&&C.drawImage(t.image,s,s,t.image.width-2*s,t.image.height-2*s,n*c,r*c,o*c,a*c)});var j=Object(N.C)(n);return r.getTriangles().forEach(function(t,e,i){var n=t.source,r=t.target,o=n[0][0],a=n[0][1],s=n[1][0],c=n[1][1],l=n[2][0],u=n[2][1],h=E((r[0][0]-j[0])/m),t=E(-(r[0][1]-j[1])/m),p=E((r[1][0]-j[0])/m),f=E(-(r[1][1]-j[1])/m),n=E((r[2][0]-j[0])/m),r=E(-(r[2][1]-j[1])/m),o=o,a=a,l=[[s-=o,c-=a,0,0,p-h],[l-=o,u-=a,0,0,n-h],[0,0,s,c,f-t],[0,0,l,u,r-t]],u=Object(pt.f)(l);if(u){if(O.save(),O.beginPath(),void 0===dt&&((l=document.createElement("canvas").getContext("2d")).globalCompositeOperation="lighter",l.fillStyle="rgba(210, 0, 0, 0.75)",bt(l,4,5,4,0),bt(l,4,5,0,5),l=l.getImageData(0,0,3,3).data,dt=Ot(l,0)||Ot(l,4)||Ot(l,8)),dt||b===vt){O.moveTo(p,f);for(var d=h-p,_=t-f,g=0;g<4;g++)O.lineTo(p+E((g+1)*d/4),f+E(g*_/3)),3!=g&&O.lineTo(p+E((g+1)*d/4),f+E((g+1)*_/3));O.lineTo(n,r)}else O.moveTo(p,f),O.lineTo(h,t),O.lineTo(n,r);O.clip(),O.transform(u[0],u[2],u[1],u[3],h,t),O.translate(x[0]-o,x[3]-a),O.scale(v/y,-v/y),O.drawImage(C.canvas,0,0),O.restore()}}),a&&(O.save(),O.globalCompositeOperation="source-over",O.strokeStyle="black",O.lineWidth=1,r.getTriangles().forEach(function(t,e,i){var n=t.target,r=(n[0][0]-j[0])/m,o=-(n[0][1]-j[1])/m,a=(n[1][0]-j[0])/m,s=-(n[1][1]-j[1])/m,t=(n[2][0]-j[0])/m,n=-(n[2][1]-j[1])/m;O.beginPath(),O.moveTo(a,s),O.lineTo(r,o),O.lineTo(t,n),O.closePath(),O.stroke()}),O.restore()),O.canvas}function Ct(t,e,i,n,r,o,a,s,c,l,u,h){var p=gt.call(this,r,nt.a.IDLE)||this;p.renderEdges_=void 0!==u&&u,p.contextOptions_=h,p.pixelRatio_=a,p.gutter_=s,p.canvas_=null,p.sourceTileGrid_=e,p.targetTileGrid_=n,p.wrappedTileCoord_=o||r,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;h=n.getTileCoordExtent(p.wrappedTileCoord_),s=p.targetTileGrid_.getExtent(),o=p.sourceTileGrid_.getExtent(),r=s?Object(N.B)(h,s):h;if(0===Object(N.u)(r))return p.state=nt.a.EMPTY,p;s=t.getExtent();s&&(o=o?Object(N.B)(o,s):s);var f,d,_,g,h=n.getResolution(p.wrappedTileCoord_[0]),s=(f=t,d=i,s=r,_=h,n=Object(N.x)(s),g=Et(f,d,n,_),(!isFinite(g)||g<=0)&&Object(N.t)(s,function(t){return g=Et(f,d,t,_),isFinite(g)&&0<g}),g);if(!isFinite(s)||s<=0)return p.state=nt.a.EMPTY,p;if(p.triangulation_=new yt(t,i,r,o,s*(void 0!==l?l:.5),h),0===p.triangulation_.getTriangles().length)return p.state=nt.a.EMPTY,p;p.sourceZ_=e.getZForResolution(s);s=p.triangulation_.calculateSourceExtent();if(o&&(t.canWrapX()?(s[1]=Object(pt.a)(s[1],o[1],o[3]),s[3]=Object(pt.a)(s[3],o[1],o[3])):s=Object(N.B)(s,o)),Object(N.u)(s)){for(var y=e.getTileRangeForExtentAndZ(s,p.sourceZ_),v=y.minX;v<=y.maxX;v++)for(var m=y.minY;m<=y.maxY;m++){var b=c(p.sourceZ_,v,m,a);b&&p.sourceTiles_.push(b)}0===p.sourceTiles_.length&&(p.state=nt.a.EMPTY)}else p.state=nt.a.EMPTY;return p}var jt=((_t=function(t,e){return(_t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}_t(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Ct,gt=U),Ct.prototype.getImage=function(){return this.canvas_},Ct.prototype.reproject_=function(){var t,e,i,n,r,o=[];this.sourceTiles_.forEach(function(t,e,i){t&&t.getState()==nt.a.LOADED&&o.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}.bind(this)),(this.sourceTiles_.length=0)===o.length?this.state=nt.a.ERROR:(r=this.wrappedTileCoord_[0],t="number"==typeof(n=this.targetTileGrid_.getTileSize(r))?n:n[0],e="number"==typeof n?n:n[1],i=this.targetTileGrid_.getResolution(r),n=this.sourceTileGrid_.getResolution(this.sourceZ_),r=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),this.canvas_=xt(t,e,this.pixelRatio_,n,this.sourceTileGrid_.getExtent(),i,r,this.triangulation_,o,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=nt.a.LOADED),this.changed()},Ct.prototype.load=function(){var o;this.state==nt.a.IDLE&&(this.state=nt.a.LOADING,this.changed(),o=0,this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(i,t,e){var n,r=i.getState();r!=nt.a.IDLE&&r!=nt.a.LOADING||(o++,n=Object(k.a)(i,et.a.CHANGE,function(t){var e=i.getState();e!=nt.a.LOADED&&e!=nt.a.ERROR&&e!=nt.a.EMPTY||(Object(k.c)(n),0===--o&&(this.unlistenSources_(),this.reproject_()))},this),this.sourcesListenerKeys_.push(n))}.bind(this)),this.sourceTiles_.forEach(function(t,e,i){t.getState()==nt.a.IDLE&&t.load()}),0===o&&setTimeout(this.reproject_.bind(this),0))},Ct.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(k.c),this.sourcesListenerKeys_=null},Ct),Tt=a("92fa");function Rt(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}var St,wt,it=(Rt.prototype.canExpireCache=function(){return 0<this.highWaterMark&&this.getCount()>this.highWaterMark},Rt.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},Rt.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},Rt.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},Rt.prototype.get=function(t,e){t=this.entries_[t];return Object(Tt.a)(void 0!==t,15),t===this.newest_?t.value_:(t===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(t.newer.older=t.older,t.older.newer=t.newer),t.newer=null,t.older=this.newest_,this.newest_.newer=t,(this.newest_=t).value_)},Rt.prototype.remove=function(t){var e=this.entries_[t];return Object(Tt.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},Rt.prototype.getCount=function(){return this.count_},Rt.prototype.getKeys=function(){for(var t=new Array(this.count_),e=0,i=this.newest_;i;i=i.older)t[e++]=i.key_;return t},Rt.prototype.getValues=function(){for(var t=new Array(this.count_),e=0,i=this.newest_;i;i=i.older)t[e++]=i.value_;return t},Rt.prototype.peekLast=function(){return this.oldest_.value_},Rt.prototype.peekLastKey=function(){return this.oldest_.key_},Rt.prototype.peekFirstKey=function(){return this.newest_.key_},Rt.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},Rt.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},Rt.prototype.set=function(t,e){Object(Tt.a)(!(t in this.entries_),16);e={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=e:this.oldest_=e,this.newest_=e,this.entries_[t]=e,++this.count_},Rt.prototype.setSize=function(t){this.highWaterMark=t},Rt),It=a("2c30");function Pt(){return null!==wt&&wt.apply(this,arguments)||this}var At,Lt,Mt=((St=function(t,e){return(St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}St(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Pt,wt=it),Pt.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().release()}},Pt.prototype.pruneExceptNewestZ=function(){var t,e;0!==this.getCount()&&(t=this.peekFirstKey(),e=Object(It.b)(t)[0],this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove(Object(It.c)(t.tileCoord)),t.release())}.bind(this)))},Pt),Ft="tileloadstart",Dt="tileloadend",Gt="tileloaderror",i=a("cef7"),U=a("ff80"),Nt=a("089b"),kt=a("345d"),it=(At=function(t,e){return(At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}At(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),U=(Lt=U.a,it(zt,Lt),zt.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},zt.prototype.expireCache=function(t,e){t=this.getTileCacheForProjection(t);t&&t.expireCache(e)},zt.prototype.forEachLoadedTile=function(t,e,i,n){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var o,a,s=!0,c=i.minX;c<=i.maxX;++c)for(var l=i.minY;l<=i.maxY;++l)o=Object(It.d)(e,c,l),a=!1,(a=r.containsKey(o)?(a=(o=r.get(o)).getState()===nt.a.LOADED)&&!1!==n(o):a)||(s=!1);return s},zt.prototype.getGutterForProjection=function(t){return 0},zt.prototype.getKey=function(){return this.key_},zt.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},zt.prototype.getOpaque=function(t){return this.opaque_},zt.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},zt.prototype.getTile=function(t,e,i,n,r){return Object(rt.b)()},zt.prototype.getTileGrid=function(){return this.tileGrid},zt.prototype.getTileGridForProjection=function(t){return this.tileGrid||Object(Nt.c)(t)},zt.prototype.getTileCacheForProjection=function(t){return Object(Tt.a)(Object(J.c)(this.getProjection(),t),68),this.tileCache},zt.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},zt.prototype.getTilePixelSize=function(t,e,i){i=this.getTileGridForProjection(i),e=this.getTilePixelRatio(e),t=Object(kt.c)(i.getTileSize(t),this.tmpSize);return 1==e?t:Object(kt.b)(t,e,this.tmpSize)},zt.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),e=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=Object(Nt.d)(e,t,i)),Object(It.f)(t,e)?t:null},zt.prototype.clear=function(){this.tileCache.clear()},zt.prototype.refresh=function(){this.clear(),Lt.prototype.refresh.call(this)},zt.prototype.updateCacheSize=function(t,e){e=this.getTileCacheForProjection(e);t>e.highWaterMark&&(e.highWaterMark=t)},zt.prototype.useTile=function(t,e,i,n){},zt);function zt(t){var e=Lt.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX})||this;e.opaque_=void 0!==t.opaque&&t.opaque,e.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,e.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;var i=t.tileGrid;return i&&Object(kt.c)(i.getTileSize(i.getMinZoom()),[256,256]),e.tileCache=new Mt(t.cacheSize||0),e.tmpSize=[0,0],e.key_=t.key||"",e.tileOptions={transition:t.transition},e.zDirection=t.zDirection||0,e}var Ut,Xt=(Ut=i.a,it(Bt,Ut),Bt);function Bt(t,e){t=Ut.call(this,t)||this;return t.tile=e,t}function Yt(t,e){for(var r,i=t.length,n=new Array(i),o=0;o<i;++o)n[o]=function(n,r){var o=/\{z\}/g,a=/\{x\}/g,s=/\{y\}/g,c=/\{-y\}/g;return function(e,t,i){if(e)return n.replace(o,e[0].toString()).replace(a,e[1].toString()).replace(s,e[2].toString()).replace(c,function(){var t=e[0],t=r.getFullTileRange(t);return Object(Tt.a)(t,55),(t.getHeight()-e[2]-1).toString()})}}(t[o],e);return 1!==(r=n).length?function(t,e,i){if(t){var n=Object(It.e)(t),n=Object(pt.e)(n,r.length);return r[n](t,e,i)}}:r[0]}var Wt,Kt,Vt,Zt,i=((Wt=function(t,e){return(Wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Wt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Ht,Kt=U),Ht.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},Ht.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},Ht.prototype.getUrls=function(){return this.urls},Ht.prototype.handleTileChange=function(t){var e,i=t.target,n=Object(rt.c)(i),t=i.getState();t==nt.a.LOADING?(this.tileLoadingKeys_[n]=!0,e=Ft):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],e=t==nt.a.ERROR?Gt:t==nt.a.LOADED?Dt:void 0),null!=e&&this.dispatchEvent(new Xt(e,i))},Ht.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},Ht.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},Ht.prototype.setUrl=function(t){t=function(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){for(var n=i[1].charCodeAt(0),r=i[2].charCodeAt(0),o=void 0,o=n;o<=r;++o)e.push(t.replace(i[0],String.fromCharCode(o)));return e}if(i=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(i[2],10),s=parseInt(i[1],10);s<=a;s++)e.push(t.replace(i[0],s.toString()));return e}return e.push(t),e}(t);this.urls=t,this.setUrls(t)},Ht.prototype.setUrls=function(t){var e=(this.urls=t).join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Yt(t,this.tileGrid),e):this.setKey(e)},Ht.prototype.tileUrlFunction=function(t,e,i){},Ht.prototype.useTile=function(t,e,i){i=Object(It.d)(t,e,i);this.tileCache.containsKey(i)&&this.tileCache.get(i)},Ht);function Ht(t){var e=Kt.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return e.generateTileUrlFunction_=e.tileUrlFunction===Ht.prototype.tileUrlFunction,e.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(e.tileUrlFunction=t.tileUrlFunction),e.urls=null,t.urls?e.setUrls(t.urls):t.url&&e.setUrl(t.url),e.tileLoadingKeys_={},e}function qt(t){var e=Zt.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction||Jt,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return e.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,e.tileClass=void 0!==t.tileClass?t.tileClass:ht,e.tileCacheForProjection={},e.tileGridForProjection={},e.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,e.contextOptions_=!1===t.imageSmoothing?vt:void 0,e.renderReprojectionEdges_=!1,e}function Jt(t,e){t.getImage().src=e}var Qt,$t,it=((Vt=function(t,e){return(Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Vt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(qt,Zt=i),qt.prototype.canExpireCache=function(){if(0,this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},qt.prototype.expireCache=function(t,e){var i,n=this.getTileCacheForProjection(t);for(i in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var r=this.tileCacheForProjection[i];r.expireCache(r==n?e:{})}},qt.prototype.getContextOptions=function(){return this.contextOptions_},qt.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Object(J.c)(this.getProjection(),t)?0:this.getGutter()},qt.prototype.getGutter=function(){return 0},qt.prototype.getKey=function(){return Zt.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},qt.prototype.getOpaque=function(t){return!(this.getProjection()&&t&&!Object(J.c)(this.getProjection(),t))&&Zt.prototype.getOpaque.call(this,t)},qt.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!Object(J.c)(e,t)){e=Object(rt.c)(t);return e in this.tileGridForProjection||(this.tileGridForProjection[e]=Object(Nt.c)(t)),this.tileGridForProjection[e]}return this.tileGrid},qt.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Object(J.c)(e,t))return this.tileCache;t=Object(rt.c)(t);return t in this.tileCacheForProjection||(this.tileCacheForProjection[t]=new Mt(this.tileCache.highWaterMark)),this.tileCacheForProjection[t]},qt.prototype.createTile_=function(t,e,i,n,r,o){e=[t,e,i],i=this.getTileCoordForTileUrlFunction(e,r),r=i?this.tileUrlFunction(i,n,r):void 0,r=new this.tileClass(e,void 0!==r?nt.a.IDLE:nt.a.EMPTY,void 0!==r?r:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return r.key=o,r.addEventListener(et.a.CHANGE,this.handleTileChange.bind(this)),r},qt.prototype.getTile=function(t,e,i,n,r){var o=this.getProjection();if(o&&r&&!Object(J.c)(o,r)){var a=this.getTileCacheForProjection(r),s=[t,e,i],c=void 0,l=Object(It.c)(s);a.containsKey(l)&&(c=a.get(l));var u=this.getKey();if(c&&c.key==u)return c;var h=this.getTileGridForProjection(o),p=this.getTileGridForProjection(r),f=this.getTileCoordForTileUrlFunction(s,r),f=new jt(o,h,r,p,s,f,this.getTilePixelRatio(n),this.getGutter(),function(t,e,i,n){return this.getTileInternal(t,e,i,n,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return f.key=u,c?(f.interimTile=c,f.refreshInterimChain(),a.replace(l,f)):a.set(l,f),f}return this.getTileInternal(t,e,i,n,o||r)},qt.prototype.getTileInternal=function(t,e,i,n,r){var o,a=null,s=Object(It.d)(t,e,i),c=this.getKey();return this.tileCache.containsKey(s)?(a=this.tileCache.get(s)).key!=c&&(o=a,a=this.createTile_(t,e,i,n,r,c),o.getState()==nt.a.IDLE?a.interimTile=o.interimTile:a.interimTile=o,a.refreshInterimChain(),this.tileCache.replace(s,a)):(a=this.createTile_(t,e,i,n,r,c),this.tileCache.set(s,a)),a},qt.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},qt.prototype.setTileGridForProjection=function(t,e){t=Object(J.f)(t);t&&((t=Object(rt.c)(t))in this.tileGridForProjection||(this.tileGridForProjection[t]=e))},qt);function te(t){var e=this,t=t||{};return(e=$t.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,imageSmoothing:t.imageSmoothing,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})||this).params_=t.params||{},e.hidpi_=void 0===t.hidpi||t.hidpi,e.tmpExtent_=Object(N.j)(),e.setKey(e.getKeyForParams_()),e}var ee,ie,ne=((Qt=function(t,e){return(Qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Qt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(te,$t=it),te.prototype.getKeyForParams_=function(){var t,e=0,i=[];for(t in this.params_)i[e++]=t+"-"+this.params_[t];return i.join("/")},te.prototype.getParams=function(){return this.params_},te.prototype.getRequestUrl_=function(t,e,i,n,r,o){var a=this.urls;if(a){r=r.getCode().split(":").pop();return o.SIZE=e[0]+","+e[1],o.BBOX=i.join(","),o.BBOXSR=r,o.IMAGESR=r,o.DPI=Math.round(o.DPI?o.DPI*n:90*n),function(t,e){var i=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))});var n=i.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+n}((1==a.length?a[0]:a[Object(pt.e)(Object(It.e)(t),a.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),o)}},te.prototype.getTilePixelRatio=function(t){return this.hidpi_?t:1},te.prototype.updateParams=function(t){Object(mt.a)(this.params_,t),this.setKey(this.getKeyForParams_())},te.prototype.tileUrlFunction=function(t,e,i){var n=this.getTileGrid();if(!((n=n||this.getTileGridForProjection(i)).getResolutions().length<=t[0])){1==e||this.hidpi_||(e=1);var r=n.getTileCoordExtent(t,this.tmpExtent_),o=Object(kt.c)(n.getTileSize(t[0]),this.tmpSize);1!=e&&(o=Object(kt.b)(o,e,this.tmpSize));n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object(mt.a)(n,this.params_),this.getRequestUrl_(t,o,r,e,i,n)}},te);function re(t){var e=t||{},i=void 0!==e.projection?e.projection:"EPSG:3857",t=void 0!==e.tileGrid?e.tileGrid:Object(Nt.a)({extent:Object(Nt.b)(i),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});return ie.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,opaque:e.opaque,projection:i,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:t,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this}var oe,ae,se=((ee=function(t,e){return(ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}ee(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(re,ie=it),re),U=(oe=function(t,e){return(oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}oe(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function ce(t){var e=t||{},i=void 0!==e.attributions?e.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],n=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",t=void 0!==e.url?e.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return ae.call(this,{attributions:i,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:n,imageSmoothing:e.imageSmoothing,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,opaque:void 0===e.opaque||e.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:t,wrapX:e.wrapX})||this}var le=(U(ce,ae=se),ce);var i=a("bc3a"),ue=a.n(i);a("ac1f"),a("1276");var he,pe=a("a2e1"),fe=a("6cbf"),de=a("ce2c"),_e=a("6c77"),ge=a("8682"),ye=a("83a6"),ve=a("8295"),me=a("5831"),be=a("3e6b"),Oe=a("ae50"),Ee=a("f623"),xe=a("a43f"),Ce=a("496f"),je=34962,Te=35048,Re=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Se(t,e){for(var i=Re.length,n=0;n<i;++n)try{var r=t.getContext(Re[n],e);if(r)return r}catch(t){}return null}var we=35044;function Ie(t,e){this.array=null,this.type=t,Object(Tt.a)(t===je||34963===t,62),this.usage=void 0!==e?e:we}function Pe(t){switch(t){case je:return Float32Array;case 34963:return Uint32Array;default:return Float32Array}}var Ae=(Ie.prototype.ofSize=function(t){this.array=new(Pe(this.type))(t)},Ie.prototype.fromArray=function(t){this.array=Pe(this.type).from(t)},Ie.prototype.fromArrayBuffer=function(t){this.array=new(Pe(this.type))(t)},Ie.prototype.getType=function(){return this.type},Ie.prototype.getArray=function(){return this.array},Ie.prototype.getUsage=function(){return this.usage},Ie.prototype.getSize=function(){return this.array?this.array.length:0},Ie),it=a("faf4"),Le=a("3333"),Me=a("070d"),Fe="webglcontextlost",De="webglcontextrestored",U=a("da5c");function Ge(e){this.gl_=e.webGlContext;var i=this.gl_;this.scaleRatio_=e.scaleRatio||1,this.renderTargetTexture_=i.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=i.createFramebuffer();var t=i.createShader(i.VERTEX_SHADER);i.shaderSource(t,e.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),i.compileShader(t);var n=i.createShader(i.FRAGMENT_SHADER);i.shaderSource(n,e.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord);\n  }\n"),i.compileShader(n),this.renderTargetProgram_=i.createProgram(),i.attachShader(this.renderTargetProgram_,t),i.attachShader(this.renderTargetProgram_,n),i.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),i.bufferData(i.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),i.STATIC_DRAW),this.renderTargetAttribLocation_=i.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=i.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetTextureLocation_=i.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],e.uniforms&&Object.keys(e.uniforms).forEach(function(t){this.uniforms_.push({value:e.uniforms[t],location:i.getUniformLocation(this.renderTargetProgram_,t)})}.bind(this))}var Ne=(Ge.prototype.getGL=function(){return this.gl_},Ge.prototype.init=function(t){var e,i,n,r=this.getGL(),o=[r.drawingBufferWidth*this.scaleRatio_,r.drawingBufferHeight*this.scaleRatio_];r.bindFramebuffer(r.FRAMEBUFFER,this.getFrameBuffer()),r.viewport(0,0,o[0],o[1]),this.renderTargetTextureSize_&&this.renderTargetTextureSize_[0]===o[0]&&this.renderTargetTextureSize_[1]===o[1]||(this.renderTargetTextureSize_=o,e=r.RGBA,i=r.RGBA,n=r.UNSIGNED_BYTE,r.bindTexture(r.TEXTURE_2D,this.renderTargetTexture_),r.texImage2D(r.TEXTURE_2D,0,e,o[0],o[1],0,i,n,null),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,this.renderTargetTexture_,0))},Ge.prototype.apply=function(t,e){var i=this.getGL(),n=t.size;i.bindFramebuffer(i.FRAMEBUFFER,e?e.getFrameBuffer():null),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.renderTargetTexture_),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),i.viewport(0,0,i.drawingBufferWidth,i.drawingBufferHeight),i.bindBuffer(i.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),i.useProgram(this.renderTargetProgram_),i.enableVertexAttribArray(this.renderTargetAttribLocation_),i.vertexAttribPointer(this.renderTargetAttribLocation_,2,i.FLOAT,!1,0,0),i.uniform2f(this.renderTargetUniformLocation_,n[0],n[1]),i.uniform1i(this.renderTargetTextureLocation_,0),this.applyUniforms(t),i.drawArrays(i.TRIANGLES,0,6)},Ge.prototype.getFrameBuffer=function(){return this.frameBuffer_},Ge.prototype.applyUniforms=function(e){var i,n=this.getGL(),r=1;this.uniforms_.forEach(function(t){if((i="function"==typeof t.value?t.value(e):t.value)instanceof HTMLCanvasElement||i instanceof ImageData)t.texture||(t.texture=n.createTexture()),n.activeTexture(n["TEXTURE"+r]),n.bindTexture(n.TEXTURE_2D,t.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),i instanceof ImageData?n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,i.width,i.height,0,n.UNSIGNED_BYTE,new Uint8Array(i.data)):n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,i),n.uniform1i(t.location,r++);else if(Array.isArray(i))switch(i.length){case 2:return void n.uniform2f(t.location,i[0],i[1]);case 3:return void n.uniform3f(t.location,i[0],i[1],i[2]);case 4:return void n.uniform4f(t.location,i[0],i[1],i[2],i[3]);default:return}else"number"==typeof i&&n.uniform1f(t.location,i)})},Ge),ke=a("a896");function ze(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}var Ue,Xe,Be=a("9f5e"),i=(Ue=function(t,e){return(Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Ue(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Ye="u_projectionMatrix",We="u_offsetScaleMatrix",Ke="u_offsetRotateMatrix",Ve="u_time",Ze="u_zoom",He="u_resolution",qe={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126};function Je(t){var e=Xe.call(this)||this,i=t||{};e.boundHandleWebGLContextLost_=e.handleWebGLContextLost.bind(e),e.boundHandleWebGLContextRestored_=e.handleWebGLContextRestored.bind(e),e.canvas_=document.createElement("canvas"),e.canvas_.style.position="absolute",e.canvas_.style.left="0",e.gl_=Se(e.canvas_);var n=e.getGL();if(e.bufferCache_={},e.currentProgram_=null,Object(Tt.a)(Object(Be.d)((he||(t=Se(document.createElement("canvas")))&&(he=t.getSupportedExtensions()),he),"OES_element_index_uint"),63),n.getExtension("OES_element_index_uint"),e.canvas_.addEventListener(Fe,e.boundHandleWebGLContextLost_),e.canvas_.addEventListener(De,e.boundHandleWebGLContextRestored_),e.offsetRotateMatrix_=Object(ke.c)(),e.offsetScaleMatrix_=Object(ke.c)(),e.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e.uniformLocations_={},e.attribLocations_={},e.uniforms_=[],i.uniforms)for(var r in i.uniforms)e.uniforms_.push({name:r,value:i.uniforms[r]});return e.postProcessPasses_=i.postProcesses?i.postProcesses.map(function(t){return new Ne({webGlContext:n,scaleRatio:t.scaleRatio,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms})}):[new Ne({webGlContext:n})],e.shaderCompileErrors_=null,e.startTime_=Date.now(),e}function Qe(t){switch(t){case qe.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case qe.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case qe.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case qe.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var $e,ti,ei=(Xe=U.a,i(Je,Xe),Je.prototype.bindBuffer=function(t){var e,i=this.getGL(),n=Object(rt.c)(t),r=this.bufferCache_[n];r||(e=i.createBuffer(),this.bufferCache_[n]=r={buffer:t,webGlBuffer:e}),i.bindBuffer(t.getType(),r.webGlBuffer)},Je.prototype.flushBufferData=function(t){var e=this.getGL();this.bindBuffer(t),e.bufferData(t.getType(),t.getArray(),t.getUsage())},Je.prototype.deleteBuffer=function(t){var e=this.getGL(),i=Object(rt.c)(t),t=this.bufferCache_[i];e.isContextLost()||e.deleteBuffer(t.buffer),delete this.bufferCache_[i]},Je.prototype.disposeInternal=function(){this.canvas_.removeEventListener(Fe,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(De,this.boundHandleWebGLContextRestored_)},Je.prototype.prepareDraw=function(t){var e=this.getGL(),i=this.getCanvas(),n=t.size,r=t.pixelRatio;i.width=n[0]*r,i.height=n[1]*r,i.style.width=n[0]+"px",i.style.height=n[1]+"px",e.useProgram(this.currentProgram_);for(var o=this.postProcessPasses_.length-1;0<=o;o--)this.postProcessPasses_[o].init(t);e.bindTexture(e.TEXTURE_2D,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),e.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},Je.prototype.prepareDrawToRenderTarget=function(t,e,i){var n=this.getGL(),r=e.getSize();n.bindFramebuffer(n.FRAMEBUFFER,e.getFramebuffer()),n.viewport(0,0,r[0],r[1]),n.bindTexture(n.TEXTURE_2D,e.getTexture()),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.ONE,i?n.ZERO:n.ONE_MINUS_SRC_ALPHA),n.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},Je.prototype.drawElements=function(t,e){var i=this.getGL(),n=i.UNSIGNED_INT;i.drawElements(i.TRIANGLES,e-t,n,4*t)},Je.prototype.finalizeDraw=function(t){for(var e=0;e<this.postProcessPasses_.length;e++)this.postProcessPasses_[e].apply(t,this.postProcessPasses_[e+1]||null)},Je.prototype.getCanvas=function(){return this.canvas_},Je.prototype.getGL=function(){return this.gl_},Je.prototype.applyFrameState=function(t){var e=t.size,i=t.viewState.rotation,n=Object(ke.g)(this.offsetScaleMatrix_);Object(ke.i)(n,2/e[0],2/e[1]);e=Object(ke.g)(this.offsetRotateMatrix_);0!==i&&Object(ke.h)(e,-i),this.setUniformMatrixValue(We,ze(this.tmpMat4_,n)),this.setUniformMatrixValue(Ke,ze(this.tmpMat4_,e)),this.setUniformFloatValue(Ve,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(Ze,t.viewState.zoom),this.setUniformFloatValue(He,t.viewState.resolution)},Je.prototype.applyUniforms=function(e){var i,n=this.getGL(),r=0;this.uniforms_.forEach(function(t){if((i="function"==typeof t.value?t.value(e):t.value)instanceof HTMLCanvasElement||i instanceof HTMLImageElement||i instanceof ImageData)t.texture||(t.prevValue=void 0,t.texture=n.createTexture()),n.activeTexture(n["TEXTURE"+r]),n.bindTexture(n.TEXTURE_2D,t.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),i instanceof HTMLImageElement&&!i.complete||t.prevValue===i||(t.prevValue=i,n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,i)),n.uniform1i(this.getUniformLocation(t.name),r++);else if(Array.isArray(i)&&6===i.length)this.setUniformMatrixValue(t.name,ze(this.tmpMat4_,i));else if(Array.isArray(i)&&i.length<=4)switch(i.length){case 2:return void n.uniform2f(this.getUniformLocation(t.name),i[0],i[1]);case 3:return void n.uniform3f(this.getUniformLocation(t.name),i[0],i[1],i[2]);case 4:return void n.uniform4f(this.getUniformLocation(t.name),i[0],i[1],i[2],i[3]);default:return}else"number"==typeof i&&n.uniform1f(this.getUniformLocation(t.name),i)}.bind(this))},Je.prototype.useProgram=function(t){return t!=this.currentProgram_&&(this.getGL().useProgram(t),this.currentProgram_=t,this.uniformLocations_={},this.attribLocations_={},!0)},Je.prototype.compileShader=function(t,e){var i=this.getGL(),e=i.createShader(e);return i.shaderSource(e,t),i.compileShader(e),e},Je.prototype.getProgram=function(t,e){var i=this.getGL(),n=this.compileShader(t,i.FRAGMENT_SHADER),t=this.compileShader(e,i.VERTEX_SHADER);this.shaderCompileErrors_=null,i.getShaderInfoLog(n)&&(this.shaderCompileErrors_="Fragment shader compilation failed:\n"+i.getShaderInfoLog(n)),i.getShaderInfoLog(t)&&(this.shaderCompileErrors_=(this.shaderCompileErrors_||"")+("Vertex shader compilation failed:\n"+i.getShaderInfoLog(t)));e=i.createProgram();return i.attachShader(e,n),i.attachShader(e,t),i.linkProgram(e),e},Je.prototype.getShaderCompileErrors=function(){return this.shaderCompileErrors_},Je.prototype.getUniformLocation=function(t){return void 0===this.uniformLocations_[t]&&(this.uniformLocations_[t]=this.getGL().getUniformLocation(this.currentProgram_,t)),this.uniformLocations_[t]},Je.prototype.getAttributeLocation=function(t){return void 0===this.attribLocations_[t]&&(this.attribLocations_[t]=this.getGL().getAttribLocation(this.currentProgram_,t)),this.attribLocations_[t]},Je.prototype.makeProjectionTransform=function(t,e){var i=t.size,n=t.viewState.rotation,r=t.viewState.resolution,t=t.viewState.center;return Object(ke.g)(e),Object(ke.b)(e,0,0,2/(r*i[0]),2/(r*i[1]),-n,-t[0],-t[1]),e},Je.prototype.setUniformFloatValue=function(t,e){this.getGL().uniform1f(this.getUniformLocation(t),e)},Je.prototype.setUniformMatrixValue=function(t,e){this.getGL().uniformMatrix4fv(this.getUniformLocation(t),!1,e)},Je.prototype.enableAttributeArray_=function(t,e,i,n,r){t=this.getAttributeLocation(t);t<0||(this.getGL().enableVertexAttribArray(t),this.getGL().vertexAttribPointer(t,e,i,!1,n,r))},Je.prototype.enableAttributes=function(t){for(var e=function(t){for(var e=0,i=0;i<t.length;i++){var n=t[i];e+=n.size*Qe(n.type)}return e}(t),i=0,n=0;n<t.length;n++){var r=t[n];this.enableAttributeArray_(r.name,r.size,r.type||5126,e,i),i+=r.size*Qe(r.type)}},Je.prototype.handleWebGLContextLost=function(){Object(mt.b)(this.bufferCache_),this.currentProgram_=null},Je.prototype.handleWebGLContextRestored=function(){},Je.prototype.createTexture=function(t,e,i){var n=this.getGL(),r=i||n.createTexture(),o=n.RGBA,a=n.RGBA,i=n.UNSIGNED_BYTE;return n.bindTexture(n.TEXTURE_2D,r),e?n.texImage2D(n.TEXTURE_2D,0,o,a,i,e):n.texImage2D(n.TEXTURE_2D,0,o,t[0],t[1],0,a,i,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),r},Je),i=($e=function(t,e){return($e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}$e(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),ii="GENERATE_BUFFERS",it=(ti=it.a,i(ni,ti),ni.prototype.disposeInternal=function(){this.helper.dispose(),ti.prototype.disposeInternal.call(this)},ni.prototype.getShaderCompileErrors=function(){return this.helper.getShaderCompileErrors()},ni.prototype.dispatchRenderEvent_=function(t,e){var i=this.getLayer();i.hasListener(t)&&(e=new Le.a(t,null,e,null),i.dispatchEvent(e))},ni.prototype.preRender=function(t){this.dispatchRenderEvent_(Me.a.PRERENDER,t)},ni.prototype.postRender=function(t){this.dispatchRenderEvent_(Me.a.POSTRENDER,t)},ni);function ni(t,e){t=ti.call(this,t)||this,e=e||{};return t.helper=new ei({postProcesses:e.postProcesses,uniforms:e.uniforms}),void 0!==e.className&&(t.helper.getCanvas().className=e.className),t}var i=it,ri=new Uint8Array(4);function oi(t,e){t=(this.helper_=t).getGL();this.texture_=t.createTexture(),this.framebuffer_=t.createFramebuffer(),this.size_=e||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}var ai,si,ci=(oi.prototype.setSize=function(t){Object(Be.b)(t,this.size_)||(this.size_[0]=t[0],this.size_[1]=t[1],this.updateSize_())},oi.prototype.getSize=function(){return this.size_},oi.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},oi.prototype.readAll=function(){var t,e;return this.dataCacheDirty_&&(t=this.size_,(e=this.helper_.getGL()).bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.readPixels(0,0,t[0],t[1],e.RGBA,e.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1),this.data_},oi.prototype.readPixel=function(t,e){if(t<0||e<0||t>this.size_[0]||e>=this.size_[1])return ri[0]=0,ri[1]=0,ri[2]=0,ri[3]=0,ri;this.readAll();e=Math.floor(t)+(this.size_[1]-Math.floor(e)-1)*this.size_[0];return ri[0]=this.data_[4*e],ri[1]=this.data_[4*e+1],ri[2]=this.data_[4*e+2],ri[3]=this.data_[4*e+3],ri},oi.prototype.getTexture=function(){return this.texture_},oi.prototype.getFramebuffer=function(){return this.framebuffer_},oi.prototype.updateSize_=function(){var t=this.size_,e=this.helper_.getGL();this.texture_=this.helper_.createTexture(t,null,this.texture_),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.viewport(0,0,t[0],t[1]),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(t[0]*t[1]*4)},oi),it=new Blob(['var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'],{type:"application/javascript"}),li=URL.createObjectURL(it);function ui(t,e){var i=this,n=e.uniforms||{},r=Object(ke.c)();n[Ye]=r,(i=si.call(this,t,{className:e.className,uniforms:n,postProcesses:e.postProcesses})||this).sourceRevision_=-1,i.verticesBuffer_=new Ae(je,Te),i.hitVerticesBuffer_=new Ae(je,Te),i.indicesBuffer_=new Ae(34963,Te),i.program_=i.helper.getProgram(e.fragmentShader,e.vertexShader),i.hitDetectionEnabled_=!(!e.hitFragmentShader||!e.hitVertexShader),i.hitProgram_=i.hitDetectionEnabled_&&i.helper.getProgram(e.hitFragmentShader,e.hitVertexShader);n=e.attributes?e.attributes.map(function(t){return{name:"a_"+t.name,size:1,type:qe.FLOAT}}):[];i.attributes=[{name:"a_position",size:2,type:qe.FLOAT},{name:"a_index",size:1,type:qe.FLOAT}].concat(n),i.hitDetectionAttributes=[{name:"a_position",size:2,type:qe.FLOAT},{name:"a_index",size:1,type:qe.FLOAT},{name:"a_hitColor",size:4,type:qe.FLOAT},{name:"a_featureUid",size:1,type:qe.FLOAT}].concat(n),i.customAttributes=e.attributes||[],i.previousExtent_=Object(N.j)(),i.currentTransform_=r,i.renderTransform_=Object(ke.c)(),i.invertRenderTransform_=Object(ke.c)(),i.renderInstructions_=new Float32Array(0),i.hitRenderInstructions_=new Float32Array(0),i.hitRenderTarget_=i.hitDetectionEnabled_&&new ci(i.helper),i.worker_=new Worker(li),i.worker_.addEventListener("message",function(t){var e,i=t.data;i.type===ii&&(e=i.projectionTransform,i.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(i.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(i.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(i.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=e,Object(ke.d)(this.invertRenderTransform_,this.renderTransform_),i.hitDetection?this.hitRenderInstructions_=new Float32Array(t.data.renderInstructions):this.renderInstructions_=new Float32Array(t.data.renderInstructions),this.getLayer().changed())}.bind(i)),i.featureCache_={},i.featureCount_=0;r=i.getLayer().getSource();return i.sourceListenKeys_=[Object(k.a)(r,xe.a.ADDFEATURE,i.handleSourceFeatureAdded_,i),Object(k.a)(r,xe.a.CHANGEFEATURE,i.handleSourceFeatureChanged_,i),Object(k.a)(r,xe.a.REMOVEFEATURE,i.handleSourceFeatureDelete_,i),Object(k.a)(r,xe.a.CLEAR,i.handleSourceFeatureClear_,i)],r.forEachFeature(function(t){this.featureCache_[Object(rt.c)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++}.bind(i)),i}var hi,pi,fi=((ai=function(t,e){return(ai=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}ai(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(ui,si=i),ui.prototype.handleSourceFeatureAdded_=function(t){t=t.feature;this.featureCache_[Object(rt.c)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++},ui.prototype.handleSourceFeatureChanged_=function(t){t=t.feature;this.featureCache_[Object(rt.c)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()}},ui.prototype.handleSourceFeatureDelete_=function(t){t=t.feature;delete this.featureCache_[Object(rt.c)(t)],this.featureCount_--},ui.prototype.handleSourceFeatureClear_=function(){this.featureCache_={},this.featureCount_=0},ui.prototype.renderFrame=function(t){this.preRender(t);var e=this.indicesBuffer_.getSize();this.helper.drawElements(0,e),this.helper.finalizeDraw(t);var i=this.helper.getCanvas(),e=t.layerStatesArray[t.layerIndex].opacity;return e!==parseFloat(i.style.opacity)&&(i.style.opacity=String(e)),this.hitDetectionEnabled_&&(this.renderHitDetection(t),this.hitRenderTarget_.clearCachedData()),this.postRender(t),i},ui.prototype.prepareFrame=function(t){var e=this.getLayer(),i=e.getSource(),n=t.viewState,r=!t.viewHints[Ce.a.ANIMATING]&&!t.viewHints[Ce.a.INTERACTING],o=!Object(N.p)(this.previousExtent_,t.extent),a=this.sourceRevision_<i.getRevision();return a&&(this.sourceRevision_=i.getRevision()),r&&(o||a)&&(a=n.projection,n=n.resolution,e=e instanceof Oe.a?e.getRenderBuffer():0,e=Object(N.c)(t.extent,e*n),i.loadFeatures(e,n,a),this.rebuildBuffers_(t),this.previousExtent_=t.extent.slice()),this.helper.makeProjectionTransform(t,this.currentTransform_),Object(ke.f)(this.currentTransform_,this.invertRenderTransform_),this.helper.useProgram(this.program_),this.helper.prepareDraw(t),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},ui.prototype.rebuildBuffers_=function(t){var e=Object(ke.c)();this.helper.makeProjectionTransform(t,e);var i,t=(2+this.customAttributes.length)*this.featureCount_;this.renderInstructions_&&this.renderInstructions_.length===t||(this.renderInstructions_=new Float32Array(t)),this.hitDetectionEnabled_&&(f=(7+this.customAttributes.length)*this.featureCount_,this.hitRenderInstructions_&&this.hitRenderInstructions_.length===f||(this.hitRenderInstructions_=new Float32Array(f)));var n,r,o,a,s=[],c=[],l=0,u=0;for(n in this.featureCache_)if((o=(i=this.featureCache_[n]).geometry)&&o.getType()===Ee.a.POINT){s[0]=o.getFlatCoordinates()[0],s[1]=o.getFlatCoordinates()[1],Object(ke.a)(e,s),r=u+6,a=void 0,a=(o=c)||[],o=256,a[0]=Math.floor(r/o/o/o)/255,a[1]=Math.floor(r/o/o)%o/255,a[2]=Math.floor(r/o)%o/255,a[3]=r%o/255,a=a,this.renderInstructions_[l++]=s[0],this.renderInstructions_[l++]=s[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[u++]=s[0],this.hitRenderInstructions_[u++]=s[1],this.hitRenderInstructions_[u++]=a[0],this.hitRenderInstructions_[u++]=a[1],this.hitRenderInstructions_[u++]=a[2],this.hitRenderInstructions_[u++]=a[3],this.hitRenderInstructions_[u++]=Number(n));for(var h,p=0;p<this.customAttributes.length;p++)h=this.customAttributes[p].callback(i.feature,i.properties),this.renderInstructions_[l++]=h,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[u++]=h)}var f={type:ii,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};f.projectionTransform=e,this.worker_.postMessage(f,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_&&((f={type:ii,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length}).projectionTransform=e,f.hitDetection=!0,this.worker_.postMessage(f,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null)},ui.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){if(Object(Tt.a)(this.hitDetectionEnabled_,66),this.hitRenderInstructions_){e=Object(ke.a)(e.coordinateToPixelTransform,t.slice()),t=this.hitRenderTarget_.readPixel(e[0]/2,e[1]/2),e=[t[0]/255,t[1]/255,t[2]/255,t[3]/255],e=(t=e,e=0,e+=Math.round(256*t[0]*256*256*255),e+=Math.round(256*t[1]*256*255),e+=Math.round(256*t[2]*255),e+=Math.round(255*t[3])),e=this.hitRenderInstructions_[e],e=Math.floor(e).toString(),e=this.getLayer().getSource().getFeatureByUid(e);return e?n(e,this.getLayer(),null):void 0}},ui.prototype.renderHitDetection=function(t){this.hitVerticesBuffer_.getSize()&&(this.hitRenderTarget_.setSize([Math.floor(t.size[0]/2),Math.floor(t.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(t,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes),t=this.indicesBuffer_.getSize(),this.helper.drawElements(0,t))},ui.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach(function(t){Object(k.c)(t)}),this.sourceListenKeys_=null,si.prototype.disposeInternal.call(this)},ui),it=(hi=function(t,e){return(hi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}hi(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),di="blur",_i="gradient",gi="radius",yi=["#00f","#0ff","#0f0","#ff0","#f00"];function vi(t){var e=this,i=t||{},t=Object(mt.a)({},i);delete t.gradient,delete t.radius,delete t.blur,delete t.weight,(e=pi.call(this,t)||this).gradient_=null,e.addEventListener(Object(T.b)(_i),e.handleGradientChanged_),e.setGradient(i.gradient||yi),e.setBlur(void 0!==i.blur?i.blur:15),e.setRadius(void 0!==i.radius?i.radius:8);var n=i.weight||"weight";return e.weightFunction_="string"==typeof n?function(t){return t.get(n)}:n,e.setRenderOrder(null),e}var mi=(pi=be.a,it(vi,pi),vi.prototype.getBlur=function(){return this.get(di)},vi.prototype.getGradient=function(){return this.get(_i)},vi.prototype.getRadius=function(){return this.get(gi)},vi.prototype.handleGradientChanged_=function(){this.gradient_=function(t){for(var e=Object(z.a)(1,256),i=e.createLinearGradient(0,0,1,256),n=1/(t.length-1),r=0,o=t.length;r<o;++r)i.addColorStop(r*n,t[r]);return e.fillStyle=i,e.fillRect(0,0,1,256),e.canvas}(this.getGradient())},vi.prototype.setBlur=function(t){this.set(di,t)},vi.prototype.setGradient=function(t){this.set(_i,t)},vi.prototype.setRadius=function(t){this.set(gi,t)},vi.prototype.createRenderer=function(){return new fi(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(t){t=this.weightFunction_(t);return void 0!==t?Object(pt.a)(t,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_weight = a_weight;\n        }",fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor = vec4(alpha, alpha, alpha, alpha);\n        }",hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_hitColor = a_hitColor;\n          v_weight = a_weight;\n        }",hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha < 0.05) {\n            discard;\n          }\n\n          gl_FragColor = v_hitColor;\n        }",uniforms:{u_size:function(){return 2*(this.get(gi)+this.get(di))}.bind(this),u_blurSlope:function(){return this.get(gi)/Math.max(1,this.get(di))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this)}}]})},vi.prototype.renderDeclutter=function(){},vi);var i={name:"MapCanvas",emits:["hoverOn","heatMap"],computed:Object(x.a)(Object(x.a)({},Object(C.b)(["zoomCenter","cityId","layersInMap"])),{},{heatMapProps:function(){return this.heatMap?this.heatMap.getProperties():{}}}),data:function(){return{map:null,popup:null,heatMap:null,pointCoord:void 0,popupVisible:!0,featureProps:void 0}},created:function(){this.vectorBublelist("district"),this.vectorBublelist("bizcircle"),this.vectorBublelist("community")},mounted:function(){var t;this.map=new j.a({target:"mapCanvas",layers:[new tt.a({title:"高德卫星",type:"卫星底图",source:new se({url:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=6&x={x}&y={y}&z={z}",wrapX:!1,crossOrigin:"anonymous"})}),new tt.a({title:"离线地图",type:"地图底图"}),new tt.a({title:"高德地图",type:"地图底图",source:new se({url:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}",wrapX:!1,crossOrigin:"anonymous"})}),new tt.a({title:"OSM地图",type:"地图底图",source:new le}),new tt.a({title:"ArcGIS地图",type:"地图底图",source:new ne({url:"https://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer",crossOrigin:"anonymous"})})],view:(t=this.zoomCenter,new $.a({projection:"EPSG:4326",center:t,zoom:11.5}))}),this.sentLayersIn(),this.initOverlay(),this.clickFeature(),this.highlightFeature()},methods:{vectorBublelist:function(r){var o,t;this.cityId&&(t={cityId:this.cityId,groupType:r},o=this,t=t,ue()({url:"http://localhost:8083/bublelist",method:"get",params:t}).then(function(t){var e,i,n;0!=t.data.length&&(e=function(t,e){var i,n=[],r=void 0;t.forEach(function(t){t={type:"Feature",properties:t,geometry:{type:"GeometryCollection",geometries:[{type:"Polygon",coordinates:t.border&&"community"!==t.groupType?[t.border.split(";").map(function(t){return t.split(",")})]:[]},{type:"Point",coordinates:[t.lng,t.lat]}]}};n.push(t)});var r="community"===e?(i=13,new fe.a({scale:.6,offset:[-20,-40],offsetOrigin:"bottom-right",size:[100,100],opacity:1,src:a("1b8e")})):(i=11,new de.a({radius:0,fill:null})),t={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:n},o={GeometryCollection:new _e.b({image:r,stroke:new ge.a({color:"rgba(143, 38, 17)",width:2}),fill:new ye.a({color:"rgba(245, 241, 137, 0.1)"})})},t=new me.a({features:(new pe.a).readFeatures(t)});return new be.a({title:e,zIndex:i,source:t,style:function(t){return o[t.getGeometry().getType()]}})}(t.data,r),"community"===r&&(o.heatMap=(t=t.data,i="count",n=[],t.forEach(function(t){t={type:"Feature",properties:t,geometry:{type:"Point",coordinates:[t.lng,t.lat]}};n.push(t)}),t={type:"FeatureCollection",crs:{type:"name",properties:{name:"EPSG:4326"}},features:n},t=new me.a({features:(new pe.a).readFeatures(t)}),new mi({title:"热点图",zIndex:12,source:t,radius:30,blur:30,weight:function(t){return parseFloat(t.get(i))}})),o.map.addLayer(o.heatMap)),o.map.addLayer(e),o.sentLayersIn())}))},initOverlay:function(){this.popup=new q({element:this.$refs.popupRef,autoPan:!0,autoPanAnimation:{duration:250}}),this.map.addOverlay(this.popup)},clickFeature:function(){var i=this;this.map.on("singleclick",function(t){var e=t.coordinate,t=i.map.getEventPixel(t.originalEvent),t=i.map.forEachFeatureAtPixel(t,function(t){return t});t?(i.featureProps=t.getProperties(),i.popup.setPosition(e)):(i.featureProps=void 0,i.closePopup())})},highlightFeature:function(){var e,i,n=this,r=(i=new _e.b({stroke:new ge.a({color:"#f00",width:4}),fill:new ye.a({color:"rgba(255,0,0,0.1)"}),text:new ve.a({font:"14px 微软雅黑",fill:new ye.a({color:"#000"}),stroke:new ge.a({color:"#f00",width:3})})}),new be.a({zIndex:100,source:new me.a,style:function(t){return i.getText().setText(t.get("name")+" : "+t.get("count")+t.get("countUnit")),i}}));this.map.addLayer(r);this.map.on("pointermove",function(t){n.pointCoord=t.coordinate,t.dragging||(t=n.map.getEventPixel(t.originalEvent),t=n.map.forEachFeatureAtPixel(t,function(t){return t}),(t=t)!==e&&(e&&r.getSource().removeFeature(e),t&&r.getSource().addFeature(t),e=t))})},closePopup:function(){this.popup.setPosition(void 0)},setHeatMap:function(t,e){this.heatMap.setRadius(parseInt(t)),this.heatMap.setBlur(parseInt(e))},sentLayersIn:function(){var i=[];this.map.getLayers().forEach(function(t){var e=t.values_;e.title&&(t={title:e.title,type:e.type||"输出图层",disabled:!e.source,selected:!1,opacity:e.opacity},"高德地图"===e.title&&(t.selected=!0),i.push(t))}),this.$store.commit("SET_LAYERSINMAP",i)},setLayers:function(){var n=this;this.map.getLayers().forEach(function(t){var e,i=t.values_.title;i&&((e=n.layersInMap.filter(function(t){return t.title===i})).length?(t.setVisible(e[0].selected),t.setOpacity(parseFloat(e[0].opacity))):t.setVisible(!1))})},toTable:function(){this.$store.commit("SET_GLOBALQUERYPARAMS",void 0),this.$store.commit("SET_GLOBALQUERYKEY",void 0),this.$store.commit("SET_GLOBALQUERYRESBLOCKID",this.featureProps.unId),this.$router.push({path:"/tableView"})}},watch:{layersInMap:{handler:function(t){this.setLayers()},deep:!0},pointCoord:function(t){this.$emit("hoverOn",Object(Q.f)(t))},heatMapProps:{handler:function(t){this.$emit("heatMap",this.heatMapProps)},deep:!0}}},it=(a("8728"),a("6b0d")),it=a.n(it),i=it()(i,[["render",E],["__scopeId","data-v-f2fce040"]]),bi=Object(h.gb)("data-v-185c59cf");Object(h.H)("data-v-185c59cf");var Oi={class:"mapLayerSelection"},Ei={key:0},xi={key:0},Ci={key:1};Object(h.F)();E=bi(function(t,i,e,n,r,o){var a=Object(h.N)("el-button"),s=Object(h.N)("el-checkbox"),c=Object(h.N)("el-tree"),l=Object(h.N)("el-popover"),u=Object(h.O)("divDrag");return Object(h.db)((Object(h.E)(),Object(h.i)("span",Oi,[Object(h.n)(l,{placement:"bottom-end",title:"图层",width:300,trigger:"click",visible:r.visible,"onUpdate:visible":i[2]||(i[2]=function(t){return r.visible=t})},{reference:bi(function(){return[Object(h.n)(a,{circle:"",icon:"el-icon-copy-document"})]}),default:bi(function(){return[Object(h.n)(c,{ref:"treeRef",data:r.treeData,"node-key":"title","default-expanded-keys":["地图底图"],props:r.defaultProps,"icon-class":"el-icon-folder-opened"},{default:bi(function(t){var e=t.data;return[e.children?(Object(h.E)(),Object(h.i)("span",Ci,[Object(h.n)(s,{indeterminate:e.indeterminate,modelValue:e.selected,"onUpdate:modelValue":function(t){return e.selected=t},disabled:e.disabled,onChange:function(t){return o.updateChildrenChecked(e)}},{default:bi(function(){return[Object(h.m)(Object(h.R)(e.title),1)]}),_:2},1032,["indeterminate","modelValue","onUpdate:modelValue","disabled","onChange"])])):(Object(h.E)(),Object(h.i)("span",Ei,[Object(h.n)(s,{modelValue:e.selected,"onUpdate:modelValue":function(t){return e.selected=t},disabled:e.disabled,onChange:i[1]||(i[1]=function(t){return o.updateParentChecked()})},{default:bi(function(){return[Object(h.m)(Object(h.R)(e.title),1)]}),_:2},1032,["modelValue","onUpdate:modelValue","disabled"]),e.selected?(Object(h.E)(),Object(h.i)("span",xi,[Object(h.db)(Object(h.n)("input",{"onUpdate:modelValue":function(t){return e.opacity=t},type:"range",min:"0",max:"1",step:"0.01"},null,8,["onUpdate:modelValue"]),[[h.Y,e.opacity]])])):Object(h.j)("",!0)]))]}),_:1},8,["data","props"])]}),_:1},8,["visible"])],512)),[[u,o.dragAlongside]])});function ji(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");a("fb6a");function Ti(t){return function(t){if(Array.isArray(t))return ji(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ji(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ji(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}C={name:"MapLayerSelection",computed:Object(x.a)(Object(x.a)({},Object(C.b)(["layersInMap"])),{},{dragAlongside:function(){return this.visible?"disabled":""}}),data:function(){return{visible:!1,layersIn:void 0,treeData:void 0,defaultProps:{children:"children"}}},mounted:function(){this.initTreeData()},methods:{initTreeData:function(){this.treeData=[{title:"卫星底图",children:this.layersInMap.filter(function(t){return"卫星底图"===t.type})},{title:"地图底图",children:this.layersInMap.filter(function(t){return"地图底图"===t.type})},{title:"输出图层",children:this.layersInMap.filter(function(t){return"输出图层"===t.type})}],this.updateParentChecked()},updateParentChecked:function(){this.treeData.forEach(function(t){var e=t.children.filter(function(t){return t.selected}).length;0===e?(t.selected=!1,t.indeterminate=!1):e===t.children.length?(t.selected=!0,t.indeterminate=!1):t.indeterminate=!0,t.disabled=!!t.children.filter(function(t){return t.disabled}).length})},updateChildrenChecked:function(e){this.treeData.forEach(function(t){t.title===e.title&&t.children.forEach(function(t){t.selected=e.selected})})},updateLayersIn:function(){var i=this;this.layersIn=[],this.treeData.forEach(function(t){var e;(e=i.layersIn).push.apply(e,Ti(t.children))}),this.$store.commit("SET_LAYERSINMAP",this.layersIn)}},watch:{visible:function(t){t&&this.initTreeData()},treeData:{handler:function(){this.updateLayersIn()},deep:!0}}},a("af4e"),E={name:"Map",components:{QueryBtn:r.a,MapCanvas:i,MapLayerSelection:it()(C,[["render",E],["__scopeId","data-v-185c59cf"]])},data:function(){return{heatmap:{visible:!1,radius:40,blur:40},clickCoord:void 0}},methods:{handleHeatmap:function(t){this.heatmap.visible=t.visible,this.heatmap.radius=t.radius,this.heatmap.blur=t.blur}},watch:{heatmap:{handler:function(t){this.$refs.mapCanvasRef.setHeatMap(t.radius,t.blur)},deep:!0}}},a("a13a"),e.default=it()(E,[["render",n],["__scopeId","data-v-52b8186e"]])},"0414":function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r});var n=42,r=256},"045d":function(t,e,i){"use strict";e.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},"070d":function(t,e,i){"use strict";e.a={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},"089b":function(t,e,i){"use strict";i.d(e,"c",function(){return s}),i.d(e,"d",function(){return c}),i.d(e,"a",function(){return p}),i.d(e,"b",function(){return d});var o=i("3820"),a=i("78db"),n=i("fced"),l=i("0414"),r=i("256f"),u=i("0af5"),h=i("345d");function s(t){var e,i,n,r=t.getDefaultTileGrid();return r||(r=function(t,e,i,n){n=void 0!==n?n:o.a.TOP_LEFT,e=f(t,e,i);return new a.a({extent:t,origin:Object(u.y)(t,n),resolutions:e,tileSize:i})}(d(t),e,i,n),t.setDefaultTileGrid(r)),r}function c(t,e,i){var n=e[0],r=t.getTileCoordCenter(e),i=d(i);if(Object(u.f)(i,r))return e;e=Object(u.E)(i),i=Math.ceil((i[0]-r[0])/e);return r[0]+=e*i,t.getTileCoordForCoordAndZ(r,n)}function p(t){var e=t||{},t=e.extent||Object(r.f)("EPSG:3857").getExtent(),e={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:f(t,e.maxZoom,e.tileSize,e.maxResolution)};return new a.a(e)}function f(t,e,i,n){for(var r=void 0!==e?e:l.a,e=Object(u.A)(t),t=Object(u.E)(t),i=Object(h.c)(void 0!==i?i:l.b),o=0<n?n:Math.max(t/i[0],e/i[1]),a=r+1,s=new Array(a),c=0;c<a;++c)s[c]=o/Math.pow(2,c);return s}function d(t){var e=(t=Object(r.f)(t)).getExtent();return e||(t=180*r.a[n.b.DEGREES]/t.getMetersPerUnit(),e=Object(u.k)(-t,-t,t,t)),e}},"0999":function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"c",function(){return o}),i.d(e,"b",function(){return a}),i.d(e,"g",function(){return s}),i.d(e,"e",function(){return c}),i.d(e,"d",function(){return l}),i.d(e,"f",function(){return u});var n=i("617d");function r(t,e,i){i=i&&i.length?i.shift():n.g?new OffscreenCanvas(t||300,e||300):document.createElement("canvas");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function o(t){var e=t.offsetWidth,t=getComputedStyle(t);return e+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10)}function a(t){var e=t.offsetHeight,t=getComputedStyle(t);return e+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)}function s(t,e){var i=e.parentNode;i&&i.replaceChild(t,e)}function c(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function l(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function u(t,e){for(var i=t.childNodes,n=0;;++n){var r=i[n],o=e[n];if(!r&&!o)break;r!==o&&(r?o?t.insertBefore(o,r):(t.removeChild(r),--n):t.appendChild(o))}}},"0a9d":function(t,e,i){"use strict";i.d(e,"a",function(){return l}),i.d(e,"b",function(){return n});var E=i("25f1"),x=i("9f5e");function l(t,e,i,n,r,o,a){for(var s,c,l,u=r[o+1],h=[],p=0,f=i.length;p<f;++p)for(var d=i[p],_=t[d-n],g=t[d-n+1],y=e;y<d;y+=n)b=t[y],l=t[y+1],(u<=g&&l<=u||g<=u&&u<=l)&&h.push(c=(u-g)/(l-g)*(b-_)+_),_=b,g=l;var v=NaN,m=-1/0;for(h.sort(x.g),_=h[0],y=1,s=h.length;y<s;++y){var b=h[y],O=Math.abs(b-_);m<O&&(c=(_+b)/2,Object(E.c)(t,e,i,n,c,u)&&(v=c,m=O)),_=b}return isNaN(v)&&(v=r[o]),a?(a.push(v,u,m),a):[v,u,m]}function n(t,e,i,n,r){for(var o=[],a=0,s=i.length;a<s;++a){var c=i[a],o=l(t,e,c,n,r,2*a,o);e=c[c.length-1]}return o}},"0af5":function(t,e,i){"use strict";i.d(e,"b",function(){return o}),i.d(e,"c",function(){return a}),i.d(e,"d",function(){return s}),i.d(e,"e",function(){return c}),i.d(e,"f",function(){return l}),i.d(e,"g",function(){return u}),i.d(e,"h",function(){return h}),i.d(e,"i",function(){return f}),i.d(e,"j",function(){return d}),i.d(e,"k",function(){return _}),i.d(e,"l",function(){return g}),i.d(e,"m",function(){return y}),i.d(e,"n",function(){return v}),i.d(e,"o",function(){return m}),i.d(e,"p",function(){return b}),i.d(e,"q",function(){return O}),i.d(e,"r",function(){return E}),i.d(e,"s",function(){return C}),i.d(e,"t",function(){return j}),i.d(e,"u",function(){return T}),i.d(e,"v",function(){return R}),i.d(e,"w",function(){return S}),i.d(e,"x",function(){return w}),i.d(e,"y",function(){return I}),i.d(e,"z",function(){return P}),i.d(e,"A",function(){return A}),i.d(e,"B",function(){return L}),i.d(e,"C",function(){return M}),i.d(e,"D",function(){return F}),i.d(e,"E",function(){return D}),i.d(e,"F",function(){return G}),i.d(e,"H",function(){return N}),i.d(e,"I",function(){return k}),i.d(e,"J",function(){return z}),i.d(e,"G",function(){return U}),i.d(e,"a",function(){return X}),i.d(e,"K",function(){return B});var n=i("3820"),p=i("045d"),r=i("92fa");function o(t){for(var e=d(),i=0,n=t.length;i<n;++i)E(e,t[i]);return e}function a(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function s(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function c(t,e,i){e=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,t=i<t[1]?t[1]-i:t[3]<i?i-t[3]:0;return e*e+t*t}function l(t,e){return h(t,e[0],e[1])}function u(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function h(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function f(t,e){var i=t[0],n=t[1],r=t[2],o=t[3],a=e[0],t=e[1],e=p.a.UNKNOWN;return a<i?e|=p.a.LEFT:r<a&&(e|=p.a.RIGHT),t<n?e|=p.a.BELOW:o<t&&(e|=p.a.ABOVE),e=e===p.a.UNKNOWN?p.a.INTERSECTING:e}function d(){return[1/0,1/0,-1/0,-1/0]}function _(t,e,i,n,r){return r?(r[0]=t,r[1]=e,r[2]=i,r[3]=n,r):[t,e,i,n]}function g(t){return _(1/0,1/0,-1/0,-1/0,t)}function y(t,e){var i=t[0],t=t[1];return _(i,t,i,t,e)}function v(t,e){return x(g(e),t)}function m(t,e,i,n,r){return C(g(r),t,e,i,n)}function b(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function O(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function E(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function x(t,e){for(var i=0,n=e.length;i<n;++i)E(t,e[i]);return t}function C(t,e,i,n,r){for(;i<n;i+=r)o=t,a=e[i],s=e[i+1],o[0]=Math.min(o[0],a),o[1]=Math.min(o[1],s),o[2]=Math.max(o[2],a),o[3]=Math.max(o[3],s);var o,a,s;return t}function j(t,e){var i=e(R(t));return i||((i=e(S(t)))||(i=e(F(t)))||!!(i=e(M(t))))&&i}function T(t){var e=0;return e=!N(t)?D(t)*A(t):e}function R(t){return[t[0],t[1]]}function S(t){return[t[2],t[1]]}function w(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function I(t,e){var i;return e===n.a.BOTTOM_LEFT?i=R(t):e===n.a.BOTTOM_RIGHT?i=S(t):e===n.a.TOP_LEFT?i=M(t):e===n.a.TOP_RIGHT?i=F(t):Object(r.a)(!1,13),i}function P(t,e,i,n,r){var o=e*n[0]/2,a=e*n[1]/2,s=Math.cos(i),c=Math.sin(i),l=o*s,u=o*c,e=a*s,n=a*c,i=t[0],o=t[1],s=i-l+n,a=i-l-n,c=i+l-n,t=i+l+n,i=o-u-e,l=o-u+e,n=o+u+e,e=o+u-e;return _(Math.min(s,a,c,t),Math.min(i,l,n,e),Math.max(s,a,c,t),Math.max(i,l,n,e),r)}function A(t){return t[3]-t[1]}function L(t,e,i){i=i||d();return G(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):g(i),i}function M(t){return[t[0],t[3]]}function F(t){return[t[2],t[3]]}function D(t){return t[2]-t[0]}function G(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function N(t){return t[2]<t[0]||t[3]<t[1]}function k(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function z(t,e){var i=(t[2]-t[0])/2*(e-1),e=(t[3]-t[1])/2*(e-1);t[0]-=i,t[2]+=i,t[1]-=e,t[3]+=e}function U(t,e,i){var n,r,o,a,s,c,l=!1,u=f(t,e),h=f(t,i);return u===p.a.INTERSECTING||h===p.a.INTERSECTING?l=!0:(n=t[0],r=t[1],o=t[2],a=t[3],c=e[0],s=e[1],t=i[0],i=((e=i[1])-s)/(t-c),c=s=void 0,(l=!(l=!(l=h&p.a.ABOVE&&!(u&p.a.ABOVE)?n<=(s=t-(e-a)/i)&&s<=o:l)&&h&p.a.RIGHT&&!(u&p.a.RIGHT)?r<=(c=e-(t-o)*i)&&c<=a:l)&&h&p.a.BELOW&&!(u&p.a.BELOW)?n<=(s=t-(e-r)/i)&&s<=o:l)||!(h&p.a.LEFT)||u&p.a.LEFT||(l=r<=(c=e-(t-n)*i)&&c<=a)),l}function X(t,e,i,n){var r=[];if(1<n)for(var o=t[2]-t[0],a=t[3]-t[1],s=0;s<n;++s)r.push(t[0]+o*s/n,t[1],t[2],t[1]+a*s/n,t[2]-o*s/n,t[3],t[0],t[3]-a*s/n);else r=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(r,r,2);for(var c,l=[],u=[],s=0,h=r.length;s<h;s+=2)l.push(r[s]),u.push(r[s+1]);return c=l,e=u,i=i,_(Math.min.apply(null,c),Math.min.apply(null,e),Math.max.apply(null,c),Math.max.apply(null,e),i)}function B(t,e){var i=e.getExtent(),n=w(t);return e.canWrapX()&&(n[0]<i[0]||n[0]>=i[2])&&(e=D(i),e=Math.floor((n[0]-i[0])/e)*e,t[0]-=e,t[2]-=e),t}},"0ec0":function(t,e,i){"use strict";var n,r,o=i("da5c"),l=i("cef7"),u=i("57cb"),a=i("38f3"),i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=(r=o.a,i(s,r),s.prototype.addEventListener=function(t,e){var i;t&&e&&(-1===(t=(i=this.listeners_||(this.listeners_={}))[t]||(i[t]=[])).indexOf(e)&&t.push(e))},s.prototype.dispatchEvent=function(t){var e="string"==typeof t?new l.a(t):t,i=e.type;e.target||(e.target=this.eventTarget_||this);var n,r=this.listeners_&&this.listeners_[i];if(r){var o=this.dispatching_||(this.dispatching_={}),t=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,t[i]=0),++o[i];for(var a=0,s=r.length;a<s;++a)if(!1===(n="handleEvent"in r[a]?r[a].handleEvent(e):r[a].call(this,e))||e.propagationStopped){n=!1;break}if(--o[i],0===o[i]){var c=t[i];for(delete t[i];c--;)this.removeEventListener(i,u.c);delete o[i]}return n}},s.prototype.disposeInternal=function(){this.listeners_&&Object(a.b)(this.listeners_)},s.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},s.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:0<Object.keys(this.listeners_).length)},s.prototype.removeEventListener=function(t,e){var i=this.listeners_&&this.listeners_[t];!i||-1!==(e=i.indexOf(e))&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[e]=u.c,++this.pendingRemovals_[t]):(i.splice(e,1),0===i.length&&delete this.listeners_[t]))},s);function s(t){var e=r.call(this)||this;return e.eventTarget_=t,e.pendingRemovals_=null,e.dispatching_=null,e.listeners_=null,e}e.a=i},1276:function(t,e,i){"use strict";var n=i("d784"),u=i("44e7"),y=i("825a"),h=i("1d80"),v=i("4840"),m=i("8aa5"),b=i("50c4"),O=i("14c3"),p=i("9263"),E=i("9f7f").UNSUPPORTED_Y,f=[].push,x=Math.min,C=4294967295;n("split",2,function(r,d,_){var g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var i=String(h(this)),n=void 0===e?C:e>>>0;if(0==n)return[];if(void 0===t)return[i];if(!u(t))return d.call(i,t,n);for(var r,o,a,s=[],e=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,l=new RegExp(t.source,e+"g");(r=p.call(l,i))&&!(c<(o=l.lastIndex)&&(s.push(i.slice(c,r.index)),1<r.length&&r.index<i.length&&f.apply(s,r.slice(1)),a=r[0].length,c=o,s.length>=n));)l.lastIndex===r.index&&l.lastIndex++;return c===i.length?!a&&l.test("")||s.push(""):s.push(i.slice(c)),s.length>n?s.slice(0,n):s}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:d.call(this,t,e)}:d;return[function(t,e){var i=h(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,i,e):g.call(String(i),t,e)},function(t,e){var i=_(g,t,this,e,g!==d);if(i.done)return i.value;var n=y(t),r=String(this),i=v(n,RegExp),o=n.unicode,t=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(E?"g":"y"),a=new i(E?"^(?:"+n.source+")":n,t),s=void 0===e?C:e>>>0;if(0==s)return[];if(0===r.length)return null===O(a,r)?[r]:[];for(var c=0,l=0,u=[];l<r.length;){a.lastIndex=E?0:l;var h,p=O(a,E?r.slice(l):r);if(null===p||(h=x(b(a.lastIndex+(E?l:0)),r.length))===c)l=m(r,l,o);else{if(u.push(r.slice(c,l)),u.length===s)return u;for(var f=1;f<=p.length-1;f++)if(u.push(p[f]),u.length===s)return u;l=c=h}}return u.push(r.slice(c)),u}]},E)},1300:function(t,e,i){"use strict";function n(){return function(){throw new Error("Unimplemented abstract method.")}()}i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a});var r=0;function o(t){return t.ol_uid||(t.ol_uid=String(++r))}var a="6.5.0"},"137e":function(t,e,i){"use strict";var n,r,o=i("faf4"),a=i("3333"),s=i("070d"),h=i("a896"),p=i("0af5"),c=i("0999"),u=i("ddea"),i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=(r=o.a,i(l,r),l.prototype.useContainer=function(t,e,i){var n,r,o=this.getLayer().getClassName();!(n=t&&""===t.style.opacity&&t.className===o&&(r=t.firstElementChild)instanceof HTMLCanvasElement?r.getContext("2d"):n)||0!==n.canvas.width&&n.canvas.style.transform!==e?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=t,this.context=n,this.containerReused=!0),this.container||((t=document.createElement("div")).className=o,(o=t.style).position="absolute",o.width="100%",o.height="100%",r=(n=Object(c.a)()).canvas,t.appendChild(r),(o=r.style).position="absolute",o.left="0",o.transformOrigin="top left",this.container=t,this.context=n)},l.prototype.clip=function(t,e,i){var n=e.pixelRatio,r=e.size[0]*n/2,o=e.size[1]*n/2,a=e.viewState.rotation,s=Object(p.C)(i),c=Object(p.D)(i),l=Object(p.w)(i),i=Object(p.v)(i);Object(h.a)(e.coordinateToPixelTransform,s),Object(h.a)(e.coordinateToPixelTransform,c),Object(h.a)(e.coordinateToPixelTransform,l),Object(h.a)(e.coordinateToPixelTransform,i),t.save(),Object(u.t)(t,-a,r,o),t.beginPath(),t.moveTo(s[0]*n,s[1]*n),t.lineTo(c[0]*n,c[1]*n),t.lineTo(l[0]*n,l[1]*n),t.lineTo(i[0]*n,i[1]*n),t.clip(),Object(u.t)(t,a,r,o)},l.prototype.clipUnrotated=function(t,e,i){var n=Object(p.C)(i),r=Object(p.D)(i),o=Object(p.w)(i),i=Object(p.v)(i);Object(h.a)(e.coordinateToPixelTransform,n),Object(h.a)(e.coordinateToPixelTransform,r),Object(h.a)(e.coordinateToPixelTransform,o),Object(h.a)(e.coordinateToPixelTransform,i);e=this.inversePixelTransform;Object(h.a)(e,n),Object(h.a)(e,r),Object(h.a)(e,o),Object(h.a)(e,i),t.save(),t.beginPath(),t.moveTo(Math.round(n[0]),Math.round(n[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(i[0]),Math.round(i[1])),t.clip()},l.prototype.dispatchRenderEvent_=function(t,e,i){var n=this.getLayer();n.hasListener(t)&&(e=new a.a(t,this.inversePixelTransform,i,e),n.dispatchEvent(e))},l.prototype.preRender=function(t,e){this.dispatchRenderEvent_(s.a.PRERENDER,t,e)},l.prototype.postRender=function(t,e){this.dispatchRenderEvent_(s.a.POSTRENDER,t,e)},l.prototype.getRenderTransform=function(t,e,i,n,r,o,a){r/=2,o/=2,n/=e,e=-n,a=-t[0]+a,t=-t[1];return Object(h.b)(this.tempTransform,r,o,n,e,-i,a,t)},l.prototype.getDataAtPixel=function(t,e,i){var n,r=Object(h.a)(this.inversePixelTransform,t.slice()),o=this.context,a=this.getLayer().getExtent();if(a){t=Object(h.a)(e.pixelToCoordinateTransform,t.slice());if(!Object(p.f)(a,t))return null}try{var s=Math.round(r[0]),c=Math.round(r[1]),l=document.createElement("canvas"),u=l.getContext("2d");l.width=1,l.height=1,u.clearRect(0,0,1,1),u.drawImage(o.canvas,s,c,1,1,0,0,1,1),n=u.getImageData(0,0,1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:n}return 0===n[3]?null:n},l);function l(t){t=r.call(this,t)||this;return t.container=null,t.renderedResolution,t.tempTransform=Object(h.c)(),t.pixelTransform=Object(h.c)(),t.inversePixelTransform=Object(h.c)(),t.context=null,t.containerReused=!1,t}e.a=i},"183a":function(t,e,i){"use strict";e.a={ADD:"add",REMOVE:"remove"}},"1af9":function(t,e,i){"use strict";i.d(e,"b",function(){return _});var n,r,o=i("5564"),a=i("01d4"),s=i("df4c"),c=i("070d"),l=i("6d83"),u=i("92fa"),h=i("38f3"),p=i("e269"),f=i("1e8d"),i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=(r=o.a,i(d,r),d.prototype.getLayersArray=function(t){t=t||[];return t.push(this),t},d.prototype.getLayerStatesArray=function(t){t=t||[];return t.push(this.getLayerState()),t},d.prototype.getSource=function(){return this.get(s.a.SOURCE)||null},d.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():l.a.UNDEFINED},d.prototype.handleSourceChange_=function(){this.changed()},d.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(f.c)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(f.a)(t,a.a.CHANGE,this.handleSourceChange_,this)),this.changed()},d.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},d.prototype.render=function(t,e){var i=this.getRenderer();if(i.prepareFrame(t))return i.renderFrame(t,e)},d.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(f.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(f.c)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(f.a)(t,c.a.PRECOMPOSE,function(t){var t=t.frameState.layerStatesArray,e=this.getLayerState(!1);Object(u.a)(!t.some(function(t){return t.layer===e.layer}),67),t.push(e)},this),this.mapRenderKey_=Object(f.a)(this,a.a.CHANGE,t.render,t),this.changed())},d.prototype.setSource=function(t){this.set(s.a.SOURCE,t)},d.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},d.prototype.hasRenderer=function(){return!!this.renderer_},d.prototype.createRenderer=function(){return null},d.prototype.disposeInternal=function(){this.setSource(null),r.prototype.disposeInternal.call(this)},d);function d(t){var e=this,i=Object(h.a)({},t);delete i.source,(e=r.call(this,i)||this).mapPrecomposeKey_=null,e.mapRenderKey_=null,e.sourceChangeKey_=null,e.renderer_=null,t.render&&(e.render=t.render),t.map&&e.setMap(t.map),e.addEventListener(Object(p.b)(s.a.SOURCE),e.handleSourcePropertyChange_);t=t.source||null;return e.setSource(t),e}function _(t,e){if(!t.visible)return!1;var i=e.resolution;if(i<t.minResolution||i>=t.maxResolution)return!1;e=e.zoom;return e>t.minZoom&&e<=t.maxZoom}e.a=i},"1b8e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAMCElEQVR4Xu1aC3BU5RX+zt1NiIrmQQAf1UJNREUw5Iby2A2TVktBSXaRRIK2VjsOShAsU+v4GMfY6WgdH1UIoJ1xRKUYocDuQqWkVp3s3SBh7wZkUDEQqA9gxDwARRI293TuXZLc3b3J3n2EGUb+mZ1k957/PL57zvnP+f+f8CMf9CO3H+cBOO8BP3IEzofA2XSAKVMqLui0duZDQZ4gCHnMSgFAGQC3ANTC4Jbghae8H9fVfX+29Bp0D5g41VnQTSghYgeAElOGEd6Fgg8gWN6XvRsCpuYkSDRoAIhTSq8lgR5not8kqJs6LUjENdwt1MgNrv1J8Ol36qAAINodiwE8DmBESpRmtDJxTUDyVKeEn45JygEQ7WVrAJoXQ9FDAA6DsRuEkwCuB3gsQMMHmkfAJr/kLkslCCkFQLQ79gK4xlBBQh0xrfZLrrf6M+Dn00pHd3cLN4HolwD3B+IhWXJfkSoQUgaAaHccATDSQDEvEb3s97rW659lLm2+mghXWi10AhbroW/vG3VY/7zQ5igG8CAR5hjw/EyW3NelAoSUACDaHS8DUOM+bDD4KX3cDqvZO1sRBCeBpgE8KsoAolWsKHXtR0+vR/XYLvV5UXHZw8z0bCQtEb/k93qWJAtC0gAU2suqCfSkgTGLZa9rmfp7zop98wGeD0A0qfCnBKxurcp/WqUvtDtFAvtjAWySdxhZUgCI0xzjoKABwFA9VwL9wi+5Pjxj/GaAb01EOQCNbVX5k9S5BZOdoyxWPhDhYq1gmpTMEpkcAMXOVWD+XTikvED2el4JGd8sAbBFuW+wC+kdh5DefhgQLOjKugxdmSPB1nRDnNqq8jU9C6c67yaBXw8DO8lQSBiAIptzJhO/q1eGGesDPne5ZvzyvdUgISo0Mr45gNzGtUg7fjTM2OBF2WgfPwPfjTaIEqKX2xbk/SEUDo63CajUTQ6CLJMSrRgTBkC0OZaCsCgCgGkBn9ubvby5igjLI19n1u46ZO+uGzAa2sdNR8e46dEpBbS4tSpvWdG0sgmskOpZF+qInpUl9yOJhFkyADSDkNcjlIG3ApL7rqFLm4enWbGNgKv1Cg09IGP4trdN6Xj45oU4NWJ0JO0RC1Px0YV5+6ITLzXLksu4/oghMSEACovLxhPTrrBYZHb4fR7PsBX7FjF4adizYBd+8q/nYP2+3RQApy8Zjq9nLInKCQxe1l51zWJxqnM6BN7aX+I1JeQMUWIA2MruJKLVOkH7ZcmteUPOimY1L8zUKzGk9UtcvlUtFfqG3tWNQuPQ9AfQmRteKjCwr70qP1/lItodxwBc0seR/iJLrifiMV6lTQyAiLW/J/nlvnrwMqX7tFrnh42L9zcid/vasN8O3PF82PfRax4K+/7txDk4kT8lyh6G5cb2qp99LNqddQD/qjcEiWoCXldYTjIDRkIAiMWO1WDc2SucuSbg8yzKXrl/FrGyaTABAHF524Jr1ot2xz8A3NEjS+szfK7fmjE6PHTinaGWp3bHewzc1AvAmZK3v6WvvxD44YrroVjScNEXu6JWB6MQ0FyWaFHrgryaouKyvzGTtjSGBm2WJVdpvOYk5gF2xwYAsyMBGPbK/ttYUcKaHk21FCVBlRczHm1fmP9X0Vb2NIge1Rm8VZbcM84WAG8AuCsSgOyVn9xAnLbbSIkULIMaWyZlXvuCMbWizfE6CHf3yeLXZMlz71kBoMjuqGFgoU7YUllyP4i1e9JzWoccA3OGkSLJFEK9jt6tXNe6aMxnos2xFYTeiimy8zQLRGIhUOx8Gsx69/tUltzXq0KzVzbLxCjsTwHrd63IadqMC75pgdAZ2vztzhiKzmFXoeOGm7W/A4yP2qpCS4Nod5zQN2HEdK/f53rNrOG9gMY7QaUvtM2+jSgq1ifLknt7zvLPnwDRn83wTTv+DUACTl+ca4YcYOWptoVjqg37EMKMgNcdVhyZYZqQB4wdW5Gekd2lFiK9rk7gv/slz32XvLgnx5KRvp3QVyabUcQMjSIoBR33j9kl2hwrQbhfN+eELLl1RZEZbiGahADQvMDufI3Av9eLYlBRQHLJOcubl4Dwonk1TFASbWxbkHebONV5NQTeGb4HwS/Ikie8kjLBMjkAbI65RKgNk8NYJfvc96B6T3rOiLRGgG40qUcssq/JYr259b7RnxntQDFD60JjMTF6nrAHjLPfmp0O6w5EdH2s0D2BBteqnJX754AVtf1LS0SxiDm3t1XlryuyO0sY/EHEs0ZZcmu7RomMhAEIhYFjNgFqUdQ3GAcFKLN2+Dbtya7ZewsJggpCQvF5hqlmvPq/aHeoxocdrzF4ZkDy/DsR45MKgR6B/WyK7lXQPbdJ2rwrd2VzicL0NsCXJqCkznjnWoArwngQPSZ7Xc8kwLd3SlIe0MNFjCiNtd8J+wDLXHWrKmdF82QwrwFR1C7HAMoPbDzwT1lyhwOSABKpASCUmd0AxkaGAwk01+91NWYt/7xACO0hhNMYKx3L+E8EWEt3SOtbErA53ImSZdDrBVNKr4XFUgtwZOb/ShAwd0e9uyF3RcsYhbtXg1CUxJv/HALK5Xq3Yc8Rrz0p8YDefFBSlkdB4R2AI0vhw4rAlU31nvqsmpafCpbuN8GYZqBsrDe/nwSu8Nd7muI1tD/6lAKgClEPOIPd9A4RTQwXykdZsFQG6je+P+KllpHB9OCbAOm3f2MZ/z+FubzJ54k6IUoGjJQDoC1XtllXkWCpZUbknlY7BKqU61112a/6M6FkvkEM9eZILOO/YlYqAr5NHyVjrNHcpAEonDb7OgVC8LuLTn6xb8uWzh4hE2xllwuEdwCyRwg+Tox5fp/7Xa19/jbd0bfOGyx14CNEKPd7PT4N3Cml1zJZJkNQRsGK1YEPPfuSASUhAMZPnT0iTVAqiVCpe8syMtJvkt9bpzZJ2pg0qWxkMI3UcjnybtBJYp6nbqP3LaVGxtNRRVDK1dyh0pWUlGQcD2b+l4CpOqM/BNEGtihbEgEjbgCKbGUPMNHDAK40QP4RWXKHHWWLJaW5FBRq9XuI2jxGF4PnBXyeDaLdyHi0s6KUBxo2vR++0gif9vvGGctknzvqmH4gDzENQKgLw0r9VnQ0Y75dljxa2aofBSXOLEuQVU/4dcSjboA2RFV4wHFiLvf7PP/R09tsZRefIjoew+XbiGimWnuYCQ1TAIwtqRiaEezcYhDPPTK+APMzsi90Kmw0NOUFqgXjlhiKnSRWyv2+TVuM6ETbbDtIeUFdcAbiY+kSchsbN7bGAsEUAKK97HmA/mjwxiWQsAZD0tboY78/oaJYeiFdoIVDf9vXnQyhPCBt3BxLce0KDfEsAqm8oq7L6E+qkw4B0e5Qlx9dy8lHQcJ82etyxVI08nnezJlDMk+kqx1i77b6GZpuImGO37tRLanjGkVTnXOY+FUQhukmfilL7gE3GFVakx7gUF0pp5d5yN0fi0tLHXFFRYWl5XCXmhO0uwSaIgqV+xvCL1LFw7/Q5niRCPo7Qx2y5M6OxcMkANF3/9TjcFJotdzgGvjAfwANxGLnIoAnQc3eknt7LGUNc4J2UqyeD0Rdq3PJkjvSy6JYmATAoZ7BqWdxRuNjgDyCwFtOtqb79+xZp93uGqwhivPTlCFHiwSBbwFYvTQ53kgWQbnDL22KeSHBFACqANHmeAiE52IYdpxBTQTsZOZtFgsadtS7v0wGjBunzLrCarVOJIUnstZfsNpjZA3Ek5mWBHyul8zINQ2Ayky7pET8JAjRd/z6l3YKQEfPh4AOBeggQgdY+13NRFnMyBKALA4Zp/8YnjIZimMcZKan1D1JM8aHRMc5zlxX+xNAlQD3JcY4+aSWnNoAru0O0nM7P3IdjId33AD0MD/T7FQyaA4BBRGXluLRIVHa7xnYReD1CqO2yeeJuphhhnHCAOiZqwUOMrgQgnUCMwpCgLAKimBGiZg0DAWEHUy0Q1CwEwJ2pwXTdm/btu6HmHNjEKQEAGMZ1UKhfecEIuVSVpBFRJlMyAJzphrrUL9zKJmF8gEfU3MDiI4Ro4OZj5Gg/hWOBKSCJqBaSdZY49ViMLieQzwH0QPODRTOA3BuvKfB0/K8BwwetucG5/8D2wG/faZpf74AAAAASUVORK5CYII="},"1c48":function(t,e,i){"use strict";i.d(e,"a",function(){return h}),i.d(e,"b",function(){return n}),i.d(e,"e",function(){return y}),i.d(e,"c",function(){return p}),i.d(e,"d",function(){return r});var O=i("7fc9");function h(t,e,i,n,r,o,a){var s=(i-e)/n;if(s<3){for(;e<i;e+=n)o[a++]=t[e],o[a++]=t[e+1];return a}var c=new Array(s);c[0]=1,c[s-1]=1;for(var l=[e,i-n],u=0;0<l.length;){for(var h=l.pop(),p=l.pop(),f=0,d=t[p],_=t[p+1],g=t[h],y=t[h+1],v=p+n;v<h;v+=n){var m=t[v],b=t[v+1],b=Object(O.h)(m,b,d,_,g,y);f<b&&(u=v,f=b)}r<f&&(c[(u-e)/n]=1,p+n<u&&l.push(p,u),u+n<h&&l.push(u,h))}for(v=0;v<s;++v)c[v]&&(o[a++]=t[e+v*n],o[a++]=t[e+v*n+1]);return a}function n(t,e,i,n,r,o,a,s){for(var c=0,l=i.length;c<l;++c){var u=i[c];a=h(t,e,u,n,r,o,a),s.push(a),e=u}return a}function y(t,e){return e*Math.round(t/e)}function p(t,e,i,n,r,o,a,s){for(var c=0,l=i.length;c<l;++c){var u=i[c];a=function(t,e,i,n,r,o,a){if(e==i)return a;var s,c=y(t[e],r),l=y(t[e+1],r);e+=n,o[a++]=c,o[a++]=l;do{if(s=y(t[e],r),d=y(t[e+1],r),(e+=n)==i)return o[a++]=s,o[a++]=d,a}while(s==c&&d==l);for(;e<i;){var u,h,p,f,d,_=y(t[e],r),g=y(t[e+1],r);e+=n,_==s&&g==d||(s=((u=s-c)*(f=g-l)==(h=d-l)*(p=_-c)&&(u<0&&p<u||u==p||0<u&&u<p)&&(h<0&&f<h||h==f||0<h&&h<f)||(c=o[a++]=s,l=o[a++]=d),_),d=g)}return o[a++]=s,o[a++]=d,a}(t,e,u,n,r,o,a),s.push(a),e=u}return a}function r(t,e,i,n,r,o,a,s){for(var c=0,l=i.length;c<l;++c){var u=i[c],h=[];a=p(t,e,u,n,r,o,a,h),s.push(h),e=u[u.length-1]}return a}},"1e8d":function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return o}),i.d(e,"c",function(){return a});var n=i("38f3");function r(t,e,i,n,r){var o;n&&n!==t&&(i=i.bind(n)),r&&(o=i,i=function(){t.removeEventListener(e,i),o.apply(this,arguments)});r={target:t,type:e,listener:i};return t.addEventListener(e,i),r}function o(t,e,i,n){return r(t,e,i,n,!0)}function a(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Object(n.b)(t))}},"1ecb":function(t,e,i){"use strict";e.a={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},"20ee":function(t,e,i){},"256f":function(t,e,i){"use strict";i.d(e,"a",function(){return c.a}),i.d(e,"f",function(){return A}),i.d(e,"g",function(){return L}),i.d(e,"b",function(){return F}),i.d(e,"c",function(){return D}),i.d(e,"i",function(){return G}),i.d(e,"h",function(){return N}),i.d(e,"m",function(){return k}),i.d(e,"n",function(){return z}),i.d(e,"j",function(){return W}),i.d(e,"k",function(){return K}),i.d(e,"d",function(){return V}),i.d(e,"l",function(){return Z}),i.d(e,"e",function(){return H});var c=i("fced");function n(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}var r,o,a=(n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||c.a[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},n.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},n.prototype.setWorldExtent=function(t){this.worldExtent_=t},n.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},n),s=i("7fc9"),e=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=6378137,u=Math.PI*l,h=[-u,-u,u,u],p=[-180,-85,180,85],f=l*Math.log(Math.tan(Math.PI/2)),e=(e(d,o=a),d);function d(t){return o.call(this,{code:t,units:c.b.METERS,extent:h,global:!0,worldExtent:p,getPointResolution:function(t,e){return t/Object(s.b)(e[1]/l)}})||this}var _=[new e("EPSG:3857"),new e("EPSG:102100"),new e("EPSG:102113"),new e("EPSG:900913"),new e("http://www.opengis.net/gml/srs/epsg.xml#3857")];function g(t,e,i){var n=t.length,r=1<i?i:2,o=e;void 0===o&&(o=2<r?t.slice():new Array(n));for(var a=0;a<n;a+=r){o[a]=u*t[a]/180;var s=l*Math.log(Math.tan(Math.PI*(+t[a+1]+90)/360));f<s?s=f:s<-f&&(s=-f),o[a+1]=s}return o}function y(t,e,i){var n=t.length,r=1<i?i:2,o=e;void 0===o&&(o=2<r?t.slice():new Array(n));for(var a=0;a<n;a+=r)o[a]=180*t[a]/u,o[a+1]=360*Math.atan(Math.exp(t[a+1]/l))/Math.PI-90;return o}var v,m,e=(v=function(t,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),b=[-180,-90,180,90],O=6378137*Math.PI/180,a=(e(E,m=a),E);function E(t,e){return m.call(this,{code:t,units:c.b.DEGREES,extent:b,axisOrientation:e,global:!0,metersPerUnit:O,worldExtent:b})||this}var x=[new a("CRS:84"),new a("EPSG:4326","neu"),new a("urn:ogc:def:crs:OGC:1.3:CRS84"),new a("urn:ogc:def:crs:OGC:2:84"),new a("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],C={};i("38f3");var j={};function T(t,e,i){t=t.getCode(),e=e.getCode();t in j||(j[t]={}),j[t][e]=i}var R=i("0af5"),S=i("790a");i("a568");function w(t,e,i){var n;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];n=e}else n=t.slice();return n}function I(t,e,i){if(void 0!==e&&t!==e){for(var n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function P(t){var e,i;e=t.getCode(),i=t,C[e]=i,T(t,t,w)}function A(t){return"string"==typeof t?C[e=t]||C[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function L(t,e,i,n){var r,o,a,s=(t=A(t)).getPointResolutionFunc();return s?(r=s(e,i),n&&n!==t.getUnits()&&(a=t.getMetersPerUnit())&&(r=r*a/c.a[n])):(o=t.getUnits())==c.b.DEGREES&&!n||n==c.b.DEGREES?r=e:(r=(s=G(t,A("EPSG:4326")))===I&&o!==c.b.DEGREES?e*t.getMetersPerUnit():(e=s(e=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2],e,2),(Object(S.a)(e.slice(0,2),e.slice(2,4))+Object(S.a)(e.slice(4,6),e.slice(6,8)))/2),void 0!==(a=n?c.a[n]:t.getMetersPerUnit())&&(r/=a)),r}function M(t){t.forEach(P),t.forEach(function(e){t.forEach(function(t){e!==t&&T(e,t,w)})})}function F(t,e){return t?"string"==typeof t?A(t):t:A(e)}function D(t,e){if(t===e)return!0;var i=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||G(t,e)===w)&&i}function G(t,e){var i,t=t.getCode(),e=e.getCode();return(e=e,i=(t=t)in j&&e in j[t]?j[t][e]:i)||I}function N(t,e){return G(A(t),A(e))}function k(t,e,i){return N(e,i)(t,void 0,t.length)}function z(t,e,i,n){i=N(e,i);return Object(R.a)(t,i,void 0,n)}var U,X,B,Y=null;function W(){return Y}function K(t,e){return Y?k(t,e,Y):t}function V(t,e){return Y?k(t,Y,e):t}function Z(t,e){return Y?z(t,e,Y):t}function H(t,e){return Y?z(t,Y,e):t}M(_),M(x),U=_,X=g,B=y,x.forEach(function(e){U.forEach(function(t){T(e,t,X),T(t,e,B)})})},"25a5":function(t,e,i){t.exports=function(){"use strict";function s(t,e,i,n,r){!function t(e,i,n,r,o){for(;r>n;){if(r-n>600){var a=r-n+1,s=i-n+1,c=Math.log(a),l=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*l*(a-l)/a)*(s-a/2<0?-1:1),h=Math.max(n,Math.floor(i-s*l/a+u)),p=Math.min(r,Math.floor(i+(a-s)*l/a+u));t(e,i,h,p,o)}var f=e[i],d=n,_=r;for(g(e,n,i),o(e[r],f)>0&&g(e,n,r);d<_;){for(g(e,d,_),d++,_--;o(e[d],f)<0;)d++;for(;o(e[_],f)>0;)_--}0===o(e[n],f)?g(e,n,_):g(e,++_,r),_<=i&&(n=_+1),i<=_&&(r=_-1)}}(t,e,i||0,n||t.length-1,r||o)}function g(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function o(t,e){return t<e?-1:t>e?1:0}var t=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function u(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function f(t,e){y(t,0,t.children.length,e,t)}function y(t,e,i,n,r){r||(r=_(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o=e;o<i;o++){var a=t.children[o];p(r,t.leaf?n(a):a)}return r}function p(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function a(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function v(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function h(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function l(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function _(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,e,i,n,r){for(var o=[e,i];o.length;)if(!((i=o.pop())-(e=o.pop())<=n)){var a=e+Math.ceil((i-e)/n/2)*n;s(t,a,e,i,r),o.push(e,a,a,i)}}return t.prototype.all=function(){return this._all(this.data,[])},t.prototype.search=function(t){var e=this.data,i=[];if(!l(t,e))return i;for(var n=this.toBBox,r=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?n(a):a;l(t,s)&&(e.leaf?i.push(a):h(t,s)?this._all(a,i):r.push(a))}e=r.pop()}return i},t.prototype.collides=function(t){var e=this.data;if(!l(t,e))return!1;for(var i=[];e;){for(var n=0;n<e.children.length;n++){var r=e.children[n],o=e.leaf?this.toBBox(r):r;if(l(t,o)){if(e.leaf||h(t,o))return!0;i.push(r)}}e=i.pop()}return!1},t.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},t.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},t.prototype.clear=function(){return this.data=_([]),this},t.prototype.remove=function(t,e){if(!t)return this;for(var i,n,r,o=this.data,a=this.toBBox(t),s=[],c=[];o||s.length;){if(o||(o=s.pop(),n=s[s.length-1],i=c.pop(),r=!0),o.leaf){var l=u(t,o.children,e);if(-1!==l)return o.children.splice(l,1),s.push(o),this._condense(s),this}r||o.leaf||!h(o,a)?n?(i++,o=n.children[i],r=!1):o=null:(s.push(o),c.push(i),i=0,n=o,o=o.children[0])}return this},t.prototype.toBBox=function(t){return t},t.prototype.compareMinX=function(t,e){return t.minX-e.minX},t.prototype.compareMinY=function(t,e){return t.minY-e.minY},t.prototype.toJSON=function(){return this.data},t.prototype.fromJSON=function(t){return this.data=t,this},t.prototype._all=function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},t.prototype._build=function(t,e,i,n){var r,o=i-e+1,a=this._maxEntries;if(o<=a)return f(r=_(t.slice(e,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,n-1))),(r=_([])).leaf=!1,r.height=n;var s=Math.ceil(o/a),c=s*Math.ceil(Math.sqrt(a));m(t,e,i,c,this.compareMinX);for(var l=e;l<=i;l+=c){var u=Math.min(l+c-1,i);m(t,l,u,s,this.compareMinY);for(var h=l;h<=u;h+=s){var p=Math.min(h+s-1,u);r.children.push(this._build(t,h,p,n-1))}}return f(r,this.toBBox),r},t.prototype._chooseSubtree=function(t,e,i,n){for(;n.push(e),!e.leaf&&n.length-1!==i;){for(var r=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var c=e.children[s],l=v(c),u=(h=t,p=c,(Math.max(p.maxX,h.maxX)-Math.min(p.minX,h.minX))*(Math.max(p.maxY,h.maxY)-Math.min(p.minY,h.minY))-l);u<o?(o=u,r=l<r?l:r,a=c):u===o&&l<r&&(r=l,a=c)}e=a||e.children[0]}var h,p;return e},t.prototype._insert=function(t,e,i){var n=i?t:this.toBBox(t),r=[],o=this._chooseSubtree(n,this.data,e,r);for(o.children.push(t),p(o,n);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(n,r,e)},t.prototype._split=function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var o=this._chooseSplitIndex(i,r,n),a=_(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,f(i,this.toBBox),f(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},t.prototype._splitRoot=function(t,e){this.data=_([t,e]),this.data.height=t.height+1,this.data.leaf=!1,f(this.data,this.toBBox)},t.prototype._chooseSplitIndex=function(t,e,i){for(var n,r,o,a,s,c,l,u=1/0,h=1/0,p=e;p<=i-e;p++){var f=y(t,0,p,this.toBBox),d=y(t,p,i,this.toBBox),_=(r=f,o=d,a=void 0,s=void 0,c=void 0,l=void 0,a=Math.max(r.minX,o.minX),s=Math.max(r.minY,o.minY),c=Math.min(r.maxX,o.maxX),l=Math.min(r.maxY,o.maxY),Math.max(0,c-a)*Math.max(0,l-s)),g=v(f)+v(d);_<u?(u=_,n=p,h=g<h?g:h):_===u&&g<h&&(h=g,n=p)}return n||i-e},t.prototype._chooseSplitAxis=function(t,e,i){var n=t.leaf?this.compareMinX:a,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,r)&&t.children.sort(n)},t.prototype._allDistMargin=function(t,e,i,n){t.children.sort(n);for(var r=this.toBBox,o=y(t,0,e,r),a=y(t,i-e,i,r),s=d(o)+d(a),c=e;c<i-e;c++){var l=t.children[c];p(o,t.leaf?r(l):l),s+=d(o)}for(var u=i-e-1;u>=e;u--){var h=t.children[u];p(a,t.leaf?r(h):h),s+=d(a)}return s},t.prototype._adjustParentBBoxes=function(t,e,i){for(var n=i;n>=0;n--)p(e[n],t)},t.prototype._condense=function(t){for(var e=t.length-1,i=void 0;e>=0;e--)0===t[e].children.length?e>0?(i=t[e-1].children).splice(i.indexOf(t[e]),1):this.clear():f(t[e],this.toBBox)},t}()},"25f1":function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return c}),i.d(e,"c",function(){return l}),i.d(e,"d",function(){return r});var o=i("0af5");function n(e,i,n,r,t){return!Object(o.t)(t,function(t){return!c(e,i,n,r,t[0],t[1])})}function c(t,e,i,n,r,o){for(var a=0,s=t[i-n],c=t[i-n+1];e<i;e+=n){var l=t[e],u=t[e+1];c<=o?o<u&&0<(l-s)*(o-c)-(r-s)*(u-c)&&a++:u<=o&&(l-s)*(o-c)-(r-s)*(u-c)<0&&a--,s=l,c=u}return 0!==a}function l(t,e,i,n,r,o){if(0===i.length)return!1;if(!c(t,e,i[0],n,r,o))return!1;for(var a=1,s=i.length;a<s;++a)if(c(t,i[a-1],i[a],n,r,o))return!1;return!0}function r(t,e,i,n,r,o){if(0===i.length)return!1;for(var a=0,s=i.length;a<s;++a){var c=i[a];if(l(t,e,c,n,r,o))return!0;e=c[c.length-1]}return!1}},"29f6":function(t,e,i){"use strict";e.a={POINT:"point",LINE:"line"}},"2c30":function(t,e,i){"use strict";function n(t,e,i,n){return void 0!==n?(n[0]=t,n[1]=e,n[2]=i,n):[t,e,i]}function r(t,e,i){return t+"/"+e+"/"+i}function o(t){return r(t[0],t[1],t[2])}function a(t){return t.split("/").map(Number)}function s(t){return(t[1]<<t[0])+t[2]}function c(t,e){var i=t[0],n=t[1],t=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;i=e.getFullTileRange(i);return!i||i.containsXY(n,t)}i.d(e,"a",function(){return n}),i.d(e,"d",function(){return r}),i.d(e,"c",function(){return o}),i.d(e,"b",function(){return a}),i.d(e,"e",function(){return s}),i.d(e,"f",function(){return c})},3333:function(t,e,i){"use strict";var n,r,o=i("cef7"),i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=(r=o.a,i(a,r),a);function a(t,e,i,n){t=r.call(this,t)||this;return t.inversePixelTransform=e,t.frameState=i,t.context=n,t}e.a=i},"345d":function(t,e,i){"use strict";function n(t){return 0<t[0]&&0<t[1]}function r(t,e,i){return(i=void 0===i?[0,0]:i)[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function o(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r}),i.d(e,"c",function(){return o})},"35a7":function(t,e,i){"use strict";var n,r,o=i("0ec0"),a=i("01d4"),s=i("1e8d"),i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=(r=o.a,i(c,r),c.prototype.changed=function(){++this.revision_,this.dispatchEvent(a.a.CHANGE)},c.prototype.getRevision=function(){return this.revision_},c.prototype.on=function(t,e){if(Array.isArray(t)){for(var i=t.length,n=new Array(i),r=0;r<i;++r)n[r]=Object(s.a)(this,t[r],e);return n}return Object(s.a)(this,t,e)},c.prototype.once=function(t,e){if(Array.isArray(t))for(var i=t.length,n=new Array(i),r=0;r<i;++r)n[r]=Object(s.b)(this,t[r],e);else n=Object(s.b)(this,t,e);return e.ol_key=n},c.prototype.un=function(t,e){var i=e.ol_key;if(i)!function(t){if(Array.isArray(t))for(var e=0,i=t.length;e<i;++e)Object(s.c)(t[e]);else Object(s.c)(t)}(i);else if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)this.removeEventListener(t[n],e);else this.removeEventListener(t,e)},c);function c(){var t=r.call(this)||this;return t.revision_=0,t}e.a=i},3820:function(t,e,i){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},"38f3":function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r}),i.d(e,"c",function(){return o}),i.d(e,"d",function(){return a});var n="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1,r=arguments.length;n<r;++n){var o=arguments[n];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(i[a]=o[a])}return i};function r(t){for(var e in t)delete t[e]}var o="function"==typeof Object.values?Object.values:function(t){var e,i=[];for(e in t)i.push(t[e]);return i};function a(t){for(var e in t)return!1;return!e}},"3c22":function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i("5c38"),i=(r.prototype.clear=function(){this.cache_={},this.cacheSize_=0},r.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},r.prototype.expire=function(){if(this.canExpireCache()){var t,e=0;for(t in this.cache_){var i=this.cache_[t];0!=(3&e++)||i.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}},r.prototype.get=function(t,e,i){i=o(t,e,i);return i in this.cache_?this.cache_[i]:null},r.prototype.set=function(t,e,i,n){i=o(t,e,i);this.cache_[i]=n,++this.cacheSize_},r.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},r);function r(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}function o(t,e,i){return e+":"+t+":"+(i?Object(n.b)(i):"null")}var a=new i},"3e6b":function(t,e,i){"use strict";var n=i("ae50"),r={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},p=[r.FILL],f=[r.STROKE],d=[r.BEGIN_PATH],_=[r.CLOSE_PATH],Rt=r,A=i("f623"),g=i("045d");function o(){}var a,s,c=(o.prototype.drawCustom=function(t,e,i){},o.prototype.drawGeometry=function(t){},o.prototype.setStyle=function(t){},o.prototype.drawCircle=function(t,e){},o.prototype.drawFeature=function(t,e){},o.prototype.drawGeometryCollection=function(t,e){},o.prototype.drawLineString=function(t,e){},o.prototype.drawMultiLineString=function(t,e){},o.prototype.drawMultiPoint=function(t,e){},o.prototype.drawMultiPolygon=function(t,e){},o.prototype.drawPoint=function(t,e){},o.prototype.drawPolygon=function(t,e){},o.prototype.drawText=function(t,e){},o.prototype.setFillStrokeStyle=function(t,e){},o.prototype.setImageStyle=function(t,e){},o.prototype.setTextStyle=function(t,e){},o),u=i("e98d"),St=i("0af5"),wt=i("ddea"),It=i("9f5e"),y=i("bb6c");function l(t,e,i,n){var r=s.call(this)||this;return r.tolerance=t,r.maxExtent=e,r.pixelRatio=n,r.maxLineWidth=0,r.resolution=i,r.beginGeometryInstruction1_=null,r.beginGeometryInstruction2_=null,r.bufferedMaxExtent_=null,r.instructions=[],r.coordinates=[],r.tmpCoordinate_=[],r.hitDetectionInstructions=[],r.state={},r}var h,v,m=((a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(l,s=c),l.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},l.prototype.appendFlatPointCoordinates=function(t,e){for(var i=this.getBufferedMaxExtent(),n=this.tmpCoordinate_,r=this.coordinates,o=r.length,a=0,s=t.length;a<s;a+=e)n[0]=t[a],n[1]=t[a+1],Object(St.f)(i,n)&&(r[o++]=n[0],r[o++]=n[1]);return o},l.prototype.appendFlatLineCoordinates=function(t,e,i,n,r,o){var a=this.coordinates,s=a.length,c=this.getBufferedMaxExtent();o&&(e+=n);for(var l,u,h=t[e],p=t[e+1],f=this.tmpCoordinate_,d=!0,_=e+n;_<i;_+=n)f[0]=t[_],f[1]=t[_+1],(u=Object(St.i)(c,f))!==l?(d&&(a[s++]=h,a[s++]=p,d=!1),a[s++]=f[0],a[s++]=f[1]):d=u!==g.a.INTERSECTING||(a[s++]=f[0],a[s++]=f[1],!1),h=f[0],p=f[1],l=u;return(r&&d||_===e+n)&&(a[s++]=h,a[s++]=p),s},l.prototype.drawCustomCoordinates_=function(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o){var s=i[o],c=this.appendFlatLineCoordinates(t,e,s,n,!1,!1);r.push(c),e=s}return e},l.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var n,r,o=t.getType(),a=t.getStride(),s=this.coordinates.length;if(o==A.a.MULTI_POLYGON){for(var c=t.getOrientedFlatCoordinates(),l=[],u=t.getEndss(),h=d=0,p=u.length;h<p;++h){var f=[],d=this.drawCustomCoordinates_(c,d,u[h],a,f);l.push(f)}this.instructions.push([Rt.CUSTOM,s,l,t,i,y.c])}else o==A.a.POLYGON||o==A.a.MULTI_LINE_STRING?(r=[],c=o==A.a.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),d=this.drawCustomCoordinates_(c,0,t.getEnds(),a,r),this.instructions.push([Rt.CUSTOM,s,r,t,i,y.b])):o==A.a.LINE_STRING||o==A.a.CIRCLE?(c=t.getFlatCoordinates(),n=this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1),this.instructions.push([Rt.CUSTOM,s,n,t,i,y.a])):o==A.a.MULTI_POINT?(c=t.getFlatCoordinates(),s<(n=this.appendFlatPointCoordinates(c,a))&&this.instructions.push([Rt.CUSTOM,s,n,t,i,y.a])):o==A.a.POINT&&(c=t.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),n=this.coordinates.length,this.instructions.push([Rt.CUSTOM,s,n,t,i]));this.endGeometry(e)},l.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Rt.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Rt.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},l.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},l.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();for(var e,i,n=t.length,r=-1,o=0;o<n;++o)(i=(e=t[o])[0])==Rt.END_GEOMETRY?r=o:i==Rt.BEGIN_GEOMETRY&&(e[2]=o,Object(It.h)(this.hitDetectionInstructions,r,o),r=-1)},l.prototype.setFillStrokeStyle=function(t,e){var i,n=this.state;t?(i=t.getColor(),n.fillStyle=Object(u.a)(i||wt.c)):n.fillStyle=void 0,e?(i=e.getColor(),n.strokeStyle=Object(u.a)(i||wt.l),i=e.getLineCap(),n.lineCap=void 0!==i?i:wt.e,i=e.getLineDash(),n.lineDash=i?i.slice():wt.f,i=e.getLineDashOffset(),n.lineDashOffset=i||wt.g,i=e.getLineJoin(),n.lineJoin=void 0!==i?i:wt.h,i=e.getWidth(),n.lineWidth=void 0!==i?i:wt.i,e=e.getMiterLimit(),n.miterLimit=void 0!==e?e:wt.j,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)):(n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0)},l.prototype.createFill=function(t){var e=t.fillStyle,t=[Rt.SET_FILL_STYLE,e];return"string"!=typeof e&&t.push(!0),t},l.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},l.prototype.createStroke=function(t){return[Rt.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},l.prototype.updateFillStyle=function(t,e){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)},l.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,n=t.lineCap,r=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,c=t.miterLimit;t.currentStrokeStyle==i&&t.currentLineCap==n&&(r==t.currentLineDash||Object(It.b)(t.currentLineDash,r))&&t.currentLineDashOffset==o&&t.currentLineJoin==a&&t.currentLineWidth==s&&t.currentMiterLimit==c||(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=n,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=c)},l.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;t=[Rt.END_GEOMETRY,t];this.instructions.push(t),this.hitDetectionInstructions.push(t)},l.prototype.getBufferedMaxExtent=function(){var t;return this.bufferedMaxExtent_||(this.bufferedMaxExtent_=Object(St.d)(this.maxExtent),0<this.maxLineWidth&&(t=this.resolution*(this.maxLineWidth+1)/2,Object(St.c)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_))),this.bufferedMaxExtent_},l);function b(t,e,i,n){n=v.call(this,t,e,i,n)||this;return n.hitDetectionImage_=null,n.image_=null,n.imagePixelRatio_=void 0,n.anchorX_=void 0,n.anchorY_=void 0,n.height_=void 0,n.opacity_=void 0,n.originX_=void 0,n.originY_=void 0,n.rotateWithView_=void 0,n.rotation_=void 0,n.scale_=void 0,n.width_=void 0,n.declutterImageWithText_=void 0,n}var O,E,x=((h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(b,v=m),b.prototype.drawPoint=function(t,e){var i,n;this.image_&&(this.beginGeometry(t,e),i=t.getFlatCoordinates(),n=t.getStride(),t=this.coordinates.length,n=this.appendFlatPointCoordinates(i,n),this.instructions.push([Rt.DRAW_IMAGE,t,n,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Rt.DRAW_IMAGE,t,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e))},b.prototype.drawMultiPoint=function(t,e){var i,n;this.image_&&(this.beginGeometry(t,e),i=t.getFlatCoordinates(),n=t.getStride(),t=this.coordinates.length,n=this.appendFlatPointCoordinates(i,n),this.instructions.push([Rt.DRAW_IMAGE,t,n,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Rt.DRAW_IMAGE,t,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e))},b.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,v.prototype.finish.call(this)},b.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),n=t.getSize(),r=t.getHitDetectionImage(),o=t.getImage(this.pixelRatio),a=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=r,this.image_=o,this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=n[0],this.declutterImageWithText_=e},b);function C(t,e,i,n){return E.call(this,t,e,i,n)||this}var j,T,R=((O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(C,E=m),C.prototype.drawFlatCoordinates_=function(t,e,i,n){var r=this.coordinates.length,n=this.appendFlatLineCoordinates(t,e,i,n,!1,!1),n=[Rt.MOVE_TO_LINE_TO,r,n];return this.instructions.push(n),this.hitDetectionInstructions.push(n),i},C.prototype.drawLineString=function(t,e){var i=this.state,n=i.strokeStyle,r=i.lineWidth;void 0!==n&&void 0!==r&&(this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Rt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],d),i=t.getFlatCoordinates(),t=t.getStride(),this.drawFlatCoordinates_(i,0,i.length,t),this.hitDetectionInstructions.push(f),this.endGeometry(e))},C.prototype.drawMultiLineString=function(t,e){var i=this.state,n=i.strokeStyle,r=i.lineWidth;if(void 0!==n&&void 0!==r){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Rt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],d);for(var o=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),c=0,l=0,u=o.length;l<u;++l)c=this.drawFlatCoordinates_(a,c,o[l],s);this.hitDetectionInstructions.push(f),this.endGeometry(e)}},C.prototype.finish=function(){var t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(f),this.reverseHitDetectionInstructions(),this.state=null,E.prototype.finish.call(this)},C.prototype.applyStroke=function(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(f),t.lastStroke=this.coordinates.length),t.lastStroke=0,E.prototype.applyStroke.call(this,t),this.instructions.push(d)},C),S=i("1c48");function w(t,e,i,n){return T.call(this,t,e,i,n)||this}var I=((j=function(t,e){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}j(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(w,T=m),w.prototype.drawFlatCoordinatess_=function(t,e,i,n){var r=this.state,o=void 0!==r.fillStyle,a=void 0!==r.strokeStyle,s=i.length;this.instructions.push(d),this.hitDetectionInstructions.push(d);for(var c=0;c<s;++c){var l=i[c],u=this.coordinates.length,h=this.appendFlatLineCoordinates(t,e,l,n,!0,!a),h=[Rt.MOVE_TO_LINE_TO,u,h];this.instructions.push(h),this.hitDetectionInstructions.push(h),a&&(this.instructions.push(_),this.hitDetectionInstructions.push(_)),e=l}return o&&(this.instructions.push(p),this.hitDetectionInstructions.push(p)),a&&(this.instructions.push(f),this.hitDetectionInstructions.push(f)),e},w.prototype.drawCircle=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;void 0===n&&void 0===r||(this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Rt.SET_FILL_STYLE,wt.c]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Rt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]),n=t.getFlatCoordinates(),r=t.getStride(),t=this.coordinates.length,this.appendFlatLineCoordinates(n,0,n.length,r,!1,!1),this.instructions.push(d,t=[Rt.CIRCLE,t]),this.hitDetectionInstructions.push(d,t),void 0!==i.fillStyle&&(this.instructions.push(p),this.hitDetectionInstructions.push(p)),void 0!==i.strokeStyle&&(this.instructions.push(f),this.hitDetectionInstructions.push(f)),this.endGeometry(e))},w.prototype.drawPolygon=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;void 0===n&&void 0===r||(this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Rt.SET_FILL_STYLE,wt.c]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Rt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]),r=t.getEnds(),i=t.getOrientedFlatCoordinates(),t=t.getStride(),this.drawFlatCoordinatess_(i,0,r,t),this.endGeometry(e))},w.prototype.drawMultiPolygon=function(t,e){var i=this.state,n=i.fillStyle,r=i.strokeStyle;if(void 0!==n||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([Rt.SET_FILL_STYLE,wt.c]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([Rt.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var o=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),c=0,l=0,u=o.length;l<u;++l)c=this.drawFlatCoordinatess_(a,c,o[l],s);this.endGeometry(e)}},w.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,i=0,n=e.length;i<n;++i)e[i]=Object(S.e)(e[i],t);return T.prototype.finish.call(this)},w.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},w),P=i("29f6"),L=i("1300");var M,F,r=(M=function(t,e){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}M(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Pt={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};function D(t,e,i,n){n=F.call(this,t,e,i,n)||this;return n.labels_=null,n.text_="",n.textOffsetX_=0,n.textOffsetY_=0,n.textRotateWithView_=void 0,n.textRotation_=0,n.textFillState_=null,n.fillStates={},n.textStrokeState_=null,n.strokeStates={},n.textState_={},n.textStates={},n.textKey_="",n.fillKey_="",n.strokeKey_="",n.declutterImageWithText_=void 0,n}var G={Circle:I,Default:m,Image:x,LineString:R,Polygon:I,Text:(r(D,F=m),D.prototype.finish=function(){var t=F.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},D.prototype.drawText=function(t,e){var i=this.textFillState_,n=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(i||n)){var o=this.coordinates,a=o.length,s=t.getType(),c=null,l=t.getStride();if(r.placement!==P.a.LINE||s!=A.a.LINE_STRING&&s!=A.a.MULTI_LINE_STRING&&s!=A.a.POLYGON&&s!=A.a.MULTI_POLYGON){var u,h,p,f,d=r.overflow?null:[];switch(s){case A.a.POINT:case A.a.MULTI_POINT:c=t.getFlatCoordinates();break;case A.a.LINE_STRING:c=t.getFlatMidpoint();break;case A.a.CIRCLE:c=t.getCenter();break;case A.a.MULTI_LINE_STRING:c=t.getFlatMidpoints(),l=2;break;case A.a.POLYGON:c=t.getFlatInteriorPoint(),r.overflow||d.push(c[2]/this.resolution),l=3;break;case A.a.MULTI_POLYGON:var _=t.getFlatInteriorPoints();c=[];for(v=0,m=_.length;v<m;v+=3)r.overflow||d.push(_[v+2]/this.resolution),c.push(_[v],_[v+1]);if(0===c.length)return;l=2}(T=this.appendFlatPointCoordinates(c,l))!==a&&(this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),(u=r.padding)!=wt.k&&(r.scale[0]<0||r.scale[1]<0)&&(h=r.padding[0],i=r.padding[1],n=r.padding[2],f=r.padding[3],r.scale[0]<0&&(i=-i,f=-f),r.scale[1]<0&&(h=-h,n=-n),u=[h,i,n,f]),p=this.pixelRatio,this.instructions.push([Rt.DRAW_IMAGE,a,T,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,u==wt.k?wt.k:u.map(function(t){return t*p}),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]),this.hitDetectionInstructions.push([Rt.DRAW_IMAGE,a,T,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[f=1/p,f],NaN,this.declutterImageWithText_,u,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,d]),this.endGeometry(e))}else if(Object(St.F)(this.getBufferedMaxExtent(),t.getExtent())){var g=void 0,c=t.getFlatCoordinates();if(s==A.a.LINE_STRING)g=[c.length];else if(s==A.a.MULTI_LINE_STRING)g=t.getEnds();else if(s==A.a.POLYGON)g=t.getEnds().slice(0,1);else if(s==A.a.MULTI_POLYGON)for(var y=t.getEndss(),g=[],v=0,m=y.length;v<m;++v)g.push(y[v][0]);this.beginGeometry(t,e);for(var b,O=r.textAlign,E=0,x=void 0,C=0,j=g.length;C<j;++C){x=null==O?(E=(b=function(t,e,i,n,r){for(var o,a,s,c,l,u,h,p,f=i,d=i,_=0,g=0,y=i,v=i;v<n;v+=r){var m=e[v],b=e[v+1];void 0!==s&&(h=m-s,p=b-c,a=Math.sqrt(h*h+p*p),void 0!==l&&(g+=o,t<Math.acos((l*h+u*p)/(o*a))&&(_<g&&(_=g,f=y,d=v),g=0,y=v-r)),o=a,l=h,u=p),s=m,c=b}return _<(g+=a)?[y,v]:[f,d]}(r.maxAngle,c,E,g[C],l))[0],b[1]):g[C];for(var v=E;v<x;v+=l)o.push(c[v],c[v+1]);var T=o.length;E=g[C],this.drawChars_(a,T),a=T}this.endGeometry(e)}}},D.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,n=this.strokeKey_;t&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));t=this.textKey_;t in this.textStates||(this.textStates[t]={font:e.font,textAlign:e.textAlign||wt.m,textBaseline:e.textBaseline||wt.n,scale:e.scale});e=this.fillKey_;i&&(e in this.fillStates||(this.fillStates[e]={fillStyle:i.fillStyle}))},D.prototype.drawChars_=function(t,e){var i=this.textStrokeState_,n=this.textState_,r=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();var s=this.pixelRatio,c=Pt[n.textBaseline],l=this.textOffsetY_*s,u=this.text_,i=i?i.lineWidth*Math.abs(n.scale[0])/2:0;this.instructions.push([Rt.DRAW_CHARS,t,e,c,n.overflow,a,n.maxAngle,s,l,r,i*s,u,o,1]),this.hitDetectionInstructions.push([Rt.DRAW_CHARS,t,e,c,n.overflow,a,n.maxAngle,1,l,r,i,u,o,1/s])},D.prototype.setTextStyle=function(t,e){var i,n,r,o,a,s,c;t?((a=t.getFill())?((i=this.textFillState_)||(this.textFillState_=i={}),i.fillStyle=Object(u.a)(a.getColor()||wt.c)):this.textFillState_=i=null,(a=t.getStroke())?((n=this.textStrokeState_)||(this.textStrokeState_=n={}),r=a.getLineDash(),s=a.getLineDashOffset(),c=a.getWidth(),o=a.getMiterLimit(),n.lineCap=a.getLineCap()||wt.e,n.lineDash=r?r.slice():wt.f,n.lineDashOffset=void 0===s?wt.g:s,n.lineJoin=a.getLineJoin()||wt.h,n.lineWidth=void 0===c?wt.i:c,n.miterLimit=void 0===o?wt.j:o,n.strokeStyle=Object(u.a)(a.getColor()||wt.l)):this.textStrokeState_=n=null,r=this.textState_,s=t.getFont()||wt.d,Object(wt.s)(s),c=t.getScaleArray(),r.overflow=t.getOverflow(),r.font=s,r.maxAngle=t.getMaxAngle(),r.placement=t.getPlacement(),r.textAlign=t.getTextAlign(),r.textBaseline=t.getTextBaseline()||wt.n,r.backgroundFill=t.getBackgroundFill(),r.backgroundStroke=t.getBackgroundStroke(),r.padding=t.getPadding()||wt.k,r.scale=void 0===c?[1,1]:c,o=t.getOffsetX(),a=t.getOffsetY(),s=t.getRotateWithView(),c=t.getRotation(),this.text_=t.getText()||"",this.textOffsetX_=void 0===o?0:o,this.textOffsetY_=void 0===a?0:a,this.textRotateWithView_=void 0!==s&&s,this.textRotation_=void 0===c?0:c,this.strokeKey_=n?("string"==typeof n.strokeStyle?n.strokeStyle:Object(L.c)(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.textBaseline||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+Object(L.c)(i.fillStyle):""):this.text_="",this.declutterImageWithText_=e},D)};function N(t,e,i,n){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=n,this.resolution_=i,this.buildersByZIndex_={}}var k=(N.prototype.finish=function(){var t,e={};for(t in this.buildersByZIndex_){e[t]=e[t]||{};var i,n=this.buildersByZIndex_[t];for(i in n){var r=n[i].finish();e[t][i]=r}}return e},N.prototype.getBuilder=function(t,e){var i=void 0!==t?t.toString():"0",t=this.buildersByZIndex_[i];void 0===t&&(this.buildersByZIndex_[i]=t={});i=t[e];return void 0===i&&(i=new G[e](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),t[e]=i),i},N),r=i("137e"),z={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"},U=i("617d"),At=i("a896"),Lt=i("7fc9"),Mt=i("bef8");var Ft=i("5938"),X=Object(St.j)(),B=[],Y=[],W=[],K=[];function Dt(t){return t[3].declutterBox}var V=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Z(t,e){return"start"!==e&&"end"!==e||V.test(t)||(e="start"===e?"left":"right"),Pt[e]}function H(t,e,i,n,r){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderBuffer_=r,this.renderedTransform_=Object(At.c)(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}var q=(H.prototype.createLabel=function(t,e,i,n){var r=t+e+i+n;if(this.labels_[r])return this.labels_[r];var o=n?this.strokeStates[n]:null,a=i?this.fillStates[i]:null,s=this.textStates[e],c=this.pixelRatio,l=[s.scale[0]*c,s.scale[1]*c],u=Z(t,s.textAlign||wt.m),h=n&&o.lineWidth?o.lineWidth:0,p=t.split("\n"),f=p.length,d=[],e=Object(wt.r)(s.font,p,d),_=Object(wt.q)(s.font),c=e+h,g=[],t=(c+2)*l[0],e=(_*f+h)*l[1],e={width:t<0?Math.floor(t):Math.ceil(t),height:e<0?Math.floor(e):Math.ceil(e),contextInstructions:g};1==l[0]&&1==l[1]||g.push("scale",l),g.push("font",s.font),n&&(g.push("strokeStyle",o.strokeStyle),g.push("lineWidth",h),g.push("lineCap",o.lineCap),g.push("lineJoin",o.lineJoin),g.push("miterLimit",o.miterLimit),(U.g?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(g.push("setLineDash",[o.lineDash]),g.push("lineDashOffset",o.lineDashOffset))),i&&g.push("fillStyle",a.fillStyle),g.push("textBaseline","middle"),g.push("textAlign","center");var y,v=.5-u,m=u*c+v*h;if(n)for(y=0;y<f;++y)g.push("strokeText",[p[y],m+v*d[y],.5*(h+_)+y*_]);if(i)for(y=0;y<f;++y)g.push("fillText",[p[y],m+v*d[y],.5*(h+_)+y*_]);return this.labels_[r]=e},H.prototype.replayTextBackground_=function(t,e,i,n,r,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},H.prototype.calculateImageOrLabelDimensions_=function(t,e,i,n,r,o,a,s,c,l,u,h,p,f,d,_){var g,y=i-(a*=h[0]),a=n-(s*=h[1]),s=t<r+c?t-c:r,t=e<o+l?e-l:o,r=f[3]+s*h[0]+f[1],e=f[0]+t*h[1]+f[2],o=y-f[3],f=a-f[0];return!d&&0===u||(B[0]=o,K[0]=o,B[1]=f,Y[1]=f,Y[0]=o+r,W[0]=Y[0],W[1]=f+e,K[1]=W[1]),0!==u?(g=Object(At.b)(Object(At.c)(),i,n,1,1,u,-i,-n),Object(At.a)(g,B),Object(At.a)(g,Y),Object(At.a)(g,W),Object(At.a)(g,K),Object(St.k)(Math.min(B[0],Y[0],W[0],K[0]),Math.min(B[1],Y[1],W[1],K[1]),Math.max(B[0],Y[0],W[0],K[0]),Math.max(B[1],Y[1],W[1],K[1]),X)):Object(St.k)(Math.min(o,o+r),Math.min(f,f+e),Math.max(o,o+r),Math.max(f,f+e),X),p&&(y=Math.round(y),a=Math.round(a)),{drawImageX:y,drawImageY:a,drawImageW:s,drawImageH:t,originX:c,originY:l,declutterBox:{minX:X[0],minY:X[1],maxX:X[2],maxY:X[3],value:_},canvasTransform:g,scale:h}},H.prototype.replayImageOrLabel_=function(t,e,i,n,r,o,a){var s=n.declutterBox,c=t.canvas,l=a?a[2]*n.scale[0]/2:0;return s.minX-l<=c.width/e&&0<=s.maxX+l&&s.minY-l<=c.height/e&&0<=s.maxY+l&&(!(!o&&!a)&&this.replayTextBackground_(t,B,Y,W,K,o,a),Object(wt.o)(t,n.canvasTransform,r,i,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0},H.prototype.fill_=function(t){var e,i;this.alignFill_&&(e=Object(At.a)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio,t.save(),t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)),t.fill(),this.alignFill_&&t.restore()},H.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},H.prototype.drawLabelWithPointPlacement_=function(t,e,i,n){var r=this.textStates[e],o=this.createLabel(t,e,n,i),e=this.strokeStates[i],n=this.pixelRatio,i=Z(t,r.textAlign||wt.m),t=Pt[r.textBaseline||wt.n],e=e&&e.lineWidth?e.lineWidth:0;return{label:o,anchorX:i*(o.width/n-2*r.scale[0])+2*(.5-i)*e,anchorY:t*o.height/n+2*(.5-t)*e}},H.prototype.execute_=function(t,e,i,n,r,o,a,s){var c;this.pixelCoordinates_&&Object(It.b)(i,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=Object(Mt.c)(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),Object(At.j)(this.renderedTransform_,i));for(var l,u,h,p,f,d,_,g=0,y=n.length,v=0,m=0,b=0,O=null,E=null,x=this.coordinateCache_,C=this.viewRotation_,j=Math.round(1e12*Math.atan2(-i[1],i[0]))/1e12,T={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:C},R=this.instructions!=n||this.overlaps?0:200;g<y;){var S=n[g];switch(S[0]){case Rt.BEGIN_GEOMETRY:Tt=S[1],_=S[3],Tt.getGeometry()?void 0===a||Object(St.F)(a,_.getExtent())?++g:g=S[2]+1:g=S[2];break;case Rt.BEGIN_PATH:R<m&&(this.fill_(t),m=0),R<b&&(t.stroke(),b=0),m||b||(t.beginPath(),u=l=NaN),++g;break;case Rt.CIRCLE:var w=c[v=S[1]],I=c[v+1],P=c[v+2]-w,A=c[v+3]-I,A=Math.sqrt(P*P+A*A);t.moveTo(w+A,I),t.arc(w,I,A,0,2*Math.PI,!0),++g;break;case Rt.CLOSE_PATH:t.closePath(),++g;break;case Rt.CUSTOM:v=S[1];var L=S[2],M=S[3],F=S[4],D=6==S.length?S[5]:void 0;T.geometry=M,T.feature=Tt,g in x||(x[g]=[]);M=x[g];D?D(c,v,L,2,M):(M[0]=c[v],M[1]=c[v+1],M.length=2),F(M,T),++g;break;case Rt.DRAW_IMAGE:v=S[1],L=S[2],U=S[3],X=S[4],B=S[5];var G,N,k,z,U,X,B,Y=S[6],W=S[7],K=S[8],V=S[9],Z=S[10],H=S[11],q=S[12],J=S[13],Q=S[14];!U&&19<=S.length&&(G=S[18],N=S[19],k=S[20],z=S[21],U=(lt=this.drawLabelWithPointPlacement_(G,N,k,z)).label,S[3]=U,ct=S[22],X=(lt.anchorX-ct)*this.pixelRatio,S[4]=X,ft=S[23],B=(lt.anchorY-ft)*this.pixelRatio,S[5]=B,Y=U.height,S[6]=Y,J=U.width,S[13]=J);var $=void 0;24<S.length&&($=S[24]);var tt=void 0,et=void 0,it=void 0,it=16<S.length?(tt=S[15],et=S[16],S[17]):(tt=wt.k,et=!1);Z&&j?H+=C:Z||j||(H-=C);for(var nt=0;v<L;v+=2)if(!($&&$[nt++]<J/this.pixelRatio)){var rt=[t,e,U,xt=this.calculateImageOrLabelDimensions_(U.width,U.height,c[v],c[v+1],J,Y,X,B,K,V,H,q,r,tt,et||it,Tt),W,et?O:null,it?E:null],ot=void 0,at=void 0;if(s&&Q){if(!Q[v]){Q[v]=rt;continue}if(ot=Q[v],delete Q[v],at=Dt(ot),s.collides(at))continue}s&&s.collides(xt.declutterBox)||(ot&&(s&&s.insert(at),this.replayImageOrLabel_.apply(this,ot)),s&&s.insert(xt.declutterBox),this.replayImageOrLabel_.apply(this,rt))}++g;break;case Rt.DRAW_CHARS:var D=S[1],F=S[2],st=S[3],M=S[4];z=S[5];var ct=S[6],lt=S[7],ut=S[8];k=S[9];var ht=S[10];G=S[11],N=S[12];var pt=[S[13],S[13]],ft=this.textStates[N],Z=ft.font,dt=[ft.scale[0]*lt,ft.scale[1]*lt],_t=void 0;Z in this.widths_?_t=this.widths_[Z]:this.widths_[Z]=_t={};ft=Object(Ft.a)(c,D,F,2),lt=Math.abs(dt[0])*Object(wt.p)(Z,G,_t);if(M||lt<=ft){var M=this.textStates[N].textAlign,gt=function(t,e,i,n,r,o,a,s,c,l,u,h){var p=t[e],f=t[e+1],d=0,_=0,g=0,y=0;function v(){d=p,_=f,p=t[e+=n],f=t[e+1],y+=g,g=Math.sqrt((p-d)*(p-d)+(f-_)*(f-_))}for(;v(),e<i-n&&y+g<o;);for(var m=(o-y)/g,b=Object(Lt.c)(d,p,m),O=Object(Lt.c)(_,f,m),E=e-n,x=y,C=o+s*c(l,r,u);e<i-n&&y+g<C;)v();m=(C-y)/g;var j=Object(Lt.c)(d,p,m),T=Object(Lt.c)(_,f,m),R=h?(I=[b,O,j,T],Object(Mt.a)(I,0,4,2,h,I,I),I[2]<I[0]):j<b,S=Math.PI,w=[],I=E+n===e,g=0,y=x,p=t[e=E],f=t[e+1];if(I){v();I=Math.atan2(f-_,p-d);return R&&(I+=0<I?-S:S),w[0]=[F=(j+b)/2,D=(T+O)/2,(C-o)/2,I,r],w}for(var P=0,A=r.length;P<A;){v();var L=Math.atan2(f-_,p-d);if(R&&(L+=0<L?-S:S),void 0!==G){var M=L-G;if(M+=S<M?-2*S:M<-S?2*S:0,Math.abs(M)>a)return null}for(var F,D,G=L,M=P,N=0;P<A;++P){var k=s*c(l,r[R?A-P-1:P],u);if(e+n<i&&y+g<o+N+k/2)break;N+=k}P!==M&&(M=R?r.substring(A-M,A-P):r.substring(M,P),m=(o+N/2-y)/g,F=Object(Lt.c)(d,p,m),D=Object(Lt.c)(_,f,m),w.push([F,D,N/2,L,M]),o+=N)}return w}(c,D,F,2,G,(ft-lt)*Pt[M],ct,Math.abs(dt[0]),wt.p,Z,_t,j?0:this.viewRotation_);t:if(gt){var yt=[],vt=void 0,mt=void 0,bt=void 0,Ot=void 0,Et=void 0;if(k)for(vt=0,mt=gt.length;vt<mt;++vt){bt=(Et=gt[vt])[4],Ot=this.createLabel(bt,N,"",k),X=Et[2]+(dt[0]<0?-ht:ht),B=st*Ot.height+2*(.5-st)*ht*dt[1]/dt[0]-ut;var xt=this.calculateImageOrLabelDimensions_(Ot.width,Ot.height,Et[0],Et[1],Ot.width,Ot.height,X,B,0,0,Et[3],pt,!1,wt.k,!1,Tt);if(s&&s.collides(xt.declutterBox))break t;yt.push([t,e,Ot,xt,1,null,null])}if(z)for(vt=0,mt=gt.length;vt<mt;++vt){bt=(Et=gt[vt])[4],Ot=this.createLabel(bt,N,z,""),X=Et[2],B=st*Ot.height-ut;xt=this.calculateImageOrLabelDimensions_(Ot.width,Ot.height,Et[0],Et[1],Ot.width,Ot.height,X,B,0,0,Et[3],pt,!1,wt.k,!1,Tt);if(s&&s.collides(xt.declutterBox))break t;yt.push([t,e,Ot,xt,1,null,null])}s&&s.load(yt.map(Dt));for(var Ct=0,jt=yt.length;Ct<jt;++Ct)this.replayImageOrLabel_.apply(this,yt[Ct])}}++g;break;case Rt.END_GEOMETRY:if(void 0!==o){var Tt,_t=o(Tt=S[1],_);if(_t)return _t}++g;break;case Rt.FILL:R?m++:this.fill_(t),++g;break;case Rt.MOVE_TO_LINE_TO:for(v=S[1],L=S[2],f=c[v],p=(d=c[v+1])+.5|0,(h=f+.5|0)===l&&p===u||(t.moveTo(f,d),l=h,u=p),v+=2;v<L;v+=2)h=(f=c[v])+.5|0,p=(d=c[v+1])+.5|0,v!=L-2&&h===l&&p===u||(t.lineTo(f,d),l=h,u=p);++g;break;case Rt.SET_FILL_STYLE:this.alignFill_=(O=S)[2],m&&(this.fill_(t),m=0,b&&(t.stroke(),b=0)),t.fillStyle=S[1],++g;break;case Rt.SET_STROKE_STYLE:E=S,b&&(t.stroke(),b=0),this.setStrokeStyle_(t,S),++g;break;case Rt.STROKE:R?b++:t.stroke(),++g;break;default:++g}}m&&this.fill_(t),b&&t.stroke()},H.prototype.execute=function(t,e,i,n,r,o){this.viewRotation_=n,this.execute_(t,e,i,this.instructions,r,void 0,void 0,o)},H.prototype.executeHitDetection=function(t,e,i,n,r){return this.viewRotation_=i,this.execute_(t,1,e,this.hitDetectionInstructions,!0,n,r)},H),J=i("0999"),Q=i("38f3"),$=[z.POLYGON,z.CIRCLE,z.LINE_STRING,z.IMAGE,z.TEXT,z.DEFAULT],m=(tt.prototype.clip=function(t,e){e=this.getClipCoords(e);t.beginPath(),t.moveTo(e[0],e[1]),t.lineTo(e[2],e[3]),t.lineTo(e[4],e[5]),t.lineTo(e[6],e[7]),t.clip()},tt.prototype.createExecutors_=function(t){for(var e in t){var i=this.executorsByZIndex_[e];void 0===i&&(this.executorsByZIndex_[e]=i={});var n,r=t[e],o=[this.renderBuffer_||0,this.renderBuffer_||0];for(n in r){var a=r[n];i[n]=new q(this.resolution_,this.pixelRatio_,this.overlaps_,a,o)}}},tt.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var i=this.executorsByZIndex_[e],n=0,r=t.length;n<r;++n)if(t[n]in i)return!0;return!1},tt.prototype.forEachFeatureAtCoordinate=function(t,e,i,s,c,l){var u=2*(s=Math.round(s))+1,n=Object(At.b)(this.hitDetectionTransform_,s+.5,s+.5,1/e,-1/e,-i,-t[0],-t[1]),r=!this.hitDetectionContext_;r&&(this.hitDetectionContext_=Object(J.a)(u,u));var o,h=this.hitDetectionContext_;h.canvas.width!==u||h.canvas.height!==u?(h.canvas.width=u,h.canvas.height=u):r||h.clearRect(0,0,u,u),void 0!==this.renderBuffer_&&(o=Object(St.j)(),Object(St.r)(o,t),Object(St.c)(o,e*(this.renderBuffer_+s),o));var p,f=function(t){if(void 0!==et[t])return et[t];for(var e=2*t+1,i=t*t,n=new Array(1+i),r=0;r<=t;++r)for(var o=0;o<=t;++o){var a=r*r+o*o;if(i<a)break;var s=n[a];s||(s=[],n[a]=s),s.push(4*((t+r)*e+(t+o))+3),0<r&&s.push(4*((t-r)*e+(t+o))+3),0<o&&(s.push(4*((t+r)*e+(t-o))+3),0<r&&s.push(4*((t-r)*e+(t-o))+3))}for(var c=[],r=0,l=n.length;r<l;++r)n[r]&&c.push.apply(c,n[r]);return et[t]=c}(s);function a(t,e){for(var i=h.getImageData(0,0,u,u).data,n=0,r=f.length;n<r;n++)if(0<i[f[n]]){if(!l||p!==z.IMAGE&&p!==z.TEXT||-1!==l.indexOf(t)){var o=(f[n]-3)/4,a=s-o%u,o=s-(o/u|0),o=c(t,e,a*a+o*o);if(o)return o}h.clearRect(0,0,u,u);break}}var d,_,g,y=Object.keys(this.executorsByZIndex_).map(Number);for(y.sort(It.g),d=y.length-1;0<=d;--d)for(var v=y[d].toString(),m=this.executorsByZIndex_[v],b=$.length-1;0<=b;--b)if(void 0!==(_=m[p=$[b]])&&(g=_.executeHitDetection(h,n,i,a,o)))return g},tt.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var i=e[0],n=e[1],r=e[2],e=e[3],n=[i,n,i,e,r,e,r,n];return Object(Mt.c)(n,0,8,2,t,n),n},tt.prototype.isEmpty=function(){return Object(Q.d)(this.executorsByZIndex_)},tt.prototype.execute=function(t,e,i,n,r,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(It.g),this.maxExtent_&&(t.save(),this.clip(t,i));var c,l,u=o||$;for(a&&s.reverse(),c=0,l=s.length;c<l;++c)for(var h,p=s[c].toString(),f=this.executorsByZIndex_[p],d=0,_=u.length;d<_;++d)void 0!==(h=f[u[d]])&&h.execute(t,e,i,n,r,a);this.maxExtent_&&t.restore()},tt);function tt(t,e,i,n,r,o){this.maxExtent_=t,this.overlaps_=n,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Object(At.c)(),this.createExecutors_(r)}var et={};var it,nt,rt=m,ot=i("496f"),at=i("9abc");function st(t,e,i,n,r,o,a){var s=nt.call(this)||this;return s.context_=t,s.pixelRatio_=e,s.extent_=i,s.transform_=n,s.viewRotation_=r,s.squaredTolerance_=o,s.userTransform_=a,s.contextFillState_=null,s.contextStrokeState_=null,s.contextTextState_=null,s.fillState_=null,s.strokeState_=null,s.image_=null,s.imageAnchorX_=0,s.imageAnchorY_=0,s.imageHeight_=0,s.imageOpacity_=0,s.imageOriginX_=0,s.imageOriginY_=0,s.imageRotateWithView_=!1,s.imageRotation_=0,s.imageScale_=[0,0],s.imageWidth_=0,s.text_="",s.textOffsetX_=0,s.textOffsetY_=0,s.textRotateWithView_=!1,s.textRotation_=0,s.textScale_=[0,0],s.textFillState_=null,s.textStrokeState_=null,s.textState_=null,s.pixelCoordinates_=[],s.tmpLocalTransform_=Object(At.c)(),s}var ct=((it=function(t,e){return(it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}it(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(st,nt=c),st.prototype.drawImages_=function(t,e,i,n){if(this.image_){var r=Object(Mt.c)(t,e,i,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,i=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=i*this.imageOpacity_);var s=this.imageRotation_;this.imageRotateWithView_&&(s+=this.viewRotation_);for(var c=0,l=r.length;c<l;c+=2){var u,h,p=r[c]-this.imageAnchorX_,f=r[c+1]-this.imageAnchorY_;0!==s||1!=this.imageScale_[0]||1!=this.imageScale_[1]?(u=p+this.imageAnchorX_,h=f+this.imageAnchorY_,Object(At.b)(a,u,h,1,1,s,-u,-h),o.setTransform.apply(o,a),o.translate(u,h),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)):o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,f,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=i)}},st.prototype.drawText_=function(t,e,i,n){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Object(Mt.c)(t,e,i,n,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<i;e+=n){var s,c=r[e]+this.textOffsetX_,l=r[e+1]+this.textOffsetY_;0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]?(s=Object(At.b)(this.tmpLocalTransform_,c,l,1,1,a,-c,-l),o.setTransform.apply(o,s),o.translate(c,l),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&o.strokeText(this.text_,c,l),this.textFillState_&&o.fillText(this.text_,c,l))}}},st.prototype.moveToLineTo_=function(t,e,i,n,r){var o=this.context_,a=Object(Mt.c)(t,e,i,n,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;r&&(s-=2);for(var c=2;c<s;c+=2)o.lineTo(a[c],a[c+1]);return r&&o.closePath(),i},st.prototype.drawRings_=function(t,e,i,n){for(var r=0,o=i.length;r<o;++r)e=this.moveToLineTo_(t,e,i[r],n,!0);return e},st.prototype.drawCircle=function(t){var e,i,n;Object(St.F)(this.extent_,t.getExtent())&&((this.fillState_||this.strokeState_)&&(this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_),i=(e=Object(at.b)(t,this.transform_,this.pixelCoordinates_))[2]-e[0],n=e[3]-e[1],i=Math.sqrt(i*i+n*n),(n=this.context_).beginPath(),n.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()),""!==this.text_&&this.drawText_(t.getCenter(),0,2,2))},st.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},st.prototype.setTransform=function(t){this.transform_=t},st.prototype.drawGeometry=function(t){switch(t.getType()){case A.a.POINT:this.drawPoint(t);break;case A.a.LINE_STRING:this.drawLineString(t);break;case A.a.POLYGON:this.drawPolygon(t);break;case A.a.MULTI_POINT:this.drawMultiPoint(t);break;case A.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case A.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case A.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case A.a.CIRCLE:this.drawCircle(t)}},st.prototype.drawFeature=function(t,e){t=e.getGeometryFunction()(t);t&&Object(St.F)(this.extent_,t.getExtent())&&(this.setStyle(e),this.drawGeometry(t))},st.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,n=e.length;i<n;++i)this.drawGeometry(e[i])},st.prototype.drawPoint=function(t){var e=(t=this.squaredTolerance_?t.simplifyTransformed(this.squaredTolerance_,this.userTransform_):t).getFlatCoordinates(),t=t.getStride();this.image_&&this.drawImages_(e,0,e.length,t),""!==this.text_&&this.drawText_(e,0,e.length,t)},st.prototype.drawMultiPoint=function(t){var e=(t=this.squaredTolerance_?t.simplifyTransformed(this.squaredTolerance_,this.userTransform_):t).getFlatCoordinates(),t=t.getStride();this.image_&&this.drawImages_(e,0,e.length,t),""!==this.text_&&this.drawText_(e,0,e.length,t)},st.prototype.drawLineString=function(t){var e,i;this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(St.F)(this.extent_,t.getExtent())&&(this.strokeState_&&(this.setContextStrokeState_(this.strokeState_),e=this.context_,i=t.getFlatCoordinates(),e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()),""!==this.text_&&(t=t.getFlatMidpoint(),this.drawText_(t,0,2,2)))},st.prototype.drawMultiLineString=function(t){var e=(t=this.squaredTolerance_?t.simplifyTransformed(this.squaredTolerance_,this.userTransform_):t).getExtent();if(Object(St.F)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates(),n=0,r=t.getEnds(),o=t.getStride();e.beginPath();for(var a=0,s=r.length;a<s;++a)n=this.moveToLineTo_(i,n,r[a],o,!1);e.stroke()}""!==this.text_&&(t=t.getFlatMidpoints(),this.drawText_(t,0,t.length,2))}},st.prototype.drawPolygon=function(t){var e;this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(St.F)(this.extent_,t.getExtent())&&((this.strokeState_||this.fillState_)&&(this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_),(e=this.context_).beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()),""!==this.text_&&(t=t.getFlatInteriorPoint(),this.drawText_(t,0,2,2)))},st.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(St.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),n=0,r=t.getEndss(),o=t.getStride();e.beginPath();for(var a=0,s=r.length;a<s;++a)var c=r[a],n=this.drawRings_(i,n,c,o);this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}""!==this.text_&&(t=t.getFlatInteriorPoints(),this.drawText_(t,0,t.length,2))}},st.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},st.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Object(It.b)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},st.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,n=t.textAlign||wt.m;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=n&&(i.textAlign=n,e.textAlign=n),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})},st.prototype.setFillStrokeStyle=function(t,e){var i,n,r,o,a;t?(a=t.getColor(),this.fillState_={fillStyle:Object(u.a)(a||wt.c)}):this.fillState_=null,e?(i=e.getColor(),n=e.getLineCap(),r=e.getLineDash(),o=e.getLineDashOffset(),t=e.getLineJoin(),a=e.getWidth(),e=e.getMiterLimit(),this.strokeState_={lineCap:void 0!==n?n:wt.e,lineDash:r||wt.f,lineDashOffset:o||wt.g,lineJoin:void 0!==t?t:wt.h,lineWidth:this.pixelRatio_*(void 0!==a?a:wt.i),miterLimit:void 0!==e?e:wt.j,strokeStyle:Object(u.a)(i||wt.l)}):this.strokeState_=null},st.prototype.setImageStyle=function(t){var e,i,n,r,o;t&&(e=t.getSize())?(i=t.getAnchor(),n=t.getImage(1),r=t.getOrigin(),o=t.getScaleArray(),this.imageAnchorX_=i[0],this.imageAnchorY_=i[1],this.imageHeight_=e[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=[this.pixelRatio_*o[0],this.pixelRatio_*o[1]],this.imageWidth_=e[0]):this.image_=null},st.prototype.setTextStyle=function(t){var e,i,n,r,o,a,s,c,l;t?((e=t.getFill())?(i=e.getColor(),this.textFillState_={fillStyle:Object(u.a)(i||wt.c)}):this.textFillState_=null,(i=t.getStroke())?(l=i.getColor(),n=i.getLineCap(),r=i.getLineDash(),o=i.getLineDashOffset(),a=i.getLineJoin(),s=i.getWidth(),c=i.getMiterLimit(),this.textStrokeState_={lineCap:void 0!==n?n:wt.e,lineDash:r||wt.f,lineDashOffset:o||wt.g,lineJoin:void 0!==a?a:wt.h,lineWidth:void 0!==s?s:wt.i,miterLimit:void 0!==c?c:wt.j,strokeStyle:Object(u.a)(l||wt.l)}):this.textStrokeState_=null,i=t.getFont(),n=t.getOffsetX(),r=t.getOffsetY(),o=t.getRotateWithView(),a=t.getRotation(),s=t.getScaleArray(),c=t.getText(),l=t.getTextAlign(),t=t.getTextBaseline(),this.textState_={font:void 0!==i?i:wt.d,textAlign:void 0!==l?l:wt.m,textBaseline:void 0!==t?t:wt.n},this.text_=void 0!==c?c:"",this.textOffsetX_=void 0!==n?this.pixelRatio_*n:0,this.textOffsetY_=void 0!==r?this.pixelRatio_*r:0,this.textRotateWithView_=void 0!==o&&o,this.textRotation_=void 0!==a?a:0,this.textScale_=[this.pixelRatio_*s[0],this.pixelRatio_*s[1]]):this.text_=""},st),lt=i("82b0"),ut=i("6cbf");var ht=i("869f"),pt=.5,ft={Point:function(t,e,i,n,r){var o,a=i.getImage(),s=i.getText();r&&(t=r,o=a&&s&&s.getText()?{}:void 0);if(a){if(a.getImageState()!=ht.a.LOADED)return;r=t.getBuilder(i.getZIndex(),z.IMAGE);r.setImageStyle(a,o),r.drawPoint(e,n)}s&&s.getText()&&((i=t.getBuilder(i.getZIndex(),z.TEXT)).setTextStyle(s,o),i.drawText(e,n))},LineString:function(t,e,i,n,r){var o=i.getStroke();o&&((a=t.getBuilder(i.getZIndex(),z.LINE_STRING)).setFillStrokeStyle(null,o),a.drawLineString(e,n));var a=i.getText();a&&a.getText()&&((i=(r||t).getBuilder(i.getZIndex(),z.TEXT)).setTextStyle(a),i.drawText(e,n))},Polygon:function(t,e,i,n,r){var o=i.getFill(),a=i.getStroke();(o||a)&&((s=t.getBuilder(i.getZIndex(),z.POLYGON)).setFillStrokeStyle(o,a),s.drawPolygon(e,n));var s=i.getText();s&&s.getText()&&((i=(r||t).getBuilder(i.getZIndex(),z.TEXT)).setTextStyle(s),i.drawText(e,n))},MultiPoint:function(t,e,i,n,r){var o,a=i.getImage(),s=i.getText();r&&(t=r,o=a&&s&&s.getText()?{}:void 0);if(a){if(a.getImageState()!=ht.a.LOADED)return;var c=t.getBuilder(i.getZIndex(),z.IMAGE);c.setImageStyle(a,o),c.drawMultiPoint(e,n)}s&&s.getText()&&((i=(r||t).getBuilder(i.getZIndex(),z.TEXT)).setTextStyle(s,o),i.drawText(e,n))},MultiLineString:function(t,e,i,n,r){var o=i.getStroke();o&&((a=t.getBuilder(i.getZIndex(),z.LINE_STRING)).setFillStrokeStyle(null,o),a.drawMultiLineString(e,n));var a=i.getText();a&&a.getText()&&((i=(r||t).getBuilder(i.getZIndex(),z.TEXT)).setTextStyle(a),i.drawText(e,n))},MultiPolygon:function(t,e,i,n,r){var o=i.getFill(),a=i.getStroke();(a||o)&&((s=t.getBuilder(i.getZIndex(),z.POLYGON)).setFillStrokeStyle(o,a),s.drawMultiPolygon(e,n));var s=i.getText();s&&s.getText()&&((i=(r||t).getBuilder(i.getZIndex(),z.TEXT)).setTextStyle(s),i.drawText(e,n))},GeometryCollection:function(t,e,i,n,r){var o,a,s=e.getGeometriesArray();for(o=0,a=s.length;o<a;++o)(0,ft[s[o].getType()])(t,s[o],i,n,r)},Circle:function(t,e,i,n,r){var o=i.getFill(),a=i.getStroke();(o||a)&&((s=t.getBuilder(i.getZIndex(),z.CIRCLE)).setFillStrokeStyle(o,a),s.drawCircle(e,n));var s=i.getText();s&&s.getText()&&((i=(r||t).getBuilder(i.getZIndex(),z.TEXT)).setTextStyle(s),i.drawText(e,n))}};function dt(t,e){return parseInt(Object(L.c)(t),10)-parseInt(Object(L.c)(e),10)}function _t(t,e,i,n,r,o,a){var s,c=!1,l=i.getImage();return l&&((s=l.getImageState())==ht.a.LOADED||s==ht.a.ERROR?l.unlistenImageChange(r):(s==ht.a.IDLE&&l.load(),s=l.getImageState(),l.listenImageChange(r),c=!0)),r=t,t=e,e=n,n=o,o=a,(i=(a=i).getGeometryFunction()(t))&&(n=i.simplifyTransformed(e,n),a.getRenderer()?function t(e,i,n,r){if(i.getType()==A.a.GEOMETRY_COLLECTION){for(var o=i.getGeometries(),a=0,s=o.length;a<s;++a)t(e,o[a],n,r);return}var c=e.getBuilder(n.getZIndex(),z.DEFAULT);c.drawCustom(i,r,n.getRenderer())}(r,n,a,t):(0,ft[n.getType()])(r,n,a,t,o)),c}var gt,yt,vt=i("256f"),mt=i("a568"),i=(gt=function(t,e){return(gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}gt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function bt(t){t=yt.call(this,t)||this;return t.boundHandleStyleImageChange_=t.handleStyleImageChange_.bind(t),t.animatingOrInteracting_,t.dirty_=!1,t.hitDetectionImageData_=null,t.renderedFeatures_=null,t.renderedRevision_=-1,t.renderedResolution_=NaN,t.renderedExtent_=Object(St.j)(),t.renderedRotation_,t.renderedCenter_=null,t.renderedProjection_=null,t.renderedRenderOrder_=null,t.replayGroup_=null,t.replayGroupChanged=!0,t.declutterExecutorGroup=null,t.clipping=!0,t}var Ot,Et,xt=(yt=r.a,i(bt,yt),bt.prototype.useContainer=function(t,e,i){yt.prototype.useContainer.call(this,t=i<1?null:t,e,i)},bt.prototype.renderWorlds=function(t,e,i){var n=e.extent,r=e.viewState,o=r.center,a=r.resolution,s=r.projection,c=r.rotation,l=s.getExtent(),u=this.getLayer().getSource(),h=e.pixelRatio,r=e.viewHints,p=!(r[ot.a.ANIMATING]||r[ot.a.INTERACTING]),f=this.context,d=Math.round(e.size[0]*h),_=Math.round(e.size[1]*h),s=u.getWrapX()&&s.canWrapX(),g=s?Object(St.E)(l):null,y=s?Math.ceil((n[2]-l[2])/g)+1:1,v=s?Math.floor((n[0]-l[0])/g):0;do{var m=this.getRenderTransform(o,a,c,h,d,_,v*g)}while(t.execute(f,1,m,c,p,void 0,i),++v<y)},bt.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},bt.prototype.renderFrame=function(t,e){var i=t.pixelRatio,n=t.layerStatesArray[t.layerIndex];Object(At.e)(this.pixelTransform,1/i,1/i),Object(At.d)(this.inversePixelTransform,this.pixelTransform);var r=Object(At.k)(this.pixelTransform);this.useContainer(e,r,n.opacity);var o=this.context,a=o.canvas,s=this.replayGroup_,e=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!e||e.isEmpty()))return!this.containerReused&&0<a.width&&(a.width=0),this.container;e=Math.round(t.size[0]*i),i=Math.round(t.size[1]*i);a.width!=e||a.height!=i?(a.width=e,a.height=i,a.style.transform!==r&&(a.style.transform=r)):this.containerReused||o.clearRect(0,0,e,i),this.preRender(o,t);r=t.viewState,e=r.projection,i=!1;n.extent&&this.clipping&&(e=Object(vt.e)(n.extent,e),(i=!Object(St.g)(e,t.extent)&&Object(St.F)(e,t.extent))&&this.clipUnrotated(o,t,e)),this.renderWorlds(s,t),i&&o.restore(),this.postRender(o,t);t=n.opacity,n=this.container;return t!==parseFloat(n.style.opacity)&&(n.style.opacity=1===t?"":String(t)),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),this.container},bt.prototype.getFeatures=function(g){return new Promise(function(t){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var e=[this.context.canvas.width,this.context.canvas.height];Object(At.a)(this.pixelTransform,e);var i=this.renderedCenter_,n=this.renderedResolution_,r=this.renderedRotation_,o=this.renderedProjection_,a=this.renderedExtent_,s=this.getLayer(),c=[],l=e[0]/2,u=e[1]/2;c.push(this.getRenderTransform(i,n,r,.5,l,u,0).slice());var h=s.getSource(),p=o.getExtent();if(h.getWrapX()&&o.canWrapX()&&!Object(St.g)(p,a)){for(var f=a[0],d=Object(St.E)(p),_=0;f<p[0];)c.push(this.getRenderTransform(i,n,r,.5,l,u,d*--_).slice()),f+=d;for(_=0,f=a[2];f>p[2];)c.push(this.getRenderTransform(i,n,r,.5,l,u,d*++_).slice()),f-=d}this.hitDetectionImageData_=function(t,e,i,n,r,o,a){var s=t[0]/2,t=t[1]/2;(s=Object(J.a)(s,t)).imageSmoothingEnabled=!1;for(var t=s.canvas,c=new ct(s,.5,r,null,a),l=i.length,u=Math.floor(16777215/l),h={},p=1;p<=l;++p){var f=i[p-1],d=f.getStyleFunction()||n;if(n){var _=d(f,o);if(_){Array.isArray(_)||(_=[_]);for(var g="#"+("000000"+(p*u).toString(16)).slice(-6),y=0,v=_.length;y<v;++y){var m=_[y],b=m.clone(),O=b.getFill();O&&O.setColor(g);var E=b.getStroke();E&&E.setColor(g),b.setText(void 0);var x=m.getImage();if(x){var C=x.getImageSize();if(!C)continue;O=document.createElement("canvas");O.width=C[0],O.height=C[1];E=O.getContext("2d",{alpha:!1});E.fillStyle=g;m=E.canvas;E.fillRect(0,0,m.width,m.height);O=C?C[0]:m.width,E=C?C[1]:m.height;Object(J.a)(O,E).drawImage(m,0,0),b.setImage(new ut.a({img:m,imgSize:C,anchor:x.getAnchor(),anchorXUnits:lt.a.PIXELS,anchorYUnits:lt.a.PIXELS,offset:x.getOrigin(),size:x.getSize(),opacity:x.getOpacity(),scale:x.getScale(),rotation:x.getRotation(),rotateWithView:x.getRotateWithView()}))}x=Number(b.getZIndex());(j=h[x])||((h[x]=j={})[A.a.POLYGON]=[],j[A.a.CIRCLE]=[],j[A.a.LINE_STRING]=[],j[A.a.POINT]=[]);x=b.getGeometryFunction()(f);x&&Object(St.F)(r,x.getExtent())&&j[x.getType().replace("Multi","")].push(x,b)}}}}for(var j,T,R=Object.keys(h).map(Number).sort(It.g),p=0,S=R.length;p<S;++p)for(T in j=h[R[p]])for(var w=j[T],y=0,v=w.length;y<v;y+=2){c.setStyle(w[y+1]);for(var I=0,P=e.length;I<P;++I)c.setTransform(e[I]),c.drawGeometry(w[y])}return s.getImageData(0,0,t.width,t.height)}(e,c,this.renderedFeatures_,s.getStyleFunction(),a,n,r)}t((h=g,o=this.renderedFeatures_,e=this.hitDetectionImageData_,s=[],e&&(a=4*(Math.round(h[0]/2)+Math.round(h[1]/2)*e.width),t=e.data[a],h=e.data[1+a],h=e.data[2+a]+256*(h+256*t),t=Math.floor(16777215/o.length),h&&h%t==0&&s.push(o[h/t-1])),s))}.bind(this))},bt.prototype.forEachFeatureAtCoordinate=function(e,i,n,o,a){var r=this;if(this.replayGroup_){var s,c=i.viewState.resolution,l=i.viewState.rotation,u=this.getLayer(),h={},p=function(t,e,i){var n=Object(L.c)(t),r=h[n];if(r){if(!0!==r&&i<r.distanceSq){if(0===i)return h[n]=!0,a.splice(a.lastIndexOf(r),1),o(t,u,e);r.geometry=e,r.distanceSq=i}}else{if(0===i)return h[n]=!0,o(t,u,e);a.push(h[n]={feature:t,layer:u,geometry:e,distanceSq:i,callback:o})}},t=[this.replayGroup_];return this.declutterExecutorGroup&&t.push(this.declutterExecutorGroup),t.some(function(t){return s=t.forEachFeatureAtCoordinate(e,c,l,n,p,t===r.declutterExecutorGroup?i.declutterTree.all().map(function(t){return t.value}):null)}),s}},bt.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},bt.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},bt.prototype.prepareFrame=function(t){var n=this.getLayer(),e=n.getSource();if(!e)return!1;var i=t.viewHints[ot.a.ANIMATING],r=t.viewHints[ot.a.INTERACTING],o=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(!this.dirty_&&!o&&i||!a&&r)return this.animatingOrInteracting_=!0;this.animatingOrInteracting_=!1;var s=t.extent,c=t.viewState,l=c.projection,u=c.resolution,o=t.pixelRatio,i=n.getRevision(),a=n.getRenderBuffer(),r=n.getRenderOrder();void 0===r&&(r=dt);var c=c.center.slice(),s=Object(St.c)(s,a*u),h=[s.slice()],a=l.getExtent();if(e.getWrapX()&&l.canWrapX()&&!Object(St.g)(a,t.extent)&&(t=Object(St.E)(a),b=Math.max(Object(St.E)(s)/2,t),s[0]=a[0]-b,s[2]=a[2]+b,Object(mt.g)(c,l),(b=Object(St.K)(h[0],l))[0]<a[0]&&b[2]<a[2]?h.push([b[0]+t,b[1],b[2]+t,b[3]]):b[0]>a[0]&&b[2]>a[2]&&h.push([b[0]-t,b[1],b[2]-t,b[3]])),!this.dirty_&&this.renderedResolution_==u&&this.renderedRevision_==i&&this.renderedRenderOrder_==r&&Object(St.g)(this.renderedExtent_,s))return!(this.replayGroupChanged=!1);this.replayGroup_=null,this.dirty_=!1;var p,f=new k(pt*u/o,s,u,o);this.getLayer().getDeclutter()&&(p=new k(pt*u/o,s,u,o));var d,_=Object(vt.j)();if(_){for(var g=0,y=h.length;g<y;++g)e.loadFeatures(Object(vt.l)(h[g],l),u,_);d=Object(vt.i)(_,l)}else for(g=0,y=h.length;g<y;++g)e.loadFeatures(h[g],u,l);var v=(b=pt*u/(b=o))*b,m=function(t){var e,i=t.getStyleFunction()||n.getStyleFunction();(e=i?i(t,u):e)&&(e=this.renderFeature(t,v,e,f,d,p),this.dirty_=this.dirty_||e)}.bind(this),b=Object(vt.l)(s,l),O=e.getFeaturesInExtent(b);r&&O.sort(r);for(g=0,y=O.length;g<y;++g)m(O[g]);this.renderedFeatures_=O;b=f.finish(),b=new rt(s,u,o,e.getOverlaps(),b,n.getRenderBuffer());return p&&(this.declutterExecutorGroup=new rt(s,u,o,e.getOverlaps(),p.finish(),n.getRenderBuffer())),this.renderedResolution_=u,this.renderedRevision_=i,this.renderedRenderOrder_=r,this.renderedExtent_=s,this.renderedCenter_=c,this.renderedProjection_=l,this.replayGroup_=b,this.hitDetectionImageData_=null,this.replayGroupChanged=!0},bt.prototype.renderFeature=function(t,e,i,n,r,o){if(!i)return!1;var a=!1;if(Array.isArray(i))for(var s=0,c=i.length;s<c;++s)a=_t(n,t,i[s],e,this.boundHandleStyleImageChange_,r,o)||a;else a=_t(n,t,i,e,this.boundHandleStyleImageChange_,r,o);return a},bt),i=(Ot=function(t,e){return(Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Ot(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=(Et=n.a,i(Ct,Et),Ct.prototype.createRenderer=function(){return new xt(this)},Ct);function Ct(t){return Et.call(this,t)||this}e.a=i},"480c":function(t,e,i){"use strict";var n,r,o=i("1af9"),a="preload",s="useInterimTilesOnError",nt=i("38f3"),c=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function l(t){var e=this,i=t||{},t=Object(nt.a)({},i);return delete t.preload,delete t.useInterimTilesOnError,(e=r.call(this,t)||this).setPreload(void 0!==i.preload?i.preload:0),e.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),e}var u,h,o=(r=o.a,c(l,r),l.prototype.getPreload=function(){return this.get(a)},l.prototype.setPreload=function(t){this.set(a,t)},l.prototype.getUseInterimTilesOnError=function(){return this.get(s)},l.prototype.setUseInterimTilesOnError=function(t){this.set(s,t)},l),c=i("137e"),p=i("dc07"),rt=i("acc1"),ot=i("a896"),at=i("0af5"),st=i("ddea"),ct=i("256f"),lt=i("1300"),ut=i("9f5e"),i=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=(h=c.a,i(f,h),f.prototype.isDrawableTile=function(t){var e=this.getLayer(),t=t.getState(),e=e.getUseInterimTilesOnError();return t==rt.a.LOADED||t==rt.a.EMPTY||t==rt.a.ERROR&&!e},f.prototype.getTile=function(t,e,i,n){var r=n.pixelRatio,o=n.viewState.projection,n=this.getLayer(),o=n.getSource().getTile(t,e,i,r,o);return o.getState()==rt.a.ERROR&&(n.getUseInterimTilesOnError()?0<n.getPreload()&&(this.newTiles_=!0):o.setState(rt.a.LOADED)),o=!this.isDrawableTile(o)?o.getInterimTile():o},f.prototype.loadedTileCallback=function(t,e,i){return!!this.isDrawableTile(i)&&h.prototype.loadedTileCallback.call(this,t,e,i)},f.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},f.prototype.renderFrame=function(t,e){var i=t.layerStatesArray[t.layerIndex],n=t.viewState,r=n.projection,o=n.resolution,a=n.center,s=n.rotation,c=t.pixelRatio,l=this.getLayer(),u=l.getSource(),h=u.getRevision(),p=u.getTileGridForProjection(r),f=p.getZForResolution(o,u.zDirection),d=p.getResolution(f),_=t.extent,g=i.extent&&Object(ct.e)(i.extent,r);g&&(_=Object(at.B)(_,Object(ct.e)(i.extent,r)));var y=u.getTilePixelRatio(c),v=Math.round(t.size[0]*y),m=Math.round(t.size[1]*y);s&&(m=v=Math.round(Math.sqrt(v*v+m*m)));var b=d*v/2/y,n=d*m/2/y,O=[a[0]-b,a[1]-n,a[0]+b,a[1]+n],E=p.getTileRangeForExtentAndZ(_,f),x={};x[f]={};var C=this.createLoadedTileFinder(u,r,x),j=this.tmpExtent,T=this.tmpTileRange_;this.newTiles_=!1;for(var R=E.minX;R<=E.maxX;++R)for(var S=E.minY;S<=E.maxY;++S){var w=this.getTile(f,R,S,t);if(this.isDrawableTile(w)){var I=Object(lt.c)(this);if(w.getState()==rt.a.LOADED&&(Z=(x[f][w.tileCoord.toString()]=w).inTransition(I),this.newTiles_||!Z&&-1!==this.renderedTiles.indexOf(w)||(this.newTiles_=!0)),1===w.getAlpha(I,t.time))continue}var P=p.getTileCoordChildTileRange(w.tileCoord,T,j),I=!1;(I=P?C(f+1,P):I)||p.forEachTileCoordParentTileRange(w.tileCoord,C,T,j)}var A=d/o;Object(ot.b)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/y,1/y,s,-v/2,-m/2);s=Object(st.b)(this.pixelTransform);this.useContainer(e,s,i.opacity);var L=this.context,e=L.canvas;Object(ot.d)(this.inversePixelTransform,this.pixelTransform),Object(ot.b)(this.tempTransform,v/2,m/2,A,A,0,-v/2,-m/2),e.width!=v||e.height!=m?(e.width=v,e.height=m):this.containerReused||L.clearRect(0,0,v,m),g&&this.clipUnrotated(L,t,g),Object(nt.a)(L,u.getContextOptions()),this.preRender(L,t),this.renderedTiles.length=0;var M,F,D=Object.keys(x).map(Number);D.sort(ut.g),1!==i.opacity||this.containerReused&&!u.getOpaque(t.viewState.projection)?(M=[],F=[]):D=D.reverse();for(var G=D.length-1;0<=G;--G){var N,k=D[G],z=u.getTilePixelSize(k,c,r),U=p.getResolution(k)/d,X=z[0]*U*A,B=z[1]*U*A,Y=p.getTileCoordForCoordAndZ(Object(at.C)(O),k),U=p.getTileCoordExtent(Y),W=Object(ot.a)(this.tempTransform,[y*(U[0]-O[0])/d,y*(O[3]-U[3])/d]),K=y*u.getGutterForProjection(r),V=x[k];for(N in V){var Z,H=(w=V[N]).tileCoord,q=W[0]-(Y[1]-H[1])*X,J=Math.round(q+X),Q=W[1]-(Y[2]-H[2])*B,H=Math.round(Q+B),q=J-(R=Math.round(q)),H=H-(S=Math.round(Q)),Q=f===k;if(!(Z=Q&&1!==w.getAlpha(Object(lt.c)(this),t.time)))if(M){L.save();for(var $,tt=[R,S,R+q,S,R+q,S+H,R,S+H],et=0,it=M.length;et<it;++et)f!==k&&k<F[et]&&($=M[et],L.beginPath(),L.moveTo(tt[0],tt[1]),L.lineTo(tt[2],tt[3]),L.lineTo(tt[4],tt[5]),L.lineTo(tt[6],tt[7]),L.moveTo($[6],$[7]),L.lineTo($[4],$[5]),L.lineTo($[2],$[3]),L.lineTo($[0],$[1]),L.clip());M.push(tt),F.push(k)}else L.clearRect(R,S,q,H);this.drawTileImage(w,t,R,S,q,H,K,Q,i.opacity),M&&!Z&&L.restore(),this.renderedTiles.push(w),this.updateUsedTiles(t.usedTiles,u,w)}}return this.renderedRevision=h,this.renderedResolution=d,this.extentChanged=!this.renderedExtent_||!Object(at.p)(this.renderedExtent_,O),this.renderedExtent_=O,this.renderedPixelRatio=c,this.renderedProjection=r,this.manageTilePyramid(t,u,p,c,r,_,f,l.getPreload()),this.scheduleExpireCache(t,u),this.postRender(L,t),i.extent&&L.restore(),s!==e.style.transform&&(e.style.transform=s),this.container},f.prototype.drawTileImage=function(t,e,i,n,r,o,a,s,c){var l,u,h,p=this.getTileImage(t);p&&(l=Object(lt.c)(this),(c=(h=c*(u=s?t.getAlpha(l,e.time):1))!==this.context.globalAlpha)&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(p,a,a,p.width-2*a,p.height-2*a,i,n,r,o),c&&this.context.restore(),1!==u?e.animate=!0:s&&t.endTransition(l))},f.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},f.prototype.getTileImage=function(t){return t.getImage()},f.prototype.scheduleExpireCache=function(t,e){e.canExpireCache()&&(e=function(t,e,i){var n=Object(lt.c)(t);n in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[n])}.bind(null,e),t.postRenderFunctions.push(e))},f.prototype.updateUsedTiles=function(t,e,i){e=Object(lt.c)(e);e in t||(t[e]={}),t[e][i.getKey()]=!0},f.prototype.manageTilePyramid=function(t,e,i,n,r,o,a,s,c){var l=Object(lt.c)(e);l in t.wantedTiles||(t.wantedTiles[l]={});for(var u,h,p,f,d,_=t.wantedTiles[l],g=t.tileQueue,y=0,v=i.getMinZoom();v<=a;++v)for(h=i.getTileRangeForExtentAndZ(o,v,h),p=i.getResolution(v),f=h.minX;f<=h.maxX;++f)for(d=h.minY;d<=h.maxY;++d)a-v<=s?(++y,(u=e.getTile(v,f,d,n,r)).getState()==rt.a.IDLE&&(_[u.getKey()]=!0,g.isKeyQueued(u.getKey())||g.enqueue([u,l,i.getTileCoordCenter(u.tileCoord),p])),void 0!==c&&c(u)):e.useTile(v,f,d,r);e.updateCacheSize(y,r)},f);function f(t){t=h.call(this,t)||this;return t.extentChanged=!0,t.renderedExtent_=null,t.renderedPixelRatio,t.renderedProjection=null,t.renderedRevision,t.renderedTiles=[],t.newTiles_=!1,t.tmpExtent=Object(at.j)(),t.tmpTileRange_=new p.b(0,0,0,0),t}i.prototype.getLayer;var d,_,g=i,o=((d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(y,_=o),y.prototype.createRenderer=function(){return new g(this)},y);function y(t){return _.call(this,t)||this}e.a=o},"496f":function(t,e,i){"use strict";e.a={ANIMATING:0,INTERACTING:1}},"4cdf":function(t,e,i){"use strict";var n,r,o=i("e269"),a=i("01d4"),s=i("92fa"),c=i("1e8d"),i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=(r=o.a,i(l,r),l.prototype.clone=function(){var t=new l(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var e=this.getGeometry();e&&t.setGeometry(e.clone());e=this.getStyle();return e&&t.setStyle(e),t},l.prototype.getGeometry=function(){return this.get(this.geometryName_)},l.prototype.getId=function(){return this.id_},l.prototype.getGeometryName=function(){return this.geometryName_},l.prototype.getStyle=function(){return this.style_},l.prototype.getStyleFunction=function(){return this.styleFunction_},l.prototype.handleGeometryChange_=function(){this.changed()},l.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(c.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(c.a)(t,a.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},l.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},l.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){{return"function"==typeof t?t:(e=Array.isArray(t)?t:(Object(s.a)("function"==typeof t.getZIndex,41),[t]),function(){return e});var e}}(t):void 0,this.changed()},l.prototype.setId=function(t){this.id_=t,this.changed()},l.prototype.setGeometryName=function(t){this.removeEventListener(Object(o.b)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener(Object(o.b)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},l);function l(t){var e=r.call(this)||this;return e.id_=void 0,e.geometryName_="geometry",e.style_=null,e.styleFunction_=void 0,e.geometryChangeKey_=null,e.addEventListener(Object(o.b)(e.geometryName_),e.handleGeometryChanged_),t&&("function"==typeof t.getSimplifiedGeometry?e.setGeometry(t):e.setProperties(t)),e}e.a=i},"4d98":function(t,e,i){"use strict";function u(t,e,i,n){for(var r=0,o=t[i-n],a=t[i-n+1];e<i;e+=n){var s=t[e],c=t[e+1];r+=(s-o)*(c+a),o=s,a=c}return 0===r?void 0:0<r}function c(t,e,i,n,r){for(var o=void 0!==r&&r,a=0,s=i.length;a<s;++a){var c=i[a],l=u(t,e,c,n);if(0===a){if(o&&l||!o&&!l)return!1}else if(o&&!l||!o&&l)return!1;e=c}return!0}function n(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o){var s=i[o];if(!c(t,e,s,n,r))return!1;s.length&&(e=s[s.length-1])}return!0}function s(t,e,i,n,r){for(var o=void 0!==r&&r,a=0,s=i.length;a<s;++a){var c=i[a],l=u(t,e,c,n);(0===a?o&&l||!o&&!l:o&&!l||!o&&l)&&function(t,e,i,n){for(;e<i-n;){for(var r=0;r<n;++r){var o=t[e+r];t[e+r]=t[i-n+r],t[i-n+r]=o}e+=n,i-=n}}(t,e,c,n),e=c}return e}function r(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o)e=s(t,e,i[o],n,r);return e}i.d(e,"a",function(){return c}),i.d(e,"b",function(){return n}),i.d(e,"c",function(){return s}),i.d(e,"d",function(){return r})},"4df4":function(t,e,i){"use strict";var f=i("0366"),d=i("7b0b"),_=i("9bdd"),g=i("e95a"),y=i("50c4"),v=i("8418"),m=i("35a1");t.exports=function(t){var e,i,n,r,o,a,s=d(t),c="function"==typeof this?this:Array,l=arguments.length,u=1<l?arguments[1]:void 0,h=void 0!==u,t=m(s),p=0;if(h&&(u=f(u,2<l?arguments[2]:void 0,2)),null==t||c==Array&&g(t))for(i=new c(e=y(s.length));p<e;p++)a=h?u(s[p],p):s[p],v(i,p,a);else for(o=(r=t.call(s)).next,i=new c;!(n=o.call(r)).done;p++)a=h?_(r,u,[n.value,p],!0):n.value,v(i,p,a);return i.length=p,i}},"521b":function(t,e,i){"use strict";e.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},5564:function(t,e,i){"use strict";var n,r,o=i("e269"),a=i("df4c"),s=i("1300"),c=i("92fa"),l=i("38f3"),u=i("7fc9"),i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=(r=o.a,i(h,r),h.prototype.getClassName=function(){return this.className_},h.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},t=this.getZIndex();return e.opacity=Object(u.a)(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==t?t:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e},h.prototype.getLayersArray=function(t){return Object(s.b)()},h.prototype.getLayerStatesArray=function(t){return Object(s.b)()},h.prototype.getExtent=function(){return this.get(a.a.EXTENT)},h.prototype.getMaxResolution=function(){return this.get(a.a.MAX_RESOLUTION)},h.prototype.getMinResolution=function(){return this.get(a.a.MIN_RESOLUTION)},h.prototype.getMinZoom=function(){return this.get(a.a.MIN_ZOOM)},h.prototype.getMaxZoom=function(){return this.get(a.a.MAX_ZOOM)},h.prototype.getOpacity=function(){return this.get(a.a.OPACITY)},h.prototype.getSourceState=function(){return Object(s.b)()},h.prototype.getVisible=function(){return this.get(a.a.VISIBLE)},h.prototype.getZIndex=function(){return this.get(a.a.Z_INDEX)},h.prototype.setExtent=function(t){this.set(a.a.EXTENT,t)},h.prototype.setMaxResolution=function(t){this.set(a.a.MAX_RESOLUTION,t)},h.prototype.setMinResolution=function(t){this.set(a.a.MIN_RESOLUTION,t)},h.prototype.setMaxZoom=function(t){this.set(a.a.MAX_ZOOM,t)},h.prototype.setMinZoom=function(t){this.set(a.a.MIN_ZOOM,t)},h.prototype.setOpacity=function(t){Object(c.a)("number"==typeof t,64),this.set(a.a.OPACITY,t)},h.prototype.setVisible=function(t){this.set(a.a.VISIBLE,t)},h.prototype.setZIndex=function(t){this.set(a.a.Z_INDEX,t)},h.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),r.prototype.disposeInternal.call(this)},h);function h(t){var e=r.call(this)||this,i=Object(l.a)({},t);return i[a.a.OPACITY]=void 0!==t.opacity?t.opacity:1,Object(c.a)("number"==typeof i[a.a.OPACITY],64),i[a.a.VISIBLE]=void 0===t.visible||t.visible,i[a.a.Z_INDEX]=t.zIndex,i[a.a.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,i[a.a.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,i[a.a.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,i[a.a.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,e.className_=void 0!==i.className?t.className:"ol-layer",delete i.className,e.setProperties(i),e.state_=null,e}e.a=i},"57cb":function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return r}),i.d(e,"c",function(){return o}),i.d(e,"d",function(){return s});var a=i("9f5e");function n(){return!0}function r(){return!1}function o(){}function s(e){var i,n,r,o=!1;return function(){var t=Array.prototype.slice.call(arguments);return o&&this===r&&Object(a.b)(t,n)||(o=!0,r=this,n=t,i=e.apply(this,arguments)),i}}},5831:function(t,e,i){"use strict";var o=i("e300"),n=i("183a"),r=i("cef7"),a=i("01d4"),s=i("7b4f"),c=i("25a5"),l=i.n(c),u=i("0af5"),h=i("1300"),p=i("38f3");function f(t){this.rbush_=new l.a(t),this.items_={}}var d=(f.prototype.insert=function(t,e){t={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(t),this.items_[Object(h.c)(e)]=t},f.prototype.load=function(t,e){for(var i=new Array(e.length),n=0,r=e.length;n<r;n++){var o=t[n],a=e[n],o={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};i[n]=o,this.items_[Object(h.c)(a)]=o}this.rbush_.load(i)},f.prototype.remove=function(t){var e=Object(h.c)(t),t=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(t)},f.prototype.update=function(t,e){var i=this.items_[Object(h.c)(e)],i=[i.minX,i.minY,i.maxX,i.maxY];Object(u.p)(i,t)||(this.remove(e),this.insert(t,e))},f.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},f.prototype.getInExtent=function(t){t={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(t).map(function(t){return t.value})},f.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},f.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},f.prototype.forEach_=function(t,e){for(var i,n=0,r=t.length;n<r;n++)if(i=e(t[n]))return i;return i},f.prototype.isEmpty=function(){return Object(p.d)(this.items_)},f.prototype.clear=function(){this.rbush_.clear(),this.items_={}},f.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(u.k)(e.minX,e.minY,e.maxX,e.maxY,t)},f.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},f),c=i("ff80"),_=i("6d83"),g=i("a43f"),y=i("57cb");function v(t,e){return[[-1/0,-1/0,1/0,1/0]]}var m=i("92fa"),b=i("9f5e"),O=i("1e8d"),E=i("1ecb"),x=!1;function C(f,d){return function(t,e,i,n,r){var o,a,s,c,l,u,h,p=this;o=f,a=d,s=t,e=e,c=i,l=function(t,e){void 0!==n&&n(t),p.addFeatures(t)},u=r||y.c,(h=new XMLHttpRequest).open("GET","function"==typeof o?o(s,e,c):o,!0),a.getType()==E.a.ARRAY_BUFFER&&(h.responseType="arraybuffer"),h.withCredentials=x,h.onload=function(t){var e,i;!h.status||200<=h.status&&h.status<300?(i=void 0,(e=a.getType())==E.a.JSON||e==E.a.TEXT?i=h.responseText:e==E.a.XML?i=(i=h.responseXML)||(new DOMParser).parseFromString(h.responseText,"application/xml"):e==E.a.ARRAY_BUFFER&&(i=h.response),i?l(a.readFeatures(i,{extent:s,featureProjection:c}),a.readProjection(i)):u()):u()},h.onerror=u,h.send()}}var j,T,i=(j=function(t,e){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}j(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),R=(T=r.a,i(S,T),S);function S(t,e,i){t=T.call(this,t)||this;return t.feature=e,t.features=i,t}var w,i=(w=c.a,i(I,w),I.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},I.prototype.addFeatureInternal=function(t){var e,i=Object(h.c)(t);this.addToIndex_(i,t)?(this.setupChangeEvents_(i,t),(e=t.getGeometry())?(e=e.getExtent(),this.featuresRtree_&&this.featuresRtree_.insert(e,t)):this.nullGeometryFeatures_[i]=t,this.dispatchEvent(new R(g.a.ADDFEATURE,t))):this.featuresCollection_&&this.featuresCollection_.remove(t)},I.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(O.a)(e,a.a.CHANGE,this.handleFeatureChange_,this),Object(O.a)(e,s.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},I.prototype.addToIndex_=function(t,e){var i=!0,n=e.getId();return void 0!==n&&(n.toString()in this.idIndex_?i=!1:this.idIndex_[n.toString()]=e),i&&(Object(m.a)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),i},I.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},I.prototype.addFeaturesInternal=function(t){for(var e=[],i=[],n=[],r=0,o=t.length;r<o;r++){var a=t[r],s=Object(h.c)(a);this.addToIndex_(s,a)&&i.push(a)}for(var r=0,c=i.length;r<c;r++){a=i[r],s=Object(h.c)(a);this.setupChangeEvents_(s,a);var l=a.getGeometry();l?(l=l.getExtent(),e.push(l),n.push(a)):this.nullGeometryFeatures_[s]=a}this.featuresRtree_&&this.featuresRtree_.load(e,n);for(var r=0,u=i.length;r<u;r++)this.dispatchEvent(new R(g.a.ADDFEATURE,i[r]))},I.prototype.bindFeaturesCollection_=function(e){var i=!1;this.addEventListener(g.a.ADDFEATURE,function(t){i||(i=!0,e.push(t.feature),i=!1)}),this.addEventListener(g.a.REMOVEFEATURE,function(t){i||(i=!0,e.remove(t.feature),i=!1)}),e.addEventListener(n.a.ADD,function(t){i||(i=!0,this.addFeature(t.element),i=!1)}.bind(this)),e.addEventListener(n.a.REMOVE,function(t){i||(i=!0,this.removeFeature(t.element),i=!1)}.bind(this)),this.featuresCollection_=e},I.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(O.c);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var i in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};t=new R(g.a.CLEAR);this.dispatchEvent(t),this.changed()},I.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},I.prototype.forEachFeatureAtCoordinateDirect=function(e,i){var t=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(t,function(t){if(t.getGeometry().intersectsCoordinate(e))return i(t)})},I.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},I.prototype.forEachFeatureIntersectingExtent=function(e,i){return this.forEachFeatureInExtent(e,function(t){if(t.getGeometry().intersectsExtent(e)){t=i(t);if(t)return t}})},I.prototype.getFeaturesCollection=function(){return this.featuresCollection_},I.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(p.d)(this.nullGeometryFeatures_)||Object(b.c)(t,Object(p.c)(this.nullGeometryFeatures_))),t},I.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},I.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},I.prototype.getClosestFeatureToCoordinate=function(t,e){var i=t[0],n=t[1],r=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],c=e||y.b;return this.featuresRtree_.forEachInExtent(s,function(t){var e;c(t)&&(e=t.getGeometry(),(a=e.closestPointXY(i,n,o,e=a))<e&&(r=t,t=Math.sqrt(a),s[0]=i-t,s[1]=n-t,s[2]=i+t,s[3]=n+t))}),r},I.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},I.prototype.getFeatureById=function(t){t=this.idIndex_[t.toString()];return void 0!==t?t:null},I.prototype.getFeatureByUid=function(t){t=this.uidIndex_[t];return void 0!==t?t:null},I.prototype.getFormat=function(){return this.format_},I.prototype.getOverlaps=function(){return this.overlaps_},I.prototype.getUrl=function(){return this.url_},I.prototype.handleFeatureChange_=function(t){var e=t.target,i=Object(h.c)(e),t=e.getGeometry();t?(n=t.getExtent(),i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(n,e)):this.featuresRtree_&&this.featuresRtree_.update(n,e)):i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);var n=e.getId();void 0!==n?(n=n.toString(),this.idIndex_[n]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[n]=e)):(this.removeFromIdIndex_(e),this.uidIndex_[i]=e),this.changed(),this.dispatchEvent(new R(g.a.CHANGEFEATURE,e))},I.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(h.c)(t)in this.uidIndex_},I.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(p.d)(this.nullGeometryFeatures_)},I.prototype.loadFeatures=function(t,i,n){var r=this.loadedExtentsRtree_,o=this.strategy_(t,i);this.loading=!1;for(var a=this,e=0,s=o.length;e<s;++e)!function(t){var e=o[t];r.forEachInExtent(e,function(t){return Object(u.g)(t.extent,e)})||(a.dispatchEvent(new R(g.a.FEATURESLOADSTART)),a.loader_.call(a,e,i,n,function(t){this.dispatchEvent(new R(g.a.FEATURESLOADEND,void 0,t))}.bind(a),function(){this.dispatchEvent(new R(g.a.FEATURESLOADERROR))}.bind(a)),r.insert(e,{extent:e.slice()}),a.loading=a.loader_!==y.c)}(e)},I.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),w.prototype.refresh.call(this)},I.prototype.removeLoadedExtent=function(e){var i,t=this.loadedExtentsRtree_;t.forEachInExtent(e,function(t){if(Object(u.p)(t.extent,e))return i=t,!0}),i&&t.remove(i)},I.prototype.removeFeature=function(t){var e=Object(h.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},I.prototype.removeFeatureInternal=function(t){var e=Object(h.c)(t);this.featureChangeKeys_[e].forEach(O.c),delete this.featureChangeKeys_[e];var i=t.getId();void 0!==i&&delete this.idIndex_[i.toString()],delete this.uidIndex_[e],this.dispatchEvent(new R(g.a.REMOVEFEATURE,t))},I.prototype.removeFromIdIndex_=function(t){var e,i=!1;for(e in this.idIndex_)if(this.idIndex_[e]===t){delete this.idIndex_[e],i=!0;break}return i},I.prototype.setLoader=function(t){this.loader_=t},I.prototype.setUrl=function(t){Object(m.a)(this.format_,7),this.setLoader(C(t,this.format_))},I);function I(t){var e=this,i=t||{};(e=w.call(this,{attributions:i.attributions,projection:void 0,state:_.a.READY,wrapX:void 0===i.wrapX||i.wrapX})||this).loader_=y.c,e.format_=i.format,e.overlaps_=void 0===i.overlaps||i.overlaps,e.url_=i.url,void 0!==i.loader?e.loader_=i.loader:void 0!==e.url_&&(Object(m.a)(e.format_,7),e.loader_=C(e.url_,e.format_)),e.strategy_=void 0!==i.strategy?i.strategy:v;var n,r,t=void 0===i.useSpatialIndex||i.useSpatialIndex;return e.featuresRtree_=t?new d:null,e.loadedExtentsRtree_=new d,e.nullGeometryFeatures_={},e.idIndex_={},e.uidIndex_={},e.featureChangeKeys_={},e.featuresCollection_=null,Array.isArray(i.features)?r=i.features:i.features&&(r=(n=i.features).getArray()),t||void 0!==n||(n=new o.a(r)),void 0!==r&&e.addFeaturesInternal(r),void 0!==n&&e.bindFeaturesCollection_(n),e}e.a=i},"592d":function(t,e,i){"use strict";e.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},5938:function(t,e,i){"use strict";function n(t,e,i,n){for(var r=t[e],o=t[e+1],a=0,s=e+n;s<i;s+=n){var c=t[s],l=t[s+1];a+=Math.sqrt((c-r)*(c-r)+(l-o)*(l-o)),r=c,o=l}return a}i.d(e,"a",function(){return n})},"5bc0":function(t,e,i){},"5bc3":function(t,e,i){"use strict";i.d(e,"b",function(){return R});var n,r,o=i("521b"),a=i("f623"),s=i("9abc"),c=i("9769"),l=i("0af5"),u=i("abb7"),h=i("1c48"),p=i("bb6c"),f=i("b589"),d=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function _(t,e){var i=r.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?i.setCoordinates(t,e):i.setFlatCoordinates(e,t),i}var g,y,v=(r=s.a,d(_,r),_.prototype.clone=function(){return new _(this.flatCoordinates.slice(),this.layout)},_.prototype.closestPointXY=function(t,e,i,n){return n<Object(l.e)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(c.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(c.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,n))},_.prototype.getArea=function(){return Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},_.prototype.getCoordinates=function(){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},_.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new _(e,o.a.XY)},_.prototype.getType=function(){return a.a.LINEAR_RING},_.prototype.intersectsExtent=function(t){return!1},_.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(u.b)(this.flatCoordinates,0,t,this.stride),this.changed()},_),m=i("f403"),b=i("9f5e"),O=i("0a9d"),E=i("c560"),x=i("4d98"),C=i("25f1"),i=(i("7fc9"),i("790a"),g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),j=(y=s.a,i(T,y),T.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(b.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},T.prototype.clone=function(){var t=new T(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},T.prototype.closestPointXY=function(t,e,i,n){return n<Object(l.e)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(c.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(c.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,n))},T.prototype.containsXY=function(t,e){return Object(C.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},T.prototype.getArea=function(){return Object(f.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},T.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(x.c)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Object(p.b)(e,0,this.ends_,this.stride)},T.prototype.getEnds=function(){return this.ends_},T.prototype.getFlatInteriorPoint=function(){var t;return this.flatInteriorPointRevision_!=this.getRevision()&&(t=Object(l.x)(this.getExtent()),this.flatInteriorPoint_=Object(O.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()),this.flatInteriorPoint_},T.prototype.getInteriorPoint=function(){return new m.a(this.getFlatInteriorPoint(),o.a.XYM)},T.prototype.getLinearRingCount=function(){return this.ends_.length},T.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new v(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},T.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.ends_,n=[],r=0,o=0,a=i.length;o<a;++o){var s=i[o],c=new v(e.slice(r,s),t);n.push(c),r=s}return n},T.prototype.getOrientedFlatCoordinates=function(){var t;return this.orientedRevision_!=this.getRevision()&&(t=this.flatCoordinates,Object(x.a)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(x.c)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()),this.orientedFlatCoordinates_},T.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];return e.length=Object(h.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,i),new T(e,o.a.XY,i)},T.prototype.getType=function(){return a.a.POLYGON},T.prototype.intersectsExtent=function(t){return Object(E.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},T.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);t=Object(u.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===t.length?0:t[t.length-1],this.changed()},T);function T(t,e,i){var n=y.call(this)||this;return n.ends_=[],n.flatInteriorPointRevision_=-1,n.flatInteriorPoint_=null,n.maxDelta_=-1,n.maxDeltaRevision_=-1,n.orientedRevision_=-1,n.orientedFlatCoordinates_=null,void 0!==e&&i?(n.setFlatCoordinates(e,t),n.ends_=i):n.setCoordinates(t,e),n}e.a=j;function R(t){var e=t[0],i=t[1],n=t[2],t=t[3],i=[e,i,e,t,n,t,n,i,e,i];return new j(i,o.a.XY,[i.length])}},"5c38":function(t,e,i){"use strict";i.d(e,"b",function(){return r}),i.d(e,"a",function(){return p}),i.d(e,"c",function(){return d});var s=i("92fa"),n=i("7fc9"),c=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,l=/^([a-z]*)$|^hsla?\(.*\)$/i;function r(t){return"string"==typeof t?t:d(t)}function u(t){var e=document.createElement("div");if(e.style.color=t,""===e.style.color)return"";document.body.appendChild(e);t=getComputedStyle(e).color;return document.body.removeChild(e),t}var o,a,h=(o={},a=0,function(t){var e;if(o.hasOwnProperty(t))e=o[t];else{if(1024<=a){var i,n=0;for(i in o)0==(3&n++)&&(delete o[i],--a)}e=function(t){var e,i,n;l.exec(t)&&(t=u(t));{var r,o,a;c.exec(t)?(r=t.length-1,o=void 0,o=r<=4?1:2,a=4==r||8==r,e=parseInt(t.substr(1+0*o,o),16),i=parseInt(t.substr(+o+1,o),16),n=parseInt(t.substr(1+2*o,o),16),r=a?parseInt(t.substr(1+3*o,o),16):255,1==o&&(e=(e<<4)+e,i=(i<<4)+i,n=(n<<4)+n,a&&(r=(r<<4)+r)),r=[e,i,n,r/255]):0==t.indexOf("rgba(")?f(r=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((r=t.slice(4,-1).split(",").map(Number)).push(1),f(r)):Object(s.a)(!1,14)}return r}(t),o[t]=e,++a}return e});function p(t){return Array.isArray(t)?t:h(t)}function f(t){return t[0]=Object(n.a)(t[0]+.5|0,0,255),t[1]=Object(n.a)(t[1]+.5|0,0,255),t[2]=Object(n.a)(t[2]+.5|0,0,255),t[3]=Object(n.a)(t[3],0,1),t}function d(t){var e=t[0],i=t[1],n=t[2];return"rgba("+(e=e!=(0|e)?e+.5|0:e)+","+(i=i!=(0|i)?i+.5|0:i)+","+(n=n!=(0|n)?n+.5|0:n)+","+(void 0===t[3]?1:t[3])+")"}},"5eee":function(t,e,i){"use strict";var n,r,o=i("da5c"),a=i("57cb"),s=i("1300"),c=i("a896"),C=i("0af5"),l=i("3c22"),j=i("1af9"),T=i("a568"),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function h(t){var e=r.call(this)||this;return e.map_=t,e}function p(t,e){l.a.expire()}var f,d,_=(r=o.a,u(h,r),h.prototype.dispatchRenderEvent=function(t,e){Object(s.b)()},h.prototype.calculateMatrices2D=function(t){var e=t.viewState,i=t.coordinateToPixelTransform,n=t.pixelToCoordinateTransform;Object(c.b)(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(c.d)(n,i)},h.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r,o,a,s){var c,l=e.viewState;function u(t,e,i,n){return r.call(o,e,t?i:null,n)}var h=l.projection,p=Object(T.g)(t.slice(),h),f=[[0,0]];h.canWrapX()&&n&&(h=h.getExtent(),h=Object(C.E)(h),f.push([-h,0],[h,0]));for(var d=e.layerStatesArray,_=d.length,g=[],y=[],v=0;v<f.length;v++)for(var m=_-1;0<=m;--m){var b=d[m],O=b.layer;if(O.hasRenderer()&&Object(j.b)(b,l)&&a.call(s,O)){var E=O.getRenderer(),O=O.getSource();if(E&&O&&(O=O.getWrapX()?p:t,b=u.bind(null,b.managed),y[0]=O[0]+f[v][0],y[1]=O[1]+f[v][1],c=E.forEachFeatureAtCoordinate(y,e,i,b,g)),c)return c}}if(0!==g.length){var x=1/g.length;return g.forEach(function(t,e){return t.distanceSq+=e*x}),g.sort(function(t,e){return t.distanceSq-e.distanceSq}),g.some(function(t){return c=t.callback(t.feature,t.layer,t.geometry)}),c}},h.prototype.forEachLayerAtPixel=function(t,e,i,n,r){return Object(s.b)()},h.prototype.hasFeatureAtCoordinate=function(t,e,i,n,r,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,i,n,a.b,this,r,o)},h.prototype.getMap=function(){return this.map_},h.prototype.renderFrame=function(t){Object(s.b)()},h.prototype.scheduleExpireIconCache=function(t){l.a.canExpireCache()&&t.postRenderFunctions.push(p)},h),g=i("7b4f"),y=i("3333"),v=i("070d"),m=i("6d83"),b=i("cd7e"),O=i("ddea"),E=i("1e8d"),x=i("0999");function R(t){var e=d.call(this,t)||this;e.fontChangeListenerKey_=Object(E.a)(O.a,g.a.PROPERTYCHANGE,t.redrawText.bind(t)),e.element_=document.createElement("div");var i=e.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",e.element_.className=b.e+" ol-layers";t=t.getViewport();return t.insertBefore(e.element_,t.firstChild||null),e.children_=[],e.renderedVisible_=!0,e}var S,w,I=((f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(R,d=_),R.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap();i.hasListener(t)&&(e=new y.a(t,void 0,e),i.dispatchEvent(e))},R.prototype.disposeInternal=function(){Object(E.c)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),d.prototype.disposeInternal.call(this)},R.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent(v.a.PRECOMPOSE,t);for(var e=t.layerStatesArray.sort(function(t,e){return t.zIndex-e.zIndex}),i=t.viewState,n=[],r=null,o=this.children_.length=0,a=e.length;o<a;++o){var s,c=e[o];t.layerIndex=o,!Object(j.b)(c,i)||c.sourceState!=m.a.READY&&c.sourceState!=m.a.UNDEFINED||(c=(s=c.layer).render(t,r))&&(c!==r&&(this.children_.push(c),r=c),"getDeclutter"in s&&n.push(s))}for(o=n.length-1;0<=o;--o)n[o].renderDeclutter(t);Object(x.f)(this.element_,this.children_),this.dispatchRenderEvent(v.a.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},R.prototype.forEachLayerAtPixel=function(t,e,i,n,r){for(var o=e.viewState,a=e.layerStatesArray,s=a.length-1;0<=s;--s){var c=a[s],l=c.layer;if(l.hasRenderer()&&Object(j.b)(c,o)&&r(l)){c=l.getRenderer().getDataAtPixel(t,e,i);if(c){c=n(l,c);if(c)return c}}}},R),P=i("e269"),A=i("e300"),L=i("183a"),M=i("01d4"),F=i("5564"),D=i("92fa"),G=i("38f3"),N=(S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),k="layers";function z(t){var e=this,i=t||{},t=Object(G.a)({},i);delete t.layers;i=i.layers;return(e=w.call(this,t)||this).layersListenerKeys_=[],e.listenerKeys_={},e.addEventListener(Object(P.b)(k),e.handleLayersChanged_),i?Array.isArray(i)?i=new A.a(i.slice(),{unique:!0}):Object(D.a)("function"==typeof i.getArray,43):i=new A.a(void 0,{unique:!0}),e.setLayers(i),e}var U,X,B=(w=F.a,N(z,w),z.prototype.handleLayerChange_=function(){this.changed()},z.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(E.c),this.layersListenerKeys_.length=0;var t,e=this.getLayers();for(t in this.layersListenerKeys_.push(Object(E.a)(e,L.a.ADD,this.handleLayersAdd_,this),Object(E.a)(e,L.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[t].forEach(E.c);Object(G.b)(this.listenerKeys_);for(var i=e.getArray(),n=0,r=i.length;n<r;n++){var o=i[n];this.listenerKeys_[Object(s.c)(o)]=[Object(E.a)(o,g.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(E.a)(o,M.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},z.prototype.handleLayersAdd_=function(t){t=t.element;this.listenerKeys_[Object(s.c)(t)]=[Object(E.a)(t,g.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(E.a)(t,M.a.CHANGE,this.handleLayerChange_,this)],this.changed()},z.prototype.handleLayersRemove_=function(t){t=t.element,t=Object(s.c)(t);this.listenerKeys_[t].forEach(E.c),delete this.listenerKeys_[t],this.changed()},z.prototype.getLayers=function(){return this.get(k)},z.prototype.setLayers=function(t){this.set(k,t)},z.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},z.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],t=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var i=this.getLayerState(),n=t,r=e.length;n<r;n++){var o=e[n];o.opacity*=i.opacity,o.visible=o.visible&&i.visible,o.maxResolution=Math.min(o.maxResolution,i.maxResolution),o.minResolution=Math.max(o.minResolution,i.minResolution),o.minZoom=Math.max(o.minZoom,i.minZoom),o.maxZoom=Math.min(o.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==o.extent?o.extent=Object(C.B)(o.extent,i.extent):o.extent=i.extent)}return e},z.prototype.getSourceState=function(){return m.a.READY},z),Y=i("cef7"),u=(U=function(t,e){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}U(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function W(t,e,i){t=X.call(this,t)||this;return t.map=e,t.frameState=void 0!==i?i:null,t}var K,V,Z=(X=Y.a,u(W,X),W);function H(t,e,i,n,r){r=V.call(this,t,e,r)||this;return r.originalEvent=i,r.pixel_=null,r.coordinate_=null,r.dragging=void 0!==n&&n,r}var q,J,Q=((K=function(t,e){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}K(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(H,V=Z),Object.defineProperty(H.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),H.prototype.preventDefault=function(){V.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},H.prototype.stopPropagation=function(){V.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},H),_=i("0ec0"),$={SINGLECLICK:"singleclick",CLICK:M.a.CLICK,DBLCLICK:M.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},tt="pointermove",et="pointerdown",it=i("617d"),F=(q=function(t,e){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}q(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function nt(t,e){var i=J.call(this,t)||this;i.map_=t,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=e?e*it.a:it.a,i.down_=null;e=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=e,i.pointerdownListenerKey_=Object(E.a)(e,et,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=Object(E.a)(e,tt,i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(M.a.TOUCHMOVE,i.boundHandleTouchMove_,!!it.e&&{passive:!1}),i}var rt=(J=_.a,F(nt,J),nt.prototype.emulateClick_=function(e){var t=new Q($.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Q($.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var t=new Q($.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}.bind(this),250)},nt.prototype.updateActivePointers_=function(t){t.type==$.POINTERUP||t.type==$.POINTERCANCEL?delete this.trackedTouches_[t.pointerId]:t.type==$.POINTERDOWN&&(this.trackedTouches_[t.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},nt.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new Q($.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(E.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},nt.prototype.isMouseActionButton_=function(t){return 0===t.button},nt.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(t);var e=new Q($.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(t=this.map_.getOwnerDocument(),this.dragListenerKeys_.push(Object(E.a)(t,$.POINTERMOVE,this.handlePointerMove_,this),Object(E.a)(t,$.POINTERUP,this.handlePointerUp_,this),Object(E.a)(this.element_,$.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==t&&this.dragListenerKeys_.push(Object(E.a)(this.element_.getRootNode(),$.POINTERUP,this.handlePointerUp_,this)))},nt.prototype.handlePointerMove_=function(t){this.isMoving_(t)&&(this.dragging_=!0,t=new Q($.POINTERDRAG,this.map_,t,this.dragging_),this.dispatchEvent(t))},nt.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new Q(t.type,this.map_,t,e))},nt.prototype.handleTouchMove_=function(t){this.originalPointerMoveEvent_&&!this.originalPointerMoveEvent_.defaultPrevented||t.preventDefault()},nt.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},nt.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(E.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(M.a.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Object(E.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(E.c),this.dragListenerKeys_.length=0,this.element_=null,J.prototype.disposeInternal.call(this)},nt),ot=i("592d"),at={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};function st(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}var ct,lt,N=(st.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(G.b)(this.queuedElements_)},st.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));e=this.keyFunction_(i);return delete this.queuedElements_[e],i},st.prototype.enqueue=function(t){Object(D.a)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},st.prototype.getCount=function(){return this.elements_.length},st.prototype.getLeftChildIndex_=function(t){return 2*t+1},st.prototype.getRightChildIndex_=function(t){return 2*t+2},st.prototype.getParentIndex_=function(t){return t-1>>1},st.prototype.heapify_=function(){for(var t=(this.elements_.length>>1)-1;0<=t;t--)this.siftUp_(t)},st.prototype.isEmpty=function(){return 0===this.elements_.length},st.prototype.isKeyQueued=function(t){return t in this.queuedElements_},st.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},st.prototype.siftUp_=function(t){for(var e=this.elements_,i=this.priorities_,n=e.length,r=e[t],o=i[t],a=t;t<n>>1;){var s=this.getLeftChildIndex_(t),c=this.getRightChildIndex_(t),s=c<n&&i[c]<i[s]?c:s;e[t]=e[s],i[t]=i[s],t=s}e[t]=r,i[t]=o,this.siftDown_(a,t)},st.prototype.siftDown_=function(t,e){for(var i=this.elements_,n=this.priorities_,r=i[e],o=n[e];t<e;){var a=this.getParentIndex_(e);if(!(n[a]>o))break;i[e]=i[a],n[e]=n[a],e=a}i[e]=r,n[e]=o},st.prototype.reprioritize=function(){for(var t,e,i=this.priorityFunction_,n=this.elements_,r=this.priorities_,o=0,a=n.length,s=0;s<a;++s)(e=i(t=n[s]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(r[o]=e,n[o++]=t);n.length=o,r.length=o,this.heapify_()},st),ut=i("acc1");function ht(e,t){var i=lt.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=t,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}var pt=((ct=function(t,e){return(ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}ct(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(ht,lt=N),ht.prototype.enqueue=function(t){var e=lt.prototype.enqueue.call(this,t);return e&&t[0].addEventListener(M.a.CHANGE,this.boundHandleTileChange_),e},ht.prototype.getTilesLoading=function(){return this.tilesLoading_},ht.prototype.handleTileChange=function(t){var e=t.target,t=e.getState();(e.hifi&&t===ut.a.LOADED||t===ut.a.ERROR||t===ut.a.EMPTY)&&(e.removeEventListener(M.a.CHANGE,this.boundHandleTileChange_),(e=e.getKey())in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[e],--this.tilesLoading_),this.tileChangeCallback_())},ht.prototype.loadMoreTiles=function(t,e){for(var i,n,r=0;this.tilesLoading_<t&&r<e&&0<this.getCount();)n=(i=this.dequeue()[0]).getKey(),i.getState()!==ut.a.IDLE||n in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[n]=!0,++this.tilesLoading_,++r,i.load())},ht);var ft,dt,_t=i("a2c7"),gt=i("496f"),yt=i("256f"),vt=i("345d"),u=(ft=function(t,e){return(ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}ft(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function mt(t){var e=dt.call(this)||this,i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,n,r={},o=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new B({layers:t.layers});r[at.LAYERGROUP]=o,r[at.TARGET]=t.target,r[at.VIEW]=void 0!==t.view?t.view:new _t.a,void 0!==t.controls&&(i=Array.isArray(t.controls)?new A.a(t.controls.slice()):(Object(D.a)("function"==typeof t.controls.getArray,47),t.controls));void 0!==t.interactions&&(n=Array.isArray(t.interactions)?new A.a(t.interactions.slice()):(Object(D.a)("function"==typeof t.interactions.getArray,48),t.interactions));t=void 0!==t.overlays?Array.isArray(t.overlays)?new A.a(t.overlays.slice()):(Object(D.a)("function"==typeof t.overlays.getArray,49),t.overlays):new A.a;return{controls:i,interactions:n,keyboardEventTarget:e,overlays:t,values:r}}(t);return e.boundHandleBrowserEvent_=e.handleBrowserEvent.bind(e),e.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,e.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:it.a,e.postRenderTimeoutHandle_,e.animationDelayKey_,e.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(e),e.coordinateToPixelTransform_=Object(c.c)(),e.pixelToCoordinateTransform_=Object(c.c)(),e.frameIndex_=0,e.frameState_=null,e.previousExtent_=null,e.viewPropertyListenerKey_=null,e.viewChangeListenerKey_=null,e.layerGroupPropertyListenerKeys_=null,e.viewport_=document.createElement("div"),e.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),e.viewport_.style.position="relative",e.viewport_.style.overflow="hidden",e.viewport_.style.width="100%",e.viewport_.style.height="100%",e.overlayContainer_=document.createElement("div"),e.overlayContainer_.style.position="absolute",e.overlayContainer_.style.zIndex="0",e.overlayContainer_.style.width="100%",e.overlayContainer_.style.height="100%",e.overlayContainer_.style.pointerEvents="none",e.overlayContainer_.className="ol-overlaycontainer",e.viewport_.appendChild(e.overlayContainer_),e.overlayContainerStopEvent_=document.createElement("div"),e.overlayContainerStopEvent_.style.position="absolute",e.overlayContainerStopEvent_.style.zIndex="0",e.overlayContainerStopEvent_.style.width="100%",e.overlayContainerStopEvent_.style.height="100%",e.overlayContainerStopEvent_.style.pointerEvents="none",e.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",e.viewport_.appendChild(e.overlayContainerStopEvent_),e.mapBrowserEventHandler_=null,e.moveTolerance_=t.moveTolerance,e.keyboardEventTarget_=i.keyboardEventTarget,e.keyHandlerKeys_=null,e.controls=i.controls||new A.a,e.interactions=i.interactions||new A.a,e.overlays_=i.overlays,e.overlayIdIndex_={},e.renderer_=null,e.handleResize_,e.postRenderFunctions_=[],e.tileQueue_=new pt(e.getTilePriority.bind(e),e.handleTileChange_.bind(e)),e.addEventListener(Object(P.b)(at.LAYERGROUP),e.handleLayerGroupChanged_),e.addEventListener(Object(P.b)(at.VIEW),e.handleViewChanged_),e.addEventListener(Object(P.b)(at.SIZE),e.handleSizeChanged_),e.addEventListener(Object(P.b)(at.TARGET),e.handleTargetChanged_),e.setProperties(i.values),e.controls.forEach(function(t){t.setMap(this)}.bind(e)),e.controls.addEventListener(L.a.ADD,function(t){t.element.setMap(this)}.bind(e)),e.controls.addEventListener(L.a.REMOVE,function(t){t.element.setMap(null)}.bind(e)),e.interactions.forEach(function(t){t.setMap(this)}.bind(e)),e.interactions.addEventListener(L.a.ADD,function(t){t.element.setMap(this)}.bind(e)),e.interactions.addEventListener(L.a.REMOVE,function(t){t.element.setMap(null)}.bind(e)),e.overlays_.forEach(e.addOverlayInternal_.bind(e)),e.overlays_.addEventListener(L.a.ADD,function(t){this.addOverlayInternal_(t.element)}.bind(e)),e.overlays_.addEventListener(L.a.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(e)),e}var bt,Ot,_=(dt=P.a,u(mt,dt),mt.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},mt.prototype.addControl=function(t){this.getControls().push(t)},mt.prototype.addInteraction=function(t){this.getInteractions().push(t)},mt.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},mt.prototype.addOverlay=function(t){this.getOverlays().push(t)},mt.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},mt.prototype.disposeInternal=function(){this.setTarget(null),dt.prototype.disposeInternal.call(this)},mt.prototype.forEachFeatureAtPixel=function(t,e,i){if(this.frameState_){var n=this.getCoordinateFromPixelInternal(t),r=void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,t=void 0!==i.layerFilter?i.layerFilter:a.b,i=!1!==i.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,r,i,e,null,t,null)}},mt.prototype.getFeaturesAtPixel=function(t,e){var i=[];return this.forEachFeatureAtPixel(t,function(t){i.push(t)},e),i},mt.prototype.forEachLayerAtPixel=function(t,e,i){if(this.frameState_){var n=i||{},i=void 0!==n.hitTolerance?n.hitTolerance:0,n=n.layerFilter||a.b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,i,e,n)}},mt.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixelInternal(t),n=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:a.b,t=void 0!==e.hitTolerance?e.hitTolerance:0,e=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,t,e,n,null)},mt.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},mt.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},mt.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),t="changedTouches"in t?t.changedTouches[0]:t;return[t.clientX-e.left,t.clientY-e.top]},mt.prototype.getTarget=function(){return this.get(at.TARGET)},mt.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},mt.prototype.getCoordinateFromPixel=function(t){return Object(yt.k)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},mt.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?Object(c.a)(e.pixelToCoordinateTransform,t.slice()):null},mt.prototype.getControls=function(){return this.controls},mt.prototype.getOverlays=function(){return this.overlays_},mt.prototype.getOverlayById=function(t){t=this.overlayIdIndex_[t.toString()];return void 0!==t?t:null},mt.prototype.getInteractions=function(){return this.interactions},mt.prototype.getLayerGroup=function(){return this.get(at.LAYERGROUP)},mt.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},mt.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,i=t.length;e<i;++e){var n=t[e].layer.getSource();if(n&&n.loading)return!0}return!1},mt.prototype.getPixelFromCoordinate=function(t){t=Object(yt.d)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)},mt.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?Object(c.a)(e.coordinateToPixelTransform,t.slice(0,2)):null},mt.prototype.getRenderer=function(){return this.renderer_},mt.prototype.getSize=function(){return this.get(at.SIZE)},mt.prototype.getView=function(){return this.get(at.VIEW)},mt.prototype.getViewport=function(){return this.viewport_},mt.prototype.getOverlayContainer=function(){return this.overlayContainer_},mt.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},mt.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document},mt.prototype.getTilePriority=function(t,e,i,n){return r=this.frameState_,t=t,e=e,i=i,n=n,r&&e in r.wantedTiles&&r.wantedTiles[e][t.getKey()]?(t=r.viewState.center,r=i[0]-t[0],t=i[1]-t[1],65536*Math.log(n)+Math.sqrt(r*r+t*t)/n):1/0;var r},mt.prototype.handleBrowserEvent=function(t,e){e=e||t.type,t=new Q(e,this,t);this.handleMapBrowserEvent(t)},mt.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,i=e.type;if(i===et||i===M.a.WHEEL||i===M.a.KEYDOWN){var n=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():n,e="host"in i?i.elementFromPoint(e.clientX,e.clientY):e.target;if(this.overlayContainerStopEvent_.contains(e)||!(i===n?n.documentElement:i).contains(e))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var r=this.getInteractions().getArray().slice(),o=r.length-1;0<=o;o--){var a=r[o];if(a.getMap()===this&&a.getActive()&&this.getTargetElement())if(!a.handleEvent(t)||t.propagationStopped)break}}},mt.prototype.handlePostRender=function(){var t,e,i,n=this.frameState_,r=this.tileQueue_;r.isEmpty()||(i=e=this.maxTilesLoading_,!n||((t=n.viewHints)[gt.a.ANIMATING]||t[gt.a.INTERACTING])&&(e=(t=!it.c&&8<Date.now()-n.time)?0:8,i=t?0:2),r.getTilesLoading()<e&&(r.reprioritize(),r.loadMoreTiles(e,i))),!n||!this.hasListener(v.a.RENDERCOMPLETE)||n.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(v.a.RENDERCOMPLETE,n);for(var o=this.postRenderFunctions_,a=0,s=o.length;a<s;++a)o[a](this,n);o.length=0},mt.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},mt.prototype.handleTargetChanged_=function(){if(this.getTarget()&&(n=this.getTargetElement()),this.mapBrowserEventHandler_){for(var t=0,e=this.keyHandlerKeys_.length;t<e;++t)Object(E.c)(this.keyHandlerKeys_[t]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener(M.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(M.a.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(M.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Object(x.e)(this.viewport_)}if(n){for(var i in n.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new rt(this,this.moveTolerance_),$)this.mapBrowserEventHandler_.addEventListener($[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(M.a.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(M.a.WHEEL,this.boundHandleBrowserEvent_,!!it.e&&{passive:!1});var n=this.keyboardEventTarget_||n;this.keyHandlerKeys_=[Object(E.a)(n,M.a.KEYDOWN,this.handleBrowserEvent,this),Object(E.a)(n,M.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(M.a.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},mt.prototype.handleTileChange_=function(){this.render()},mt.prototype.handleViewPropertyChanged_=function(){this.render()},mt.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(E.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(E.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Object(E.a)(t,g.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(E.a)(t,M.a.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},mt.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(E.c),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(E.a)(t,g.a.PROPERTYCHANGE,this.render,this),Object(E.a)(t,M.a.CHANGE,this.render,this)]),this.render()},mt.prototype.isRendered=function(){return!!this.frameState_},mt.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},mt.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,i=t.length;e<i;++e){var n=t[e].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}},mt.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},mt.prototype.removeControl=function(t){return this.getControls().remove(t)},mt.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},mt.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},mt.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},mt.prototype.renderFrame_=function(t){var e,i=this,n=this.getSize(),r=this.getView(),o=this.frameState_,a=null;void 0!==n&&Object(vt.a)(n)&&r&&r.isDef()&&(e=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),r=r.getState(),a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Object(C.z)(r.center,r.resolution,r.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:r,viewHints:e,wantedTiles:{}}),this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),!o||this.previousExtent_&&(Object(C.H)(this.previousExtent_)||Object(C.p)(a.extent,this.previousExtent_))||(this.dispatchEvent(new Z(ot.a.MOVESTART,this,o)),this.previousExtent_=Object(C.l)(this.previousExtent_)),!this.previousExtent_||a.viewHints[gt.a.ANIMATING]||a.viewHints[gt.a.INTERACTING]||Object(C.p)(a.extent,this.previousExtent_)||(this.dispatchEvent(new Z(ot.a.MOVEEND,this,a)),Object(C.d)(a.extent,this.previousExtent_))),this.dispatchEvent(new Z(ot.a.POSTRENDER,this,a)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){i.postRenderTimeoutHandle_=void 0,i.handlePostRender()},0))},mt.prototype.setLayerGroup=function(t){this.set(at.LAYERGROUP,t)},mt.prototype.setSize=function(t){this.set(at.SIZE,t)},mt.prototype.setTarget=function(t){this.set(at.TARGET,t)},mt.prototype.setView=function(t){this.set(at.VIEW,t)},mt.prototype.updateSize=function(){var t,e=this.getTargetElement();e?(t=getComputedStyle(e),this.setSize([e.offsetWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderRightWidth),e.offsetHeight-parseFloat(t.borderTopWidth)-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)-parseFloat(t.borderBottomWidth)])):this.setSize(void 0),this.updateViewportSize_()},mt.prototype.updateViewportSize_=function(){var t,e,i=this.getView();i&&(t=void 0,(e=getComputedStyle(this.viewport_)).width&&e.height&&(t=[parseInt(e.width,10),parseInt(e.height,10)]),i.setViewportSize(t))},mt),F=(bt=function(t,e){return(bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}bt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function Et(t){var e=Ot.call(this)||this,i=t.element;return!i||t.target||i.style.pointerEvents||(i.style.pointerEvents="auto"),e.element=i||null,e.target_=null,e.map_=null,e.listenerKeys=[],t.render&&(e.render=t.render),t.target&&e.setTarget(t.target),e}var xt,Ct,N=(Ot=P.a,F(Et,Ot),Et.prototype.disposeInternal=function(){Object(x.e)(this.element),Ot.prototype.disposeInternal.call(this)},Et.prototype.getMap=function(){return this.map_},Et.prototype.setMap=function(t){this.map_&&Object(x.e)(this.element);for(var e=0,i=this.listenerKeys.length;e<i;++e)Object(E.c)(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_||t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==a.c&&this.listenerKeys.push(Object(E.a)(t,ot.a.POSTRENDER,this.render,this)),t.render())},Et.prototype.render=function(t){},Et.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},Et),jt=i("9f5e");function Tt(t){var e=this,i=t||{};(e=Ct.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this).ulElement_=document.createElement("ul"),e.collapsed_=void 0===i.collapsed||i.collapsed,e.userCollapsed_=e.collapsed_,e.overrideCollapsible_=void 0!==i.collapsible,e.collapsible_=void 0===i.collapsible||i.collapsible,e.collapsible_||(e.collapsed_=!1);var n=void 0!==i.className?i.className:"ol-attribution",r=void 0!==i.tipLabel?i.tipLabel:"Attributions",o=void 0!==i.expandClassName?i.expandClassName:n+"-expand",a=void 0!==i.collapseLabel?i.collapseLabel:"»",t=void 0!==i.collapseClassName?i.collapseClassName:n+"-collpase";"string"==typeof a?(e.collapseLabel_=document.createElement("span"),e.collapseLabel_.textContent=a,e.collapseLabel_.className=t):e.collapseLabel_=a;i=void 0!==i.label?i.label:"i";"string"==typeof i?(e.label_=document.createElement("span"),e.label_.textContent=i,e.label_.className=o):e.label_=i;o=e.collapsible_&&!e.collapsed_?e.collapseLabel_:e.label_,i=document.createElement("button");i.setAttribute("type","button"),i.title=r,i.appendChild(o),i.addEventListener(M.a.CLICK,e.handleClick_.bind(e),!1);o=n+" "+b.e+" "+b.b+(e.collapsed_&&e.collapsible_?" "+b.a:"")+(e.collapsible_?"":" ol-uncollapsible"),n=e.element;return n.className=o,n.appendChild(e.ulElement_),n.appendChild(i),e.renderedAttributions_=[],e.renderedVisible_=!0,e}var Rt,St,wt=((xt=function(t,e){return(xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}xt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Tt,Ct=N),Tt.prototype.collectSourceAttributions_=function(t){for(var e={},i=[],n=!0,r=t.layerStatesArray,o=0,a=r.length;o<a;++o){var s=r[o];if(Object(j.b)(s,t.viewState)){var c=s.layer.getSource();if(c){s=c.getAttributions();if(s){var l=s(t);if(l)if(n=n&&!1!==c.getAttributionsCollapsible(),Array.isArray(l))for(var u=0,h=l.length;u<h;++u)l[u]in e||(i.push(l[u]),e[l[u]]=!0);else l in e||(i.push(l),e[l]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(n),i},Tt.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),t=0<e.length;if(this.renderedVisible_!=t&&(this.element.style.display=t?"":"none",this.renderedVisible_=t),!Object(jt.b)(e,this.renderedAttributions_)){Object(x.d)(this.ulElement_);for(var i=0,n=e.length;i<n;++i){var r=document.createElement("li");r.innerHTML=e[i],this.ulElement_.appendChild(r)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},Tt.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},Tt.prototype.handleToggle_=function(){this.element.classList.toggle(b.a),this.collapsed_?Object(x.g)(this.collapseLabel_,this.label_):Object(x.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},Tt.prototype.getCollapsible=function(){return this.collapsible_},Tt.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},Tt.prototype.setCollapsed=function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},Tt.prototype.getCollapsed=function(){return this.collapsed_},Tt.prototype.render=function(t){this.updateElement_(t.frameState)},Tt),It=i("ca42");function Pt(t){var e=this,i=t||{},e=St.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,n=void 0!==i.className?i.className:"ol-rotate",r=void 0!==i.label?i.label:"⇧",t=void 0!==i.compassClassName?i.compassClassName:"ol-compass";e.label_=null,"string"==typeof r?(e.label_=document.createElement("span"),e.label_.className=t,e.label_.textContent=r):(e.label_=r,e.label_.classList.add(t));r=i.tipLabel||"Reset rotation",t=document.createElement("button");t.className=n+"-reset",t.setAttribute("type","button"),t.title=r,t.appendChild(e.label_),t.addEventListener(M.a.CLICK,e.handleClick_.bind(e),!1);r=n+" "+b.e+" "+b.b,n=e.element;return n.className=r,n.appendChild(t),e.callResetNorth_=i.resetNorth||void 0,e.duration_=void 0!==i.duration?i.duration:250,e.autoHide_=void 0===i.autoHide||i.autoHide,e.rotation_=void 0,e.autoHide_&&e.element.classList.add(b.c),e}var At,Lt,Mt=((Rt=function(t,e){return(Rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Rt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Pt,St=N),Pt.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},Pt.prototype.resetNorth_=function(){var t,e=this.getMap().getView();!e||void 0!==(t=e.getRotation())&&(0<this.duration_&&t%(2*Math.PI)!=0?e.animate({rotation:0,duration:this.duration_,easing:It.b}):e.setRotation(0))},Pt.prototype.render=function(t){var e,i=t.frameState;i&&((e=i.viewState.rotation)!=this.rotation_&&(t="rotate("+e+"rad)",this.autoHide_&&((i=this.element.classList.contains(b.c))||0!==e?i&&0!==e&&this.element.classList.remove(b.c):this.element.classList.add(b.c)),this.label_.style.transform=t),this.rotation_=e)},Pt);function Ft(t){var e=this,i=t||{},e=Lt.call(this,{element:document.createElement("div"),target:i.target})||this,n=void 0!==i.className?i.className:"ol-zoom",r=void 0!==i.delta?i.delta:1,o=void 0!==i.zoomInClassName?i.zoomInClassName:n+"-in",a=void 0!==i.zoomOutClassName?i.zoomOutClassName:n+"-out",s=void 0!==i.zoomInLabel?i.zoomInLabel:"+",c=void 0!==i.zoomOutLabel?i.zoomOutLabel:"−",l=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",u=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",t=document.createElement("button");t.className=o,t.setAttribute("type","button"),t.title=l,t.appendChild("string"==typeof s?document.createTextNode(s):s),t.addEventListener(M.a.CLICK,e.handleClick_.bind(e,r),!1);s=document.createElement("button");s.className=a,s.setAttribute("type","button"),s.title=u,s.appendChild("string"==typeof c?document.createTextNode(c):c),s.addEventListener(M.a.CLICK,e.handleClick_.bind(e,-r),!1);r=n+" "+b.e+" "+b.b,n=e.element;return n.className=r,n.appendChild(t),n.appendChild(s),e.duration_=void 0!==i.duration?i.duration:250,e}var Dt=((At=function(t,e){return(At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}At(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Ft,Lt=N),Ft.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},Ft.prototype.zoomByDelta_=function(t){var e,i=this.getMap().getView();!i||void 0!==(e=i.getZoom())&&(t=i.getConstrainedZoom(e+t),0<this.duration_?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:t,duration:this.duration_,easing:It.b})):i.setZoom(t))},Ft);var Gt,Nt,kt="active",u=(Gt=function(t,e){return(Gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Gt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function zt(t){var e=Nt.call(this)||this;return t&&t.handleEvent&&(e.handleEvent=t.handleEvent),e.map_=null,e.setActive(!0),e}function Ut(t,e,i,n){var r=t.getZoom();void 0!==r&&(e=t.getConstrainedZoom(r+e),e=t.getResolutionForZoom(e),t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:e,anchor:i,duration:void 0!==n?n:250,easing:It.b}))}var Xt,Bt,F=(Nt=P.a,u(zt,Nt),zt.prototype.getActive=function(){return this.get(kt)},zt.prototype.getMap=function(){return this.map_},zt.prototype.handleEvent=function(t){return!0},zt.prototype.setActive=function(t){this.set(kt,t)},zt.prototype.setMap=function(t){this.map_=t},zt);function Yt(t){var e=Bt.call(this)||this,t=t||{};return e.delta_=t.delta||1,e.duration_=void 0!==t.duration?t.duration:250,e}var Wt,Kt,Vt=((Xt=function(t,e){return(Xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Xt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Yt,Bt=F),Yt.prototype.handleEvent=function(t){var e,i,n,r=!1;return t.type==$.DBLCLICK&&(e=t.originalEvent,i=t.map,n=t.coordinate,t=e.shiftKey?-this.delta_:this.delta_,Ut(i.getView(),t,n,this.duration_),e.preventDefault(),r=!0),!r},Yt);function Zt(t){var e=this,t=t||{},e=Kt.call(this,t)||this;return t.handleDownEvent&&(e.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(e.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(e.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(e.handleUpEvent=t.handleUpEvent),t.stopDown&&(e.stopDown=t.stopDown),e.handlingDownUpSequence=!1,e.trackedPointers_={},e.targetPointers=[],e}function Ht(t){for(var e=t.length,i=0,n=0,r=0;r<e;r++)i+=t[r].clientX,n+=t[r].clientY;return[i/e,n/e]}(Wt=function(t,e){return(Wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Wt(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Zt,Kt=F),Zt.prototype.getPointerCount=function(){return this.targetPointers.length},Zt.prototype.handleDownEvent=function(t){return!1},Zt.prototype.handleDragEvent=function(t){},Zt.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e,i=!1;return this.updateTrackedPointers_(t),this.handlingDownUpSequence?t.type==$.POINTERDRAG?(this.handleDragEvent(t),t.originalEvent.preventDefault()):t.type==$.POINTERUP&&(e=this.handleUpEvent(t),this.handlingDownUpSequence=e&&0<this.targetPointers.length):t.type==$.POINTERDOWN?(e=this.handleDownEvent(t),this.handlingDownUpSequence=e,i=this.stopDown(e)):t.type==$.POINTERMOVE&&this.handleMoveEvent(t),!i},Zt.prototype.handleMoveEvent=function(t){},Zt.prototype.handleUpEvent=function(t){return!1},Zt.prototype.stopDown=function(t){return t},Zt.prototype.updateTrackedPointers_=function(t){var e,i;!function(t){t=t.type;return t===$.POINTERDOWN||t===$.POINTERDRAG||t===$.POINTERUP}(t)||(i=(e=t.originalEvent).pointerId.toString(),t.type==$.POINTERUP?delete this.trackedPointers_[i]:(t.type==$.POINTERDOWN||i in this.trackedPointers_)&&(this.trackedPointers_[i]=e),this.targetPointers=Object(G.c)(this.trackedPointers_))},N=Zt;function qt(){var r=arguments;return function(t){for(var e=!0,i=0,n=r.length;i<n&&(e=e&&r[i](t));++i);return e}}function Jt(t){return(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function Qt(t){return!t.map.getTargetElement().hasAttribute("tabindex")||t.target.getTargetElement().contains(document.activeElement)}function $t(t){return 0==(t=t.originalEvent).button&&!(it.f&&it.d&&t.ctrlKey)}function te(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function ee(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function ie(t){return"INPUT"!==(t=t.originalEvent.target.tagName)&&"SELECT"!==t&&"TEXTAREA"!==t}function ne(t){return t=t.originalEvent,Object(D.a)(void 0!==t,56),"mouse"==t.pointerType}function re(t){return t=t.originalEvent,Object(D.a)(void 0!==t,56),t.isPrimary&&0===t.button}var oe,ae,se=a.b;a.a;function ce(t){var e=ae.call(this,{stopDown:a.a})||this,i=t||{};e.kinetic_=i.kinetic,e.lastCentroid=null,e.lastPointersCount_,e.panning_=!1;t=i.condition||qt(te,re);return e.condition_=i.onFocusOnly?qt(Qt,t):t,e.noKinetic_=!1,e}var le,ue,he=((oe=function(t,e){return(oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}oe(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(ce,ae=N),ce.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e,i,n=this.targetPointers,r=Ht(n);n.length==this.lastPointersCount_?(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid&&(e=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],i=t.map.getView(),Object(T.e)(e,i.getResolution()),Object(T.d)(e,i.getRotation()),i.adjustCenterInternal(e))):this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=r,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()},ce.prototype.handleUpEvent=function(t){var e,i,n=t.map,r=n.getView();return 0!==this.targetPointers.length?(this.kinetic_&&this.kinetic_.begin(),!(this.lastCentroid=null)):(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()&&(e=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),t=r.getCenterInternal(),t=n.getPixelFromCoordinateInternal(t),i=n.getCoordinateFromPixelInternal([t[0]-e*Math.cos(i),t[1]-e*Math.sin(i)]),r.animateInternal({center:r.getConstrainedCenter(i),duration:500,easing:It.b})),this.panning_&&(this.panning_=!1,r.endInteraction()),!1)},ce.prototype.handleDownEvent=function(t){if(0<this.targetPointers.length&&this.condition_(t)){t=t.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0}return!1},ce),pe=i("8cc5");function fe(t){var e=this,t=t||{};return(e=ue.call(this,{stopDown:a.a})||this).condition_=t.condition||Jt,e.lastAngle_=void 0,e.duration_=void 0!==t.duration?t.duration:250,e}var de,_e,ge=((le=function(t,e){return(le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}le(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(fe,ue=N),fe.prototype.handleDragEvent=function(t){var e,i;!ne(t)||(e=(i=t.map).getView()).getConstraints().rotation!==pe.c&&(i=i.getSize(),t=t.pixel,t=Math.atan2(i[1]/2-t[1],t[0]-i[0]/2),void 0!==this.lastAngle_&&(i=t-this.lastAngle_,e.adjustRotationInternal(-i)),this.lastAngle_=t)},fe.prototype.handleUpEvent=function(t){return!ne(t)||(t.map.getView().endInteraction(this.duration_),!1)},fe.prototype.handleDownEvent=function(t){return!!ne(t)&&(!(!$t(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),!(this.lastAngle_=void 0)))},fe),ye=i("5bc3"),u=(de=function(t,e){return(de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}de(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function ve(t){var e=_e.call(this)||this;return e.geometry_=null,e.element_=document.createElement("div"),e.element_.style.position="absolute",e.element_.style.pointerEvents="auto",e.element_.className="ol-box "+t,e.map_=null,e.startPixel_=null,e.endPixel_=null,e}var me,be,Oe=(_e=o.a,u(ve,_e),ve.prototype.disposeInternal=function(){this.setMap(null)},ve.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i=this.element_.style;i.left=Math.min(t[0],e[0])+"px",i.top=Math.min(t[1],e[1])+"px",i.width=Math.abs(e[0]-t[0])+"px",i.height=Math.abs(e[1]-t[1])+"px"},ve.prototype.setMap=function(t){var e;this.map_&&(this.map_.getOverlayContainer().removeChild(this.element_),(e=this.element_.style).left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"),this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},ve.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},ve.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,t=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);t[4]=t[0].slice(),this.geometry_?this.geometry_.setCoordinates([t]):this.geometry_=new ye.a([t])},ve.prototype.getGeometry=function(){return this.geometry_},ve),u=(me=function(t,e){return(me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}me(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Ee="boxstart",xe="boxdrag",Ce="boxend",je="boxcancel",Te=(be=Y.a,u(Re,be),Re);function Re(t,e,i){t=be.call(this,t)||this;return t.coordinate=e,t.mapBrowserEvent=i,t}var Se,we,Ie,u=(u(Pe,Se=N),Pe.prototype.defaultBoxEndCondition=function(t,e,i){var n=i[0]-e[0],e=i[1]-e[1];return n*n+e*e>=this.minArea_},Pe.prototype.getGeometry=function(){return this.box_.getGeometry()},Pe.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Te(xe,t.coordinate,t))},Pe.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Te(e?Ce:je,t.coordinate,t)),!1},Pe.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Te(Ee,t.coordinate,t)),!0)},Pe.prototype.onBoxEnd=function(t){},Pe);function Pe(t){var e=Se.call(this)||this,t=t||{};return e.box_=new Oe(t.className||"ol-dragbox"),e.minArea_=void 0!==t.minArea?t.minArea:64,t.onBoxEnd&&(e.onBoxEnd=t.onBoxEnd),e.startPixel_=null,e.condition_=t.condition||$t,e.boxEndCondition_=t.boxEndCondition||e.defaultBoxEndCondition,e}function Ae(t){var e=this,i=t||{},t=i.condition||ee;return(e=Ie.call(this,{condition:t,className:i.className||"ol-dragzoom",minArea:i.minArea})||this).duration_=void 0!==i.duration?i.duration:200,e.out_=void 0!==i.out&&i.out,e}var Le,Me,Fe=((we=function(t,e){return(we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}we(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Ae,Ie=u),Ae.prototype.onBoxEnd=function(t){var e,i=this.getMap(),n=i.getView(),r=i.getSize(),o=this.getGeometry().getExtent();this.out_&&(e=n.calculateExtentInternal(r),i=Object(C.n)([i.getPixelFromCoordinateInternal(Object(C.v)(o)),i.getPixelFromCoordinateInternal(Object(C.D)(o))]),i=n.getResolutionForExtentInternal(i,r),Object(C.J)(e,1/i),o=e);r=n.getConstrainedResolution(n.getResolutionForExtentInternal(o,r)),o=n.getConstrainedCenter(Object(C.x)(o),r);n.animateInternal({resolution:r,center:o,duration:this.duration_,easing:It.b})},Ae),De=37,Ge=38,Ne=39,ke=40;function ze(t){var e=Me.call(this)||this,t=t||{};return e.defaultCondition_=function(t){return te(t)&&ie(t)},e.condition_=void 0!==t.condition?t.condition:e.defaultCondition_,e.duration_=void 0!==t.duration?t.duration:100,e.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128,e}var Ue,Xe,Be=((Le=function(t,e){return(Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Le(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(ze,Me=F),ze.prototype.handleEvent=function(t){var e,i,n,r,o,a=!1;return t.type==M.a.KEYDOWN&&(i=(e=t.originalEvent).keyCode,!this.condition_(t)||i!=ke&&i!=De&&i!=Ne&&i!=Ge||(o=(r=t.map.getView()).getResolution()*this.pixelDelta_,t=n=0,i==ke?t=-o:i==De?n=-o:i==Ne?n=o:t=o,o=[n,t],Object(T.d)(o,r.getRotation()),n=r,t=o,r=this.duration_,(o=n.getCenterInternal())&&(t=[o[0]+t[0],o[1]+t[1]],n.animateInternal({duration:void 0!==r?r:250,easing:It.d,center:n.getConstrainedCenter(t)})),e.preventDefault(),a=!0)),!a},ze);function Ye(t){var e=Xe.call(this)||this,t=t||{};return e.condition_=t.condition||ie,e.delta_=t.delta||1,e.duration_=void 0!==t.duration?t.duration:100,e}var We=((Ue=function(t,e){return(Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Ue(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(Ye,Xe=F),Ye.prototype.handleEvent=function(t){var e,i,n=!1;return t.type!=M.a.KEYDOWN&&t.type!=M.a.KEYPRESS||(i=(e=t.originalEvent).charCode,!this.condition_(t)||i!="+".charCodeAt(0)&&i!="-".charCodeAt(0)||(t=t.map,i=i=="+".charCodeAt(0)?this.delta_:-this.delta_,Ut(t.getView(),i,void 0,this.duration_),e.preventDefault(),n=!0)),!n},Ye);function Ke(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}var Ve,Ze,He=(Ke.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},Ke.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},Ke.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[2+e]<t)return!1;for(var i=e-3;0<i&&this.points_[i+2]>t;)i-=3;var n=this.points_[2+e]-this.points_[i+2];if(n<1e3/60)return!1;var r=this.points_[e]-this.points_[i],e=this.points_[1+e]-this.points_[i+1];return this.angle_=Math.atan2(e,r),this.initialVelocity_=Math.sqrt(r*r+e*e)/n,this.initialVelocity_>this.minVelocity_},Ke.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},Ke.prototype.getAngle=function(){return this.angle_},Ke),qe=i("7fc9"),i=(Ve=function(t,e){return(Ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Ve(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Je="trackpad",Qe="wheel";function $e(t){var e=this,i=t||{};(e=Ze.call(this,i)||this).totalDelta_=0,e.lastDelta_=0,e.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,e.duration_=void 0!==i.duration?i.duration:250,e.timeout_=void 0!==i.timeout?i.timeout:80,e.useAnchor_=void 0===i.useAnchor||i.useAnchor,e.constrainResolution_=void 0!==i.constrainResolution&&i.constrainResolution;t=i.condition||se;return e.condition_=i.onFocusOnly?qt(Qt,t):t,e.lastAnchor_=null,e.startTime_=void 0,e.timeoutId_,e.mode_=void 0,e.trackpadEventGap_=400,e.trackpadTimeoutId_,e.deltaPerZoom_=300,e}var ti,ei,ii=(i($e,Ze=F),$e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?0<this.lastDelta_?1:-1:0,this.lastAnchor_)},$e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==M.a.WHEEL)return!0;var e,i=t.map,n=t.originalEvent;if(n.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==M.a.WHEEL&&(e=n.deltaY,it.b&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=it.a),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;t=Date.now();void 0===this.startTime_&&(this.startTime_=t),(!this.mode_||t-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?Je:Qe);n=i.getView();if(this.mode_===Je&&!n.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(n.getAnimating()&&n.cancelAnimations(),n.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),n.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=t,!1;this.totalDelta_+=e;t=Math.max(this.timeout_-(t-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),t),!1},$e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();t=-Object(qe.a)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(t=t?0<t?1:-1:0),Ut(e,t,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},$e.prototype.setMouseAnchor=function(t){(this.useAnchor_=t)||(this.lastAnchor_=null)},$e);function ni(t){var e=this,i=t||{},t=i;return t.stopDown||(t.stopDown=a.a),(e=ei.call(this,t)||this).anchor_=null,e.lastAngle_=void 0,e.rotating_=!1,e.rotationDelta_=0,e.threshold_=void 0!==i.threshold?i.threshold:.3,e.duration_=void 0!==i.duration?i.duration:250,e}var ri,oi,ai=((ti=function(t,e){return(ti=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}ti(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(ni,ei=N),ni.prototype.handleDragEvent=function(t){var e=0,i=this.targetPointers[0],n=this.targetPointers[1],n=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);void 0!==this.lastAngle_&&(r=n-this.lastAngle_,this.rotationDelta_+=r,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=r),this.lastAngle_=n;var i=t.map,r=i.getView();r.getConstraints().rotation!==pe.c&&(n=i.getViewport().getBoundingClientRect(),(t=Ht(this.targetPointers))[0]-=n.left,t[1]-=n.top,this.anchor_=i.getCoordinateFromPixelInternal(t),this.rotating_&&(i.render(),r.adjustRotationInternal(e,this.anchor_)))},ni.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)},ni.prototype.handleDownEvent=function(t){if(2<=this.targetPointers.length){t=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},ni);function si(t){var e=this,i=t||{},t=i;return t.stopDown||(t.stopDown=a.a),(e=oi.call(this,t)||this).anchor_=null,e.duration_=void 0!==i.duration?i.duration:400,e.lastDistance_=void 0,e.lastScaleDelta_=1,e}var ci=((ri=function(t,e){return(ri=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}ri(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(si,oi=N),si.prototype.handleDragEvent=function(t){var e=1,i=this.targetPointers[0],n=this.targetPointers[1],r=i.clientX-n.clientX,i=i.clientY-n.clientY,n=Math.sqrt(r*r+i*i);void 0!==this.lastDistance_&&(e=this.lastDistance_/n),this.lastDistance_=n;r=t.map,i=r.getView();1!=e&&(this.lastScaleDelta_=e);n=r.getViewport().getBoundingClientRect(),t=Ht(this.targetPointers);t[0]-=n.left,t[1]-=n.top,this.anchor_=r.getCoordinateFromPixelInternal(t),r.render(),i.adjustResolutionInternal(e,this.anchor_)},si.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),t=1<this.lastScaleDelta_?1:-1;return e.endInteraction(this.duration_,t),!1}return!0},si.prototype.handleDownEvent=function(t){if(2<=this.targetPointers.length){t=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},si);var li,ui,_=((li=function(t,e){return(li=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}li(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(hi,ui=_),hi.prototype.createRenderer=function(){return new I(this)},hi);function hi(t){var e,i,n;return(t=Object(G.a)({},t)).controls||(t.controls=(i=n||{},n=new A.a,void 0!==i.zoom&&!i.zoom||n.push(new Dt(i.zoomOptions)),void 0!==i.rotate&&!i.rotate||n.push(new Mt(i.rotateOptions)),void 0!==i.attribution&&!i.attribution||n.push(new wt(i.attributionOptions)),n)),t.interactions||(t.interactions=(i=(e={onFocusOnly:!0})||{},n=new A.a,e=new He(-.005,.05,100),void 0!==i.altShiftDragRotate&&!i.altShiftDragRotate||n.push(new ge),void 0!==i.doubleClickZoom&&!i.doubleClickZoom||n.push(new Vt({delta:i.zoomDelta,duration:i.zoomDuration})),void 0!==i.dragPan&&!i.dragPan||n.push(new he({onFocusOnly:i.onFocusOnly,kinetic:e})),void 0!==i.pinchRotate&&!i.pinchRotate||n.push(new ai),void 0!==i.pinchZoom&&!i.pinchZoom||n.push(new ci({duration:i.zoomDuration})),void 0!==i.keyboard&&!i.keyboard||(n.push(new Be),n.push(new We({delta:i.zoomDelta,duration:i.zoomDuration}))),void 0!==i.mouseWheelZoom&&!i.mouseWheelZoom||n.push(new ii({onFocusOnly:i.onFocusOnly,duration:i.zoomDuration})),void 0!==i.shiftDragZoom&&!i.shiftDragZoom||n.push(new Fe({duration:i.zoomDuration})),n)),ui.call(this,t)||this}e.a=_},"617d":function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"f",function(){return r}),i.d(e,"d",function(){return o}),i.d(e,"a",function(){return a}),i.d(e,"g",function(){return s}),i.d(e,"c",function(){return c}),i.d(e,"e",function(){return l});var e="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==e.indexOf("firefox"),r=(-1!==e.indexOf("safari")&&e.indexOf("chrom"),-1!==e.indexOf("webkit")&&-1==e.indexOf("edge")),o=-1!==e.indexOf("macintosh"),a="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,s="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,c="undefined"!=typeof Image&&Image.prototype.decode,l=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}()},6611:function(t,e,i){"use strict";i.d(e,"a",function(){return g});var n,o,a=i("01d4"),r=i("0ec0"),s=i("1300"),e=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function c(t,e,i,n){var r=o.call(this)||this;return r.extent=t,r.pixelRatio_=i,r.resolution=e,r.state=n,r}var l,u,e=(o=r.a,e(c,o),c.prototype.changed=function(){this.dispatchEvent(a.a.CHANGE)},c.prototype.getExtent=function(){return this.extent},c.prototype.getImage=function(){return Object(s.b)()},c.prototype.getPixelRatio=function(){return this.pixelRatio_},c.prototype.getResolution=function(){return this.resolution},c.prototype.getState=function(){return this.state},c.prototype.load=function(){Object(s.b)()},c),h=i("869f"),p=i("617d"),f=i("0af5"),d=i("1e8d");function _(t,e,i,n,r,o){i=u.call(this,t,e,i,h.a.IDLE)||this;return i.src_=n,i.image_=new Image,null!==r&&(i.image_.crossOrigin=r),i.unlisten_=null,i.state=h.a.IDLE,i.imageLoadFunction_=o,i}function g(t,e,i){var n=t;if(n.src&&p.c){var t=n.decode(),r=!0;return t.then(function(){r&&e()}).catch(function(t){r&&("EncodingError"===t.name&&"Invalid image type."===t.message?e:i)()}),function(){r=!1}}var o=[Object(d.b)(n,a.a.LOAD,e),Object(d.b)(n,a.a.ERROR,i)];return function(){o.forEach(d.c)}}(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(_,u=e),_.prototype.getImage=function(){return this.image_},_.prototype.handleImageError_=function(){this.state=h.a.ERROR,this.unlistenImage_(),this.changed()},_.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(f.A)(this.extent)/this.image_.height),this.state=h.a.LOADED,this.unlistenImage_(),this.changed()},_.prototype.load=function(){this.state!=h.a.IDLE&&this.state!=h.a.ERROR||(this.state=h.a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=g(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},_.prototype.setImage=function(t){this.image_=t},_.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}},"6c77":function(t,e,i){"use strict";i.d(e,"c",function(){return l}),i.d(e,"a",function(){return h});var r=i("ce2c"),o=i("83a6"),a=(i("f623"),i("8682")),n=i("92fa"),s=(c.prototype.clone=function(){var t=this.getGeometry();return new c({geometry:t=t&&"object"==typeof t?t.clone():t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},c.prototype.getRenderer=function(){return this.renderer_},c.prototype.setRenderer=function(t){this.renderer_=t},c.prototype.getGeometry=function(){return this.geometry_},c.prototype.getGeometryFunction=function(){return this.geometryFunction_},c.prototype.getFill=function(){return this.fill_},c.prototype.setFill=function(t){this.fill_=t},c.prototype.getImage=function(){return this.image_},c.prototype.setImage=function(t){this.image_=t},c.prototype.getStroke=function(){return this.stroke_},c.prototype.setStroke=function(t){this.stroke_=t},c.prototype.getText=function(){return this.text_},c.prototype.setText=function(t){this.text_=t},c.prototype.getZIndex=function(){return this.zIndex_},c.prototype.setGeometry=function(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=p,this.geometry_=e},c.prototype.setZIndex=function(t){this.zIndex_=t},c);function c(t){t=t||{};this.geometry_=null,this.geometryFunction_=p,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}function l(t){var e,t="function"==typeof t?t:(e=Array.isArray(t)?t:(Object(n.a)("function"==typeof t.getZIndex,41),[t]),function(){return e});return t}var u=null;function h(t,e){var i,n;return u||(i=new o.a({color:"rgba(255,255,255,0.4)"}),n=new a.a({color:"#3399CC",width:1.25}),u=[new s({image:new r.a({fill:i,stroke:n,radius:5}),fill:i,stroke:n})]),u}function p(t){return t.getGeometry()}e.b=s},"6cbf":function(t,e,i){"use strict";var n,s,r=i("01d4"),l=i("82b0"),o="bottom-left",a="bottom-right",u="top-left",c="top-right",h=i("869f"),p=i("ab35"),f=i("5c38"),d=i("92fa"),_=i("0ec0"),g=i("0999"),y=i("3c22"),v=i("6611"),m=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),b=null,O=(s=_.a,m(E,s),E.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===h.a.LOADED){(b=b||Object(g.a)(1,1)).drawImage(this.image_,0,0);try{b.getImageData(0,0,1,1),this.tainted_=!1}catch(t){b=null,this.tainted_=!0}}return!0===this.tainted_},E.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(r.a.CHANGE)},E.prototype.handleImageError_=function(){this.imageState_=h.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},E.prototype.handleImageLoad_=function(){this.imageState_=h.a.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},E.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]||this.image_},E.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},E.prototype.getImageState=function(){return this.imageState_},E.prototype.getHitDetectionImage=function(){var t,e,i;return this.hitDetectionImage_||(this.isTainted_()?(t=this.size_[0],e=this.size_[1],(i=Object(g.a)(t,e)).fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas):this.hitDetectionImage_=this.image_),this.hitDetectionImage_},E.prototype.getSize=function(){return this.size_},E.prototype.getSrc=function(){return this.src_},E.prototype.load=function(){if(this.imageState_==h.a.IDLE){this.imageState_=h.a.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(v.a)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},E.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]){var e=document.createElement("canvas");(this.canvas_[t]=e).width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var i=e.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),(i.globalCompositeOperation="multiply")===i.globalCompositeOperation||this.isTainted_())i.fillStyle=Object(f.b)(this.color_),i.fillRect(0,0,e.width,e.height),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var e=i.getImageData(0,0,e.width,e.height),n=e.data,r=this.color_[0]/255,o=this.color_[1]/255,a=this.color_[2]/255,s=this.color_[3],c=0,l=n.length;c<l;c+=4)n[c]*=r,n[c+1]*=o,n[c+2]*=a,n[c+3]*=s;i.putImageData(e,0,0)}}},E.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},E);function E(t,e,i,n,r,o){var a=s.call(this)||this;return a.hitDetectionImage_=null,a.image_=t||new Image,null!==n&&(a.image_.crossOrigin=n),a.canvas_={},a.color_=o,a.unlisten_=null,a.imageState_=r,a.size_=i,a.src_=e,a.tainted_,a}var x,C,j=i("1300"),i=(x=function(t,e){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}x(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=(C=p.a,i(T,C),T.prototype.clone=function(){var t=this.getScale();return new T({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},T.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==l.a.FRACTION||this.anchorYUnits_==l.a.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==l.a.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==l.a.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=u){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=c&&this.anchorOrigin_!=a||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=o&&this.anchorOrigin_!=a||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},T.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},T.prototype.getColor=function(){return this.color_},T.prototype.getImage=function(t){return this.iconImage_.getImage(t)},T.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},T.prototype.getImageSize=function(){return this.iconImage_.getSize()},T.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},T.prototype.getImageState=function(){return this.iconImage_.getImageState()},T.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},T.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_,e=this.getDisplacement();if(this.offsetOrigin_!=u){var i=this.getSize(),n=this.iconImage_.getSize();if(!i||!n)return null;t=t.slice(),this.offsetOrigin_!=c&&this.offsetOrigin_!=a||(t[0]=n[0]-i[0]-t[0]),this.offsetOrigin_!=o&&this.offsetOrigin_!=a||(t[1]=n[1]-i[1]-t[1])}return t[0]+=e[0],t[1]+=e[1],this.origin_=t,this.origin_},T.prototype.getSrc=function(){return this.iconImage_.getSrc()},T.prototype.getSize=function(){return this.size_||this.iconImage_.getSize()},T.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(r.a.CHANGE,t)},T.prototype.load=function(){this.iconImage_.load()},T.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(r.a.CHANGE,t)},T);function T(t){var e=this,i=t||{},n=void 0!==i.opacity?i.opacity:1,r=void 0!==i.rotation?i.rotation:0,o=void 0!==i.scale?i.scale:1,a=void 0!==i.rotateWithView&&i.rotateWithView;(e=C.call(this,{opacity:n,rotation:r,scale:o,displacement:void 0!==i.displacement?i.displacement:[0,0],rotateWithView:a})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],e.normalizedAnchor_=null,e.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:u,e.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:l.a.FRACTION,e.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:l.a.FRACTION,e.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var s=void 0!==i.img?i.img:null,c=void 0!==i.imgSize?i.imgSize:null,t=i.src;Object(d.a)(!(void 0!==t&&s),4),Object(d.a)(!s||s&&c,5),void 0!==t&&0!==t.length||!s||(t=s.src||Object(j.c)(s)),Object(d.a)(void 0!==t&&0<t.length,6);n=void 0!==i.src?h.a.IDLE:h.a.LOADED;return e.color_=void 0!==i.color?Object(f.a)(i.color):null,e.iconImage_=(r=s,o=t,a=c,s=e.crossOrigin_,t=n,c=e.color_,(n=y.a.get(o,s,c))||(n=new O(r,o,a,s,t,c),y.a.set(o,s,c,n)),n),e.offset_=void 0!==i.offset?i.offset:[0,0],e.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:u,e.origin_=null,e.size_=void 0!==i.size?i.size:null,e}e.a=i},"6d83":function(t,e,i){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},"78db":function(t,e,i){"use strict";var c=i("dc07"),o=i("0414"),a=i("92fa"),n=i("7fc9"),l=i("0af5"),u=i("2c30"),s=i("9f5e"),h=i("345d"),p=[0,0,0],i=(r.prototype.forEachTileCoord=function(t,e,i){for(var n=this.getTileRangeForExtentAndZ(t,e),r=n.minX,o=n.maxX;r<=o;++r)for(var a=n.minY,s=n.maxY;a<=s;++a)i([e,r,a])},r.prototype.forEachTileCoordParentTileRange=function(t,e,i,n){var r,o,a=null,s=t[0]-1;for(2===this.zoomFactor_?(r=t[1],o=t[2]):a=this.getTileCoordExtent(t,n);s>=this.minZoom;){if(e(s,2===this.zoomFactor_?(r=Math.floor(r/2),o=Math.floor(o/2),Object(c.a)(r,r,o,o,i)):this.getTileRangeForExtentAndZ(a,s,i)))return!0;--s}return!1},r.prototype.getExtent=function(){return this.extent_},r.prototype.getMaxZoom=function(){return this.maxZoom},r.prototype.getMinZoom=function(){return this.minZoom},r.prototype.getOrigin=function(t){return this.origin_||this.origins_[t]},r.prototype.getResolution=function(t){return this.resolutions_[t]},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var n=2*t[1],r=2*t[2];return Object(c.a)(n,1+n,r,1+r,e)}i=this.getTileCoordExtent(t,i);return this.getTileRangeForExtentAndZ(i,t[0]+1,e)}return null},r.prototype.getTileRangeExtent=function(t,e,i){var n=this.getOrigin(t),r=this.getResolution(t),o=Object(h.c)(this.getTileSize(t),this.tmpSize_),a=n[0]+e.minX*o[0]*r,s=n[0]+(e.maxX+1)*o[0]*r,t=n[1]+e.minY*o[1]*r,r=n[1]+(e.maxY+1)*o[1]*r;return Object(l.k)(a,t,s,r,i)},r.prototype.getTileRangeForExtentAndZ=function(t,e,i){var n=p;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,n);var r=n[1],o=n[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,n),Object(c.a)(r,n[1],o,n[2],i)},r.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),n=Object(h.c)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*n[0]*i,e[1]-(t[2]+.5)*n[1]*i]},r.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=Object(h.c)(this.getTileSize(t[0]),this.tmpSize_),o=i[0]+t[1]*r[0]*n,i=i[1]-(t[2]+1)*r[1]*n,t=o+r[0]*n,n=i+r[1]*n;return Object(l.k)(o,i,t,n,e)},r.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},r.prototype.getTileCoordForXYAndResolution_=function(t,e,i,n,r){var o=this.getZForResolution(i),a=i/this.getResolution(o),s=this.getOrigin(o),c=Object(h.c)(this.getTileSize(o),this.tmpSize_),l=n?.5:0,t=Math.floor((t-s[0])/i+(n?.5:0)),l=Math.floor((s[1]-e)/i+l),t=a*t/c[0],c=a*l/c[1],c=n?(t=Math.ceil(t)-1,Math.ceil(c)-1):(t=Math.floor(t),Math.floor(c));return Object(u.a)(o,t,c,r)},r.prototype.getTileCoordForXYAndZ_=function(t,e,i,n,r){var o=this.getOrigin(i),a=this.getResolution(i),s=Object(h.c)(this.getTileSize(i),this.tmpSize_),c=n?.5:0,t=Math.floor((t-o[0])/a+(n?.5:0)),c=Math.floor((o[1]-e)/a+c),t=t/s[0],s=c/s[1],s=n?(t=Math.ceil(t)-1,Math.ceil(s)-1):(t=Math.floor(t),Math.floor(s));return Object(u.a)(i,t,s,r)},r.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},r.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},r.prototype.getTileSize=function(t){return this.tileSize_||this.tileSizes_[t]},r.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},r.prototype.getZForResolution=function(t,e){e=Object(s.f)(this.resolutions_,t,e||0);return Object(n.a)(e,this.minZoom,this.maxZoom)},r.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),n=this.minZoom;n<e;++n)i[n]=this.getTileRangeForExtentAndZ(t,n);this.fullTileRanges_=i},r);function r(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(a.a)(Object(s.e)(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(var i=0,n=this.resolutions_.length-1;i<n;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(a.a)(this.origins_.length==this.resolutions_.length,20));var r=t.extent;void 0===r||this.origin_||this.origins_||(this.origin_=Object(l.C)(r)),Object(a.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(a.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:o.b,Object(a.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==r?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){t=new c.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));return r&&(e=this.getTileRangeForExtentAndZ(r,e),t.minX=Math.max(e.minX,t.minX),t.maxX=Math.min(e.maxX,t.maxX),t.minY=Math.max(e.minY,t.minY),t.maxY=Math.min(e.maxY,t.maxY)),t},this):r&&this.calculateTileRanges_(r)}e.a=i},"790a":function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r});i("f623");var a=i("7fc9"),s=6371008.8;function n(t,e,i){var n=i||s,r=Object(a.j)(t[1]),o=Object(a.j)(e[1]),i=(o-r)/2,t=Object(a.j)(e[0]-t[0])/2,o=Math.sin(i)*Math.sin(i)+Math.sin(t)*Math.sin(t)*Math.cos(r)*Math.cos(o);return 2*n*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}function r(t,e,i,n){var r=n||s,n=Object(a.j)(t[1]),t=Object(a.j)(t[0]),e=e/r,r=Math.asin(Math.sin(n)*Math.cos(e)+Math.cos(n)*Math.sin(e)*Math.cos(i)),n=t+Math.atan2(Math.sin(i)*Math.sin(e)*Math.cos(n),Math.cos(e)-Math.sin(n)*Math.sin(r));return[Object(a.i)(n),Object(a.i)(r)]}},"7b4f":function(t,e,i){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},"7fc9":function(t,e,i){"use strict";function n(t,e,i){return Math.min(Math.max(t,e),i)}i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r}),i.d(e,"d",function(){return o}),i.d(e,"h",function(){return a}),i.d(e,"g",function(){return l}),i.d(e,"f",function(){return s}),i.d(e,"i",function(){return c}),i.d(e,"j",function(){return u}),i.d(e,"e",function(){return h}),i.d(e,"c",function(){return p});var r="cosh"in Math?Math.cosh:function(t){t=Math.exp(t);return(t+1/t)/2},o="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function a(t,e,i,n,r,o){var a,s=r-i,c=o-n;return 0==s&&0==c||(1<(a=((t-i)*s+(e-n)*c)/(s*s+c*c))?(i=r,n=o):0<a&&(i+=s*a,n+=c*a)),l(t,e,i,n)}function l(t,e,i,n){t=i-t,e=n-e;return t*t+e*e}function s(t){for(var e=t.length,i=0;i<e;i++){for(var n=i,r=Math.abs(t[i][i]),o=i+1;o<e;o++){var a=Math.abs(t[o][i]);r<a&&(r=a,n=o)}if(0===r)return null;var s=t[n];t[n]=t[i],t[i]=s;for(var c=i+1;c<e;c++)for(var l=-t[c][i]/t[i][i],u=i;u<e+1;u++)i==u?t[c][u]=0:t[c][u]+=l*t[i][u]}for(var h=new Array(e),p=e-1;0<=p;p--){h[p]=t[p][e]/t[p][p];for(var f=p-1;0<=f;f--)t[f][e]-=t[f][p]*h[p]}return h}function c(t){return 180*t/Math.PI}function u(t){return t*Math.PI/180}function h(t,e){t%=e;return t*e<0?t+e:t}function p(t,e,i){return t+i*(e-t)}},8295:function(t,e,i){"use strict";var n=i("83a6"),r=i("29f6"),o=i("345d"),i=(a.prototype.clone=function(){var t=this.getScale();return new a({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},a.prototype.getOverflow=function(){return this.overflow_},a.prototype.getFont=function(){return this.font_},a.prototype.getMaxAngle=function(){return this.maxAngle_},a.prototype.getPlacement=function(){return this.placement_},a.prototype.getOffsetX=function(){return this.offsetX_},a.prototype.getOffsetY=function(){return this.offsetY_},a.prototype.getFill=function(){return this.fill_},a.prototype.getRotateWithView=function(){return this.rotateWithView_},a.prototype.getRotation=function(){return this.rotation_},a.prototype.getScale=function(){return this.scale_},a.prototype.getScaleArray=function(){return this.scaleArray_},a.prototype.getStroke=function(){return this.stroke_},a.prototype.getText=function(){return this.text_},a.prototype.getTextAlign=function(){return this.textAlign_},a.prototype.getTextBaseline=function(){return this.textBaseline_},a.prototype.getBackgroundFill=function(){return this.backgroundFill_},a.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},a.prototype.getPadding=function(){return this.padding_},a.prototype.setOverflow=function(t){this.overflow_=t},a.prototype.setFont=function(t){this.font_=t},a.prototype.setMaxAngle=function(t){this.maxAngle_=t},a.prototype.setOffsetX=function(t){this.offsetX_=t},a.prototype.setOffsetY=function(t){this.offsetY_=t},a.prototype.setPlacement=function(t){this.placement_=t},a.prototype.setRotateWithView=function(t){this.rotateWithView_=t},a.prototype.setFill=function(t){this.fill_=t},a.prototype.setRotation=function(t){this.rotation_=t},a.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Object(o.c)(void 0!==t?t:1)},a.prototype.setStroke=function(t){this.stroke_=t},a.prototype.setText=function(t){this.text_=t},a.prototype.setTextAlign=function(t){this.textAlign_=t},a.prototype.setTextBaseline=function(t){this.textBaseline_=t},a.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},a.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},a.prototype.setPadding=function(t){this.padding_=t},a);function a(t){t=t||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=Object(o.c)(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new n.a({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:r.a.POINT,this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill||null,this.backgroundStroke_=t.backgroundStroke||null,this.padding_=void 0===t.padding?null:t.padding}e.a=i},"82b0":function(t,e,i){"use strict";e.a={FRACTION:"fraction",PIXELS:"pixels"}},"835b":function(t,e,i){"use strict";var n,r,o=i("1300"),i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=(r=Error,i(a,r),a);function a(t){var e=this,i="Assertion failed. See https://openlayers.org/en/"+("latest"===o.a?o.a:"v"+o.a.split("-")[0])+"/doc/errors/#"+t+" for details.";return(e=r.call(this,i)||this).code=t,e.name="AssertionError",e.message=i,e}e.a=i},"83a6":function(t,e,i){"use strict";var n=(r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0})},r.prototype.getColor=function(){return this.color_},r.prototype.setColor=function(t){this.color_=t},r);function r(t){t=t||{};this.color_=void 0!==t.color?t.color:null}e.a=n},8682:function(t,e,i){"use strict";var n=(r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(t){this.color_=t},r.prototype.setLineCap=function(t){this.lineCap_=t},r.prototype.setLineDash=function(t){this.lineDash_=t},r.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},r.prototype.setLineJoin=function(t){this.lineJoin_=t},r.prototype.setMiterLimit=function(t){this.miterLimit_=t},r.prototype.setWidth=function(t){this.width_=t},r);function r(t){t=t||{};this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}e.a=n},"869f":function(t,e,i){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},8728:function(t,e,i){"use strict";i("9c64")},"8aa5":function(t,e,i){"use strict";var n=i("6547").charAt;t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},"8cc5":function(t,e,i){"use strict";i.d(e,"c",function(){return r}),i.d(e,"d",function(){return o}),i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s});var n=i("7fc9");function r(t){if(void 0!==t)return 0}function o(t){if(void 0!==t)return t}function a(t){var i=2*Math.PI/t;return function(t,e){return e?t:void 0!==t?t=Math.floor(t/i+.5)*i:void 0}}function s(t){var i=t||Object(n.j)(5);return function(t,e){return e?t:void 0!==t?Math.abs(t)<=i?0:t:void 0}}},"8f37":function(t,e,i){"use strict";var n,r,o=i("e269"),s=i("fced"),a=i("1300"),c=i("a896"),l=i("0af5"),u=i("256f"),h=i("57cb"),p=i("bef8"),i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),f=Object(c.c)(),i=(r=o.a,i(d,r),d.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},d.prototype.clone=function(){return Object(a.b)()},d.prototype.closestPointXY=function(t,e,i,n){return Object(a.b)()},d.prototype.containsXY=function(t,e){var i=this.getClosestPoint([t,e]);return i[0]===t&&i[1]===e},d.prototype.getClosestPoint=function(t,e){e=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],e,1/0),e},d.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},d.prototype.computeExtent=function(t){return Object(a.b)()},d.prototype.getExtent=function(t){var e;return this.extentRevision_!=this.getRevision()&&(e=this.computeExtent(this.extent_),(isNaN(e[0])||isNaN(e[1]))&&Object(l.l)(e),this.extentRevision_=this.getRevision()),Object(l.I)(this.extent_,t)},d.prototype.rotate=function(t,e){Object(a.b)()},d.prototype.scale=function(t,e,i){Object(a.b)()},d.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},d.prototype.getSimplifiedGeometry=function(t){return Object(a.b)()},d.prototype.getType=function(){return Object(a.b)()},d.prototype.applyTransform=function(t){Object(a.b)()},d.prototype.intersectsExtent=function(t){return Object(a.b)()},d.prototype.translate=function(t,e){Object(a.b)()},d.prototype.transform=function(t,o){var a=Object(u.f)(t),t=a.getUnits()==s.b.TILE_PIXELS?function(t,e,i){var n=a.getExtent(),r=a.getWorldExtent(),n=Object(l.A)(r)/Object(l.A)(n);return Object(c.b)(f,r[0],r[3],n,-n,0,0,0),Object(p.c)(t,0,t.length,i,f,e),Object(u.h)(a,o)(t,e,i)}:Object(u.h)(a,o);return this.applyTransform(t),this},d);function d(){var t=r.call(this)||this;return t.extent_=Object(l.j)(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Object(h.d)(function(t,e,i){if(!i)return this.getSimplifiedGeometry(e);var n=this.clone();return n.applyTransform(i),n.getSimplifiedGeometry(e)}),t}e.a=i},"92fa":function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i("835b");function r(t,e){if(!t)throw new n.a(e)}},9769:function(t,e,i){"use strict";i.d(e,"e",function(){return c}),i.d(e,"a",function(){return l}),i.d(e,"f",function(){return n}),i.d(e,"d",function(){return y}),i.d(e,"b",function(){return v}),i.d(e,"c",function(){return r});var _=i("7fc9");function g(t,e,i,n,r,o,a){var s,c=t[e],l=t[e+1],u=t[i]-c,h=t[i+1]-l;if(0==u&&0==h)s=e;else{var p=((r-c)*u+(o-l)*h)/(u*u+h*h);if(1<p)s=i;else{if(0<p){for(var f=0;f<n;++f)a[f]=Object(_.c)(t[e+f],t[i+f],p);return void(a.length=n)}s=e}}for(f=0;f<n;++f)a[f]=t[s+f];a.length=n}function c(t,e,i,n,r){var o=t[e],a=t[e+1];for(e+=n;e<i;e+=n){var s=t[e],c=t[e+1],l=Object(_.g)(o,a,s,c);r<l&&(r=l),o=s,a=c}return r}function l(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o){var s=i[o];r=c(t,e,s,n,r),e=s}return r}function n(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o){var s=i[o];r=l(t,e,s,n,r),e=s[s.length-1]}return r}function y(t,e,i,n,r,o,a,s,c,l,u){if(e==i)return l;var h,p;if(0===r){if((p=Object(_.g)(a,s,t[e],t[e+1]))<l){for(h=0;h<n;++h)c[h]=t[e+h];return c.length=n,p}return l}for(var f=u||[NaN,NaN],d=e+n;d<i;)if(g(t,d-n,d,n,a,s,f),(p=Object(_.g)(a,s,f[0],f[1]))<l){for(l=p,h=0;h<n;++h)c[h]=f[h];d+=c.length=n}else d+=n*Math.max((Math.sqrt(p)-Math.sqrt(l))/r|0,1);if(o&&(g(t,i-n,e,n,a,s,f),(p=Object(_.g)(a,s,f[0],f[1]))<l)){for(l=p,h=0;h<n;++h)c[h]=f[h];c.length=n}return l}function v(t,e,i,n,r,o,a,s,c,l,u){for(var h=u||[NaN,NaN],p=0,f=i.length;p<f;++p){var d=i[p];l=y(t,e,d,n,r,o,a,s,c,l,h),e=d}return l}function r(t,e,i,n,r,o,a,s,c,l,u){for(var h=u||[NaN,NaN],p=0,f=i.length;p<f;++p){var d=i[p];l=v(t,e,d,n,r,o,a,s,c,l,h),e=d[d.length-1]}return l}},"9abc":function(t,e,i){"use strict";i.d(e,"b",function(){return p});var n,r,o=i("8f37"),a=i("521b"),s=i("1300"),c=i("0af5"),l=i("bef8"),i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=(r=o.a,i(u,r),u.prototype.computeExtent=function(t){return Object(c.o)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},u.prototype.getCoordinates=function(){return Object(s.b)()},u.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},u.prototype.getFlatCoordinates=function(){return this.flatCoordinates},u.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},u.prototype.getLayout=function(){return this.layout},u.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},u.prototype.getSimplifiedGeometryInternal=function(t){return this},u.prototype.getStride=function(){return this.stride},u.prototype.setFlatCoordinates=function(t,e){this.stride=h(t),this.layout=t,this.flatCoordinates=e},u.prototype.setCoordinates=function(t,e){Object(s.b)()},u.prototype.setLayout=function(t,e,i){var n;if(t)n=h(t);else{for(var r=0;r<i;++r){if(0===e.length)return this.layout=a.a.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=a.a.XY:3==t?e=a.a.XYZ:4==t&&(e=a.a.XYZM);return e}(n=e.length)}this.layout=t,this.stride=n},u.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},u.prototype.rotate=function(t,e){var i,n=this.getFlatCoordinates();n&&(i=this.getStride(),Object(l.a)(n,0,n.length,i,t,e,n),this.changed())},u.prototype.scale=function(t,e,i){var n=e;void 0===n&&(n=t);var r=(r=i)||Object(c.x)(this.getExtent()),e=this.getFlatCoordinates();e&&(i=this.getStride(),Object(l.b)(e,0,e.length,i,t,n,r,e),this.changed())},u.prototype.translate=function(t,e){var i,n=this.getFlatCoordinates();n&&(i=this.getStride(),Object(l.d)(n,0,n.length,i,t,e,n),this.changed())},u);function u(){var t=r.call(this)||this;return t.layout=a.a.XY,t.stride=2,t.flatCoordinates=null,t}function h(t){var e;return t==a.a.XY?e=2:t==a.a.XYZ||t==a.a.XYM?e=3:t==a.a.XYZM&&(e=4),e}function p(t,e,i){var n=t.getFlatCoordinates();if(n){t=t.getStride();return Object(l.c)(n,0,n.length,t,e,i)}return null}e.a=i},"9bdd":function(t,e,i){var r=i("825a"),o=i("2a62");t.exports=function(e,t,i,n){try{return n?t(r(i)[0],i[1]):t(i)}catch(t){throw o(e),t}}},"9c64":function(t,e,i){},"9f5e":function(t,e,i){"use strict";function n(t,e,i){for(var n,r,o=i||l,a=0,s=t.length,c=!1;a<s;)(r=+o(t[n=a+(s-a>>1)],e))<0?a=n+1:(s=n,c=!r);return c?a:~a}function l(t,e){return e<t?1:t<e?-1:0}function r(t,e){return 0<=t.indexOf(e)}function o(t,e,i){var n=t.length;if(t[0]<=e)return 0;if(e<=t[n-1])return n-1;var r=void 0;if(0<i){for(r=1;r<n;++r)if(t[r]<e)return r-1}else if(i<0){for(r=1;r<n;++r)if(t[r]<=e)return r}else for(r=1;r<n;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return n-1}function a(t,e,i){for(;e<i;){var n=t[e];t[e]=t[i],t[i]=n,++e,--i}}function s(t,e){for(var i=Array.isArray(e)?e:[e],n=i.length,r=0;r<n;r++)t[t.length]=i[r]}function c(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function u(i,t,n){var r=t||l;return i.every(function(t,e){if(0===e)return!0;t=r(i[e-1],t);return!(0<t||n&&0===t)})}i.d(e,"a",function(){return n}),i.d(e,"g",function(){return l}),i.d(e,"d",function(){return r}),i.d(e,"f",function(){return o}),i.d(e,"h",function(){return a}),i.d(e,"c",function(){return s}),i.d(e,"b",function(){return c}),i.d(e,"e",function(){return u})},a13a:function(t,e,i){"use strict";i("20ee")},a2c7:function(t,e,i){"use strict";var n=i("e269"),r=i("f623"),f=i("fced"),_=i("496f"),o="center",a="resolution",s="rotation",d=i("0414"),g=i("256f"),m=i("57cb"),p=i("a568"),c=i("92fa"),l=i("38f3"),y=i("7fc9");function u(l,u,h){return function(t,e,i,n,r){if(t){var o=u?0:i[0]*e,a=u?0:i[1]*e,s=r?r[0]:0,c=r?r[1]:0,i=l[0]+o/2+s,r=l[2]-o/2+s,o=l[1]+a/2+c,s=l[3]-a/2+c;r<i&&(r=i=(r+i)/2),s<o&&(s=o=(s+o)/2);a=Object(y.a)(t[0],i,r),c=Object(y.a)(t[1],o,s),e=30*e;return n&&h&&(a+=-e*Math.log(1+Math.max(0,i-t[0])/e)+e*Math.log(1+Math.max(0,t[0]-r)/e),c+=-e*Math.log(1+Math.max(0,o-t[1])/e)+e*Math.log(1+Math.max(0,t[1]-s)/e)),[a,c]}}}function h(t){return t}var v=i("0af5"),b=i("9f5e");function O(t,e,i,n){var r=Object(v.E)(e)/i[0],i=Object(v.A)(e)/i[1];return n?Math.min(t,Math.max(r,i)):Math.min(t,Math.min(r,i))}function E(t,e,i){var n=Math.min(t,e);return n*=Math.log(1+50*Math.max(0,t/e-1))/50+1,i&&(n=Math.max(n,i),n/=Math.log(1+50*Math.max(0,i/t-1))/50+1),Object(y.a)(n,i/2,2*e)}function x(r,o,a,s,c){return function(t,e,i,n){if(void 0!==t){i=s?O(r,s,i,c):r;return(void 0===a||a)&&n?E(t,i,o):Object(y.a)(t,o,i)}}}var C,j,T=i("8cc5"),R=i("ca42"),S=i("5bc3"),i=(C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=(j=n.a,i(w,j),w.prototype.applyOptions_=function(t){var e=function(t){var e,i,n=void 0!==t.minZoom?t.minZoom:0,r=void 0!==t.maxZoom?t.maxZoom:28,o=void 0!==t.zoomFactor?t.zoomFactor:2,a=void 0!==t.multiWorld&&t.multiWorld,s=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,c=void 0!==t.showFullExtent&&t.showFullExtent,l=Object(g.b)(t.projection,"EPSG:3857"),u=l.getExtent(),h=t.constrainOnlyCenter,p=t.extent;a||p||!l.isGlobal()||(h=!1,p=u);c=void 0!==t.resolutions?(a=t.resolutions,e=a[n],i=void 0!==a[r]?a[r]:a[a.length-1],t.constrainResolution?function(a,s,c,l){return function(t,e,i,n){if(void 0!==t){var r=a[0],o=a[a.length-1],r=c?O(r,c,i,l):r;if(n)return void 0===s||s?E(t,r,o):Object(y.a)(t,o,r);t=Math.min(r,t),e=Math.floor(Object(b.f)(a,t,e));return a[e]>r&&e<a.length-1?a[e+1]:a[e]}}}(a,s,!h&&p,c):x(e,i,s,!h&&p,c)):(u=(u?Math.max(Object(v.E)(u),Object(v.A)(u)):360*g.a[f.b.DEGREES]/l.getMetersPerUnit())/d.b/Math.pow(2,0),l=u/Math.pow(2,28),void 0!==(e=t.maxResolution)?n=0:e=u/Math.pow(o,n),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?e/Math.pow(o,r):u/Math.pow(o,r):l),r=n+Math.floor(Math.log(e/i)/Math.log(o)),i=e/Math.pow(o,r-n),t.constrainResolution?function(o,a,s,c,l,u){return function(t,e,i,n){if(void 0!==t){var r=l?O(a,l,i,u):a,i=void 0!==s?s:0;if(n)return void 0===c||c?E(t,r,i):Object(y.a)(t,i,r);n=Math.ceil(Math.log(a/r)/Math.log(o)-1e-9),e=-e*(.5-1e-9)+.5,t=Math.min(r,t),e=Math.floor(Math.log(a/t)/Math.log(o)+e),e=Math.max(n,e),e=a/Math.pow(o,e);return Object(y.a)(e,i,r)}}}(o,e,i,s,!h&&p,c):x(e,i,s,!h&&p,c));return{constraint:c,maxResolution:e,minResolution:i,minZoom:n,zoomFactor:o}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.padding=t.padding,this.minZoom_=e.minZoom;var i=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return u(t.extent,t.constrainOnlyCenter,e)}e=Object(g.b)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){e=e.getExtent().slice();return e[0]=-1/0,e[2]=1/0,u(e,!1,!1)}return h}(t),n=e.constraint,e=function(t){{if(void 0===t.enableRotation||t.enableRotation){t=t.constrainRotation;return void 0===t||!0===t?Object(T.b)():!1!==t&&"number"==typeof t?Object(T.a)(t):T.d}return T.c}}(t);this.constraints_={center:i,resolution:n,rotation:e},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.setProperties({}),this.options_=t},w.prototype.getUpdatedOptions_=function(t){var e=Object(l.a)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object(l.a)({},e,t)},w.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),i=0;i<e.length;++i){var n=arguments[i];n.center&&((n=Object(l.a)({},n)).center=Object(g.d)(n.center,this.getProjection())),n.anchor&&((n=Object(l.a)({},n)).anchor=Object(g.d)(n.anchor,this.getProjection())),e[i]=n}this.animateInternal.apply(this,e)},w.prototype.animateInternal=function(t){var e,i=arguments.length;if(1<i&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i),!this.isDef()){var n=arguments[i-1];return n.center&&this.setCenterInternal(n.center),void 0!==n.zoom&&this.setZoom(n.zoom),void 0!==n.rotation&&this.setRotation(n.rotation),void(e&&I(e,!0))}for(var r=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_,c=[],l=0;l<i;++l){var u=arguments[l],h={start:r,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||R.c,callback:e};u.center&&(h.sourceCenter=o,h.targetCenter=u.center.slice(),o=h.targetCenter),void 0!==u.zoom?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(u.zoom),a=h.targetResolution):u.resolution&&(h.sourceResolution=a,h.targetResolution=u.resolution,a=h.targetResolution),void 0!==u.rotation&&(h.sourceRotation=s,u=Object(y.e)(u.rotation-s+Math.PI,2*Math.PI)-Math.PI,h.targetRotation=s+u,s=h.targetRotation),!function(t){if(t.sourceCenter&&t.targetCenter&&!Object(p.b)(t.sourceCenter,t.targetCenter))return!1;return t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}(h)?r+=h.duration:h.complete=!0,c.push(h)}this.animations_.push(c),this.setHint(_.a.ANIMATING,1),this.updateAnimations_()},w.prototype.getAnimating=function(){return 0<this.hints_[_.a.ANIMATING]},w.prototype.getInteracting=function(){return 0<this.hints_[_.a.INTERACTING]},w.prototype.cancelAnimations=function(){var t;this.setHint(_.a.ANIMATING,-this.hints_[_.a.ANIMATING]);for(var e=0,i=this.animations_.length;e<i;++e){var n=this.animations_[e];if(n[0].callback&&I(n[0].callback,!1),!t)for(var r=0,o=n.length;r<o;++r){var a=n[r];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t},w.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;0<=i;--i){for(var n,r=this.animations_[i],o=!0,a=0,s=r.length;a<s;++a){var c=r[a];if(!c.complete){var l=t-c.start,u=0<c.duration?l/c.duration:1;1<=u?(c.complete=!0,u=1):o=!1;var h,p,f,d=c.easing(u);if(c.sourceCenter&&(h=c.sourceCenter[0],p=c.sourceCenter[1],l=c.targetCenter[0],u=c.targetCenter[1],this.targetCenter_=[h+d*(l-h),p+d*(u-p)]),c.sourceResolution&&c.targetResolution&&(f=1===d?c.targetResolution:c.sourceResolution+d*(c.targetResolution-c.sourceResolution),c.anchor&&(p=this.getViewportSize_(this.getRotation()),p=this.constraints_.resolution(f,0,p,!0),this.targetCenter_=this.calculateCenterZoom(p,c.anchor)),this.targetResolution_=f,this.applyTargetState_(!0)),void 0!==c.sourceRotation&&void 0!==c.targetRotation&&(f=1===d?Object(y.e)(c.targetRotation+Math.PI,2*Math.PI)-Math.PI:c.sourceRotation+d*(c.targetRotation-c.sourceRotation),c.anchor&&(d=this.constraints_.rotation(f,!0),this.targetCenter_=this.calculateCenterRotate(d,c.anchor)),this.targetRotation_=f),this.applyTargetState_(!0),e=!0,!c.complete)break}}o&&(this.animations_[i]=null,this.setHint(_.a.ANIMATING,-1),(n=r[0].callback)&&I(n,!0))}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},w.prototype.calculateCenterRotate=function(t,e){var i,n=this.getCenterInternal();return void 0!==n&&(i=[n[0]-e[0],n[1]-e[1]],Object(p.d)(i,t-this.getRotation()),Object(p.a)(i,e)),i},w.prototype.calculateCenterZoom=function(t,e){var i,n=this.getCenterInternal(),r=this.getResolution();return i=void 0!==n&&void 0!==r?[e[0]-t*(e[0]-n[0])/r,e[1]-t*(e[1]-n[1])/r]:i},w.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var i=e[0],n=e[1];return[Math.abs(i*Math.cos(t))+Math.abs(n*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(n*Math.cos(t))]}return e},w.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},w.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&Object(g.k)(t,this.getProjection())},w.prototype.getCenterInternal=function(){return this.get(o)},w.prototype.getConstraints=function(){return this.constraints_},w.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},w.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},w.prototype.calculateExtent=function(t){t=this.calculateExtentInternal(t);return Object(g.l)(t,this.getProjection())},w.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSize_(),i=this.getCenterInternal();Object(c.a)(i,1);var n=this.getResolution();Object(c.a)(void 0!==n,2);t=this.getRotation();return Object(c.a)(void 0!==t,3),Object(v.z)(i,n,t,e)},w.prototype.getMaxResolution=function(){return this.maxResolution_},w.prototype.getMinResolution=function(){return this.minResolution_},w.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},w.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},w.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},w.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},w.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},w.prototype.getProjection=function(){return this.projection_},w.prototype.getResolution=function(){return this.get(a)},w.prototype.getResolutions=function(){return this.resolutions_},w.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(Object(g.e)(t,this.getProjection()),e)},w.prototype.getResolutionForExtentInternal=function(t,e){var i=e||this.getViewportSize_(),e=Object(v.E)(t)/i[0],i=Object(v.A)(t)/i[1];return Math.max(e,i)},w.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.getConstrainedResolution(this.maxResolution_),t=this.minResolution_,n=Math.log(i/t)/Math.log(e);return function(t){return i/Math.pow(e,t*n)}},w.prototype.getRotation=function(){return this.get(s)},w.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),t=this.minResolution_,n=Math.log(i/t)/e;return function(t){return Math.log(i/t)/e/n}},w.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),t=this.padding;return e=t?[e[0]-t[1]-t[3],e[1]-t[0]-t[2]]:e},w.prototype.getState=function(){var t,e=this.getProjection(),i=this.getResolution(),n=this.getRotation(),r=this.getCenterInternal(),o=this.padding;return o&&(t=this.getViewportSizeMinusPadding_(),r=P(r,this.getViewportSize_(),[t[0]/2+o[3],t[1]/2+o[0]],i,n)),{center:r.slice(0),projection:void 0!==e?e:null,resolution:i,rotation:n,zoom:this.getZoom()}},w.prototype.getZoom=function(){var t,e=this.getResolution();return t=void 0!==e?this.getZoomForResolution(e):t},w.prototype.getZoomForResolution=function(t){var e,i,n=this.minZoom_||0;return i=this.resolutions_?(i=Object(b.f)(this.resolutions_,t,1),e=this.resolutions_[n=i],i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]):(e=this.maxResolution_,this.zoomFactor_),n+Math.log(e/t)/Math.log(i)},w.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Object(y.a)(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(i,Object(y.a)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},w.prototype.fit=function(t,e){var i,n;Object(c.a)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(Object(c.a)(!Object(v.H)(t),25),n=Object(g.e)(t,this.getProjection()),i=Object(S.b)(n)):t.getType()===r.a.CIRCLE?(n=Object(g.e)(t.getExtent(),this.getProjection()),(i=Object(S.b)(n)).rotate(this.getRotation(),Object(v.x)(n))):i=(n=Object(g.j)())?t.clone().transform(n,this.getProjection()):t,this.fitInternal(i,e)},w.prototype.fitInternal=function(t,e){for(var i=e||{},n=(n=i.size)||this.getViewportSizeMinusPadding_(),r=void 0!==i.padding?i.padding:[0,0,0,0],o=void 0!==i.nearest&&i.nearest,a=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.getResolutionForZoom(i.maxZoom):0,s=t.getFlatCoordinates(),e=this.getRotation(),c=Math.cos(-e),l=Math.sin(-e),u=1/0,h=1/0,p=-1/0,f=-1/0,d=t.getStride(),_=0,g=s.length;_<g;_+=d)var y=s[_]*c-s[_+1]*l,v=s[_]*l+s[_+1]*c,u=Math.min(u,y),h=Math.min(h,v),p=Math.max(p,y),f=Math.max(f,v);n=this.getResolutionForExtentInternal([u,h,p,f],[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n=isNaN(n)?a:Math.max(n,a);n=this.getConstrainedResolution(n,o?0:1);a=(u+p)/2,o=(h+f)/2;a+=(r[1]-r[3])/2*n,o+=(r[0]-r[2])/2*n;o=this.getConstrainedCenter([a*c-o*(l=-l),o*c+a*l],n),a=i.callback||m.c;void 0!==i.duration?this.animateInternal({resolution:n,center:o,duration:i.duration,easing:i.easing},a):(this.targetResolution_=n,this.targetCenter_=o,this.applyTargetState_(!1,!0),I(a,!0))},w.prototype.centerOn=function(t,e,i){this.centerOnInternal(Object(g.d)(t,this.getProjection()),e,i)},w.prototype.centerOnInternal=function(t,e,i){this.setCenterInternal(P(t,e,i,this.getResolution(),this.getRotation()))},w.prototype.calculateCenterShift=function(t,e,i,n){var r,o=this.padding;return o&&t&&(r=P(t,n,[(r=this.getViewportSizeMinusPadding_(-i))[0]/2+o[3],r[1]/2+o[0]],e,i),r=[t[0]-r[0],t[1]-r[1]]),r},w.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},w.prototype.adjustCenter=function(t){var e=Object(g.k)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},w.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},w.prototype.adjustResolution=function(t,e){e=e&&Object(g.d)(e,this.getProjection());this.adjustResolutionInternal(t,e)},w.prototype.adjustResolutionInternal=function(t,e){var i=this.getAnimating()||this.getInteracting(),n=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,n,i);e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()},w.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},w.prototype.adjustRotation=function(t,e){e=e&&Object(g.d)(e,this.getProjection()),this.adjustRotationInternal(t,e)},w.prototype.adjustRotationInternal=function(t,e){var i=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,i);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()},w.prototype.setCenter=function(t){this.setCenterInternal(Object(g.d)(t,this.getProjection()))},w.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},w.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},w.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},w.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},w.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},w.prototype.applyTargetState_=function(t,e){var i=this.getAnimating()||this.getInteracting()||e,n=this.constraints_.rotation(this.targetRotation_,i),r=this.getViewportSize_(n),e=this.constraints_.resolution(this.targetResolution_,0,r,i),r=this.constraints_.center(this.targetCenter_,e,r,i,this.calculateCenterShift(this.targetCenter_,e,n,r));this.get(s)!==n&&this.set(s,n),this.get(a)!==e&&this.set(a,e),this.get(o)&&Object(p.b)(this.get(o),r)||this.set(o,r),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},w.prototype.resolveConstraints=function(t,e,i){var n=void 0!==t?t:200,r=e||0,t=this.constraints_.rotation(this.targetRotation_),e=this.getViewportSize_(t),r=this.constraints_.resolution(this.targetResolution_,r,e),e=this.constraints_.center(this.targetCenter_,r,e,!1,this.calculateCenterShift(this.targetCenter_,r,t,e));if(0===n&&!this.cancelAnchor_)return this.targetResolution_=r,this.targetRotation_=t,this.targetCenter_=e,void this.applyTargetState_();i=i||(0===n?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===r&&this.getRotation()===t&&this.getCenterInternal()&&Object(p.b)(this.getCenterInternal(),e)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:t,center:e,resolution:r,duration:n,easing:R.b,anchor:i}))},w.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(_.a.INTERACTING,1)},w.prototype.endInteraction=function(t,e,i){i=i&&Object(g.d)(i,this.getProjection());this.endInteractionInternal(t,e,i)},w.prototype.endInteractionInternal=function(t,e,i){this.setHint(_.a.INTERACTING,-1),this.resolveConstraints(t,e,i)},w.prototype.getConstrainedCenter=function(t,e){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),i)},w.prototype.getConstrainedZoom=function(t,e){t=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(t,e))},w.prototype.getConstrainedResolution=function(t,e){var i=e||0,e=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,i,e)},w);function w(t){var e=j.call(this)||this,t=Object(l.a)({},t);return e.hints_=[0,0],e.animations_=[],e.updateAnimationKey_,e.projection_=Object(g.b)(t.projection,"EPSG:3857"),e.viewportSize_=[100,100],e.targetCenter_=null,e.targetResolution_,e.targetRotation_,e.cancelAnchor_=void 0,t.center&&(t.center=Object(g.d)(t.center,e.projection_)),t.extent&&(t.extent=Object(g.e)(t.extent,e.projection_)),e.applyOptions_(t),e}function I(t,e){setTimeout(function(){t(e)},0)}function P(t,e,i,n,r){var o=Math.cos(-r),a=Math.sin(-r),r=t[0]*o-t[1]*a,t=t[1]*o+t[0]*a;return[(r+=(e[0]/2-i[0])*n)*o-(t+=(i[1]-e[1]/2)*n)*(a=-a),t*o+r*a]}e.a=i},a2e1:function(t,e,i){"use strict";var n,r,o=i("4cdf"),a=i("01d4"),s=i("8f37"),c=i("f623"),u=i("0af5"),l=i("1e8d"),h=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function p(t){var e=r.call(this)||this;return e.geometries_=t||null,e.changeEventsKeys_=[],e.listenGeometriesChange_(),e}function f(t){for(var e=[],i=0,n=t.length;i<n;++i)e.push(t[i].clone());return e}var d=(r=s.a,h(p,r),p.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(l.c),this.changeEventsKeys_.length=0},p.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(Object(l.a)(this.geometries_[t],a.a.CHANGE,this.changed,this))},p.prototype.clone=function(){var t=new p(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},p.prototype.closestPointXY=function(t,e,i,n){if(n<Object(u.e)(this.getExtent(),t,e))return n;for(var r=this.geometries_,o=0,a=r.length;o<a;++o)n=r[o].closestPointXY(t,e,i,n);return n},p.prototype.containsXY=function(t,e){for(var i=this.geometries_,n=0,r=i.length;n<r;++n)if(i[n].containsXY(t,e))return!0;return!1},p.prototype.computeExtent=function(t){Object(u.l)(t);for(var e=this.geometries_,i=0,n=e.length;i<n;++i)Object(u.q)(t,e[i].getExtent());return t},p.prototype.getGeometries=function(){return f(this.geometries_)},p.prototype.getGeometriesArray=function(){return this.geometries_},p.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,i=0,n=e.length;i<n;++i)e[i].getType()===this.getType()?t=t.concat(e[i].getGeometriesArrayRecursive()):t.push(e[i]);return t},p.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var e=[],i=this.geometries_,n=!1,r=0,o=i.length;r<o;++r){var a=i[r],s=a.getSimplifiedGeometry(t);e.push(s),s!==a&&(n=!0)}if(n){var c=new p(null);return c.setGeometriesArray(e),c}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},p.prototype.getType=function(){return c.a.GEOMETRY_COLLECTION},p.prototype.intersectsExtent=function(t){for(var e=this.geometries_,i=0,n=e.length;i<n;++i)if(e[i].intersectsExtent(t))return!0;return!1},p.prototype.isEmpty=function(){return 0===this.geometries_.length},p.prototype.rotate=function(t,e){for(var i=this.geometries_,n=0,r=i.length;n<r;++n)i[n].rotate(t,e);this.changed()},p.prototype.scale=function(t,e,i){for(var n=(n=i)||Object(u.x)(this.getExtent()),r=this.geometries_,o=0,a=r.length;o<a;++o)r[o].scale(t,e,n);this.changed()},p.prototype.setGeometries=function(t){this.setGeometriesArray(f(t))},p.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},p.prototype.applyTransform=function(t){for(var e=this.geometries_,i=0,n=e.length;i<n;++i)e[i].applyTransform(t);this.changed()},p.prototype.translate=function(t,e){for(var i=this.geometries_,n=0,r=i.length;n<r;++n)i[n].translate(t,e);this.changed()},p.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),r.prototype.disposeInternal.call(this)},p),_=i("fced"),g=i("1300"),y=i("38f3"),v=i("256f");function m(){this.dataProjection=null,this.defaultFeatureProjection=null}var b=(m.prototype.getReadOptions=function(t,e){var i;return e&&(i=e.dataProjection?Object(v.f)(e.dataProjection):this.readProjection(t),e.extent&&i&&i.getUnits()===_.b.TILE_PIXELS&&(i=Object(v.f)(i)).setWorldExtent(e.extent),i={dataProjection:i,featureProjection:e.featureProjection}),this.adaptOptions(i)},m.prototype.adaptOptions=function(t){return Object(y.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},m.prototype.getType=function(){return Object(g.b)()},m.prototype.readFeature=function(t,e){return Object(g.b)()},m.prototype.readFeatures=function(t,e){return Object(g.b)()},m.prototype.readGeometry=function(t,e){return Object(g.b)()},m.prototype.readProjection=function(t){return Object(g.b)()},m.prototype.writeFeature=function(t,e){return Object(g.b)()},m.prototype.writeFeatures=function(t,e){return Object(g.b)()},m.prototype.writeGeometry=function(t,e){return Object(g.b)()},m);function O(t,e,i){var n,r=i?Object(v.f)(i.featureProjection):null,o=i?Object(v.f)(i.dataProjection):null,r=r&&o&&!Object(v.c)(r,o)?(e?t.clone():t).transform(e?r:o,e?o:r):t;return e&&i&&void 0!==i.decimals&&(n=Math.pow(10,i.decimals),(r=r===t?t.clone():r).applyTransform(function(t){for(var e=0,i=t.length;e<i;++e)t[e]=Math.round(t[e]*n)/n;return t})),r}var E,x,C=i("1ecb");function j(){return x.call(this)||this}function T(t){if("string"!=typeof t)return null!==t?t:null;t=JSON.parse(t);return t||null}var s=((E=function(t,e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(j,x=b),j.prototype.getType=function(){return C.a.JSON},j.prototype.readFeature=function(t,e){return this.readFeatureFromObject(T(t),this.getReadOptions(t,e))},j.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(T(t),this.getReadOptions(t,e))},j.prototype.readFeatureFromObject=function(t,e){return Object(g.b)()},j.prototype.readFeaturesFromObject=function(t,e){return Object(g.b)()},j.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(T(t),this.getReadOptions(t,e))},j.prototype.readGeometryFromObject=function(t,e){return Object(g.b)()},j.prototype.readProjection=function(t){return this.readProjectionFromObject(T(t))},j.prototype.readProjectionFromObject=function(t){return Object(g.b)()},j.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},j.prototype.writeFeatureObject=function(t,e){return Object(g.b)()},j.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},j.prototype.writeFeaturesObject=function(t,e){return Object(g.b)()},j.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},j.prototype.writeGeometryObject=function(t,e){return Object(g.b)()},j),R=i("521b"),h=i("9abc"),S=i("9769"),w=i("abb7"),I=i("1c48"),P=i("9f5e"),A=i("fd4d"),L=i("bb6c"),M=i("7fc9");function F(t,e,i,n,r,o,a){var s,c=(i-e)/n;if(1==c)g=e;else if(2==c)g=e,s=r;else if(0!=c){for(var l=t[e],u=t[e+1],h=0,p=[0],f=e+n;f<i;f+=n){var d=t[f],_=t[f+1];h+=Math.sqrt((d-l)*(d-l)+(_-u)*(_-u)),p.push(h),l=d,u=_}var c=r*h,r=Object(P.a)(p,c),g=r<0?(s=(c-p[-r-2])/(p[-r-1]-p[-r-2]),e+(-r-2)*n):e+r*n}for(var y=1<a?a:2,v=o||new Array(y),f=0;f<y;++f)v[f]=void 0===g?NaN:void 0===s?t[g+f]:Object(M.c)(t[g+f],t[g+n+f],s);return v}function D(t,e,i,n,r,o){if(i==e)return null;if(r<t[e+n-1])return o?((u=t.slice(e,e+n))[n-1]=r,u):null;if(t[i-1]<r)return o?((u=t.slice(i-n,i))[n-1]=r,u):null;if(r==t[e+n-1])return t.slice(e,e+n);for(var a=e/n,s=i/n;a<s;){var c=a+s>>1;r<t[(1+c)*n-1]?s=c:a=1+c}i=t[a*n-1];if(r==i)return t.slice((a-1)*n,(a-1)*n+n);for(var l=(r-i)/(t[(a+1)*n-1]-i),u=[],h=0;h<n-1;++h)u.push(Object(M.c)(t[(a-1)*n+h],t[a*n+h],l));return u.push(r),u}var G,N,k=i("c560"),z=i("5938"),b=(G=function(t,e){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}G(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function U(t,e){var i=N.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?i.setCoordinates(t,e):i.setFlatCoordinates(e,t),i}var X,B,Y=(N=h.a,b(U,N),U.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(P.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},U.prototype.clone=function(){var t=new U(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},U.prototype.closestPointXY=function(t,e,i,n){return n<Object(u.e)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(S.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(S.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,n))},U.prototype.forEachSegment=function(t){return Object(A.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},U.prototype.getCoordinateAtM=function(t,e){return this.layout!=R.a.XYM&&this.layout!=R.a.XYZM?null:D(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,void 0!==e&&e)},U.prototype.getCoordinates=function(){return Object(L.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},U.prototype.getCoordinateAt=function(t,e){return F(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},U.prototype.getLength=function(){return Object(z.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},U.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},U.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=Object(I.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new U(e,R.a.XY)},U.prototype.getType=function(){return c.a.LINE_STRING},U.prototype.intersectsExtent=function(t){return Object(k.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},U.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(w.b)(this.flatCoordinates,0,t,this.stride),this.changed()},U),b=(X=function(t,e){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}X(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function W(t,e,i){var n=B.call(this)||this;if(n.ends_=[],n.maxDelta_=-1,n.maxDeltaRevision_=-1,Array.isArray(t[0]))n.setCoordinates(t,e);else if(void 0!==e&&i)n.setFlatCoordinates(e,t),n.ends_=i;else{for(var r=n.getLayout(),o=t,a=[],s=[],c=0,l=o.length;c<l;++c){var u=o[c];0===c&&(r=u.getLayout()),Object(P.c)(a,u.getFlatCoordinates()),s.push(a.length)}n.setFlatCoordinates(r,a),n.ends_=s}return n}var K,V,Z=(B=h.a,b(W,B),W.prototype.appendLineString=function(t){this.flatCoordinates?Object(P.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},W.prototype.clone=function(){var t=new W(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},W.prototype.closestPointXY=function(t,e,i,n){return n<Object(u.e)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(S.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(S.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,i,n))},W.prototype.getCoordinateAtM=function(t,e,i){return this.layout!=R.a.XYM&&this.layout!=R.a.XYZM||0===this.flatCoordinates.length?null:function(t,e,i,n,r,o,a){if(a)return D(t,e,i[i.length-1],n,r,o);var s;if(r<t[n-1])return o?((s=t.slice(0,n))[n-1]=r,s):null;if(t[t.length-1]<r)return o?((s=t.slice(t.length-n))[n-1]=r,s):null;for(var c=0,l=i.length;c<l;++c){var u=i[c];if(e!=u){if(r<t[e+n-1])return null;if(r<=t[u-1])return D(t,e,u,n,r,!1);e=u}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,void 0!==e&&e,void 0!==i&&i)},W.prototype.getCoordinates=function(){return Object(L.b)(this.flatCoordinates,0,this.ends_,this.stride)},W.prototype.getEnds=function(){return this.ends_},W.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new Y(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},W.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,i=this.layout,n=[],r=0,o=0,a=e.length;o<a;++o){var s=e[o],c=new Y(t.slice(r,s),i);n.push(c),r=s}return n},W.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,i=0,n=this.ends_,r=this.stride,o=0,a=n.length;o<a;++o){var s=n[o],c=F(e,i,s,r,.5);Object(P.c)(t,c),i=s}return t},W.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];return e.length=Object(I.b)(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,i),new W(e,R.a.XY,i)},W.prototype.getType=function(){return c.a.MULTI_LINE_STRING},W.prototype.intersectsExtent=function(t){return Object(k.b)(this.flatCoordinates,0,this.ends_,this.stride,t)},W.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);t=Object(w.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===t.length?0:t[t.length-1],this.changed()},W),H=i("f403"),b=(K=function(t,e){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}K(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function q(t,e){var i=V.call(this)||this;return e&&!Array.isArray(t[0])?i.setFlatCoordinates(e,t):i.setCoordinates(t,e),i}var J=(V=h.a,b(q,V),q.prototype.appendPoint=function(t){this.flatCoordinates?Object(P.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},q.prototype.clone=function(){var t=new q(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},q.prototype.closestPointXY=function(t,e,i,n){if(n<Object(u.e)(this.getExtent(),t,e))return n;for(var r=this.flatCoordinates,o=this.stride,a=0,s=r.length;a<s;a+=o){var c=Object(M.g)(t,e,r[a],r[a+1]);if(c<n){n=c;for(var l=0;l<o;++l)i[l]=r[a+l];i.length=o}}return n},q.prototype.getCoordinates=function(){return Object(L.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},q.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new H.a(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},q.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,i=this.stride,n=[],r=0,o=t.length;r<o;r+=i){var a=new H.a(t.slice(r,r+i),e);n.push(a)}return n},q.prototype.getType=function(){return c.a.MULTI_POINT},q.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,i=this.stride,n=0,r=e.length;n<r;n+=i){var o=e[n],a=e[n+1];if(Object(u.h)(t,o,a))return!0}return!1},q.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(w.b)(this.flatCoordinates,0,t,this.stride),this.changed()},q),Q=i("5bc3"),$=i("0a9d"),tt=i("4d98"),et=i("b589");var it,nt,rt=i("25f1"),b=(it=function(t,e){return(it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}it(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function ot(t,e,i){var n=nt.call(this)||this;if(n.endss_=[],n.flatInteriorPointsRevision_=-1,n.flatInteriorPoints_=null,n.maxDelta_=-1,n.maxDeltaRevision_=-1,n.orientedRevision_=-1,n.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){for(var r=n.getLayout(),o=t,a=[],s=[],c=0,l=o.length;c<l;++c){var u=o[c];0===c&&(r=u.getLayout());for(var h=a.length,p=u.getEnds(),f=0,d=p.length;f<d;++f)p[f]+=h;Object(P.c)(a,u.getFlatCoordinates()),s.push(p)}e=r,t=a,i=s}return void 0!==e&&i?(n.setFlatCoordinates(e,t),n.endss_=i):n.setCoordinates(t,e),n}var at,st,ct=(nt=h.a,b(ot,nt),ot.prototype.appendPolygon=function(t){if(this.flatCoordinates){var e=this.flatCoordinates.length;Object(P.c)(this.flatCoordinates,t.getFlatCoordinates());for(var i,n=0,r=(i=t.getEnds().slice()).length;n<r;++n)i[n]+=e}else this.flatCoordinates=t.getFlatCoordinates().slice(),i=t.getEnds().slice(),this.endss_.push();this.endss_.push(i),this.changed()},ot.prototype.clone=function(){for(var t=this.endss_.length,e=new Array(t),i=0;i<t;++i)e[i]=this.endss_[i].slice();var n=new ot(this.flatCoordinates.slice(),this.layout,e);return n.applyProperties(this),n},ot.prototype.closestPointXY=function(t,e,i,n){return n<Object(u.e)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(S.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(S.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,n))},ot.prototype.containsXY=function(t,e){return Object(rt.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},ot.prototype.getArea=function(){return Object(et.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},ot.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(tt.d)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(L.c)(e,0,this.endss_,this.stride)},ot.prototype.getEndss=function(){return this.endss_},ot.prototype.getFlatInteriorPoints=function(){var t;return this.flatInteriorPointsRevision_!=this.getRevision()&&(t=function(t,e,i,n){for(var r=[],o=Object(u.j)(),a=0,s=i.length;a<s;++a){var c=i[a],o=Object(u.o)(t,e,c[0],n);r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=c[c.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride),this.flatInteriorPoints_=Object($.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()),this.flatInteriorPoints_},ot.prototype.getInteriorPoints=function(){return new J(this.getFlatInteriorPoints().slice(),R.a.XYM)},ot.prototype.getOrientedFlatCoordinates=function(){var t;return this.orientedRevision_!=this.getRevision()&&(t=this.flatCoordinates,Object(tt.b)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(tt.d)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()),this.orientedFlatCoordinates_},ot.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];return e.length=Object(I.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,i),new ot(e,R.a.XY,i)},ot.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e,i;i=0===t?0:(e=this.endss_[t-1])[e.length-1];var n=this.endss_[t].slice(),t=n[n.length-1];if(0!==i)for(var r=0,o=n.length;r<o;++r)n[r]-=i;return new Q.a(this.flatCoordinates.slice(i,t),this.layout,n)},ot.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.endss_,n=[],r=0,o=0,a=i.length;o<a;++o){var s=i[o].slice(),c=s[s.length-1];if(0!==r)for(var l=0,u=s.length;l<u;++l)s[l]-=r;var h=new Q.a(e.slice(r,c),t,s);n.push(h),r=c}return n},ot.prototype.getType=function(){return c.a.MULTI_POLYGON},ot.prototype.intersectsExtent=function(t){return Object(k.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},ot.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);t=Object(w.d)(this.flatCoordinates,0,t,this.stride,this.endss_);0===t.length?this.flatCoordinates.length=0:(t=t[t.length-1],this.flatCoordinates.length=0===t.length?0:t[t.length-1]),this.changed()},ot),lt=i("92fa"),s=((at=function(t,e){return(at=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}at(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(ut,st=s),ut.prototype.readFeatureFromObject=function(t,e){var i=null,t=ht((i="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),e=new o.a;return this.geometryName_?e.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&e.setGeometryName(i.geometry_name),e.setGeometry(t),"id"in i&&e.setId(i.id),i.properties&&e.setProperties(i.properties,!0),e},ut.prototype.readFeaturesFromObject=function(t,e){var i=null;if("FeatureCollection"===t.type)for(var i=[],n=t.features,r=0,o=n.length;r<o;++r)i.push(this.readFeatureFromObject(n[r],e));else i=[this.readFeatureFromObject(t,e)];return i},ut.prototype.readGeometryFromObject=ht,ut.prototype.readProjectionFromObject=function(t){var e,t=t.crs;return t?"name"==t.type?e=Object(v.f)(t.properties.name):"EPSG"===t.type?e=Object(v.f)("EPSG:"+t.properties.code):Object(lt.a)(!1,36):e=this.dataProjection,e},ut.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={type:"Feature",geometry:null,properties:null},n=t.getId();if(void 0!==n&&(i.id=n),!t.hasProperties())return i;var r=t.getProperties(),n=t.getGeometry();return n&&(i.geometry=pt(n,e),delete r[t.getGeometryName()]),Object(y.d)(r)||(i.properties=r),i},ut.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var i=[],n=0,r=t.length;n<r;++n)i.push(this.writeFeatureObject(t[n],e));return{type:"FeatureCollection",features:i}},ut.prototype.writeGeometryObject=function(t,e){return pt(t,this.adaptOptions(e))},ut);function ut(t){var e=this,t=t||{};return(e=st.call(this)||this).dataProjection=Object(v.f)(t.dataProjection||"EPSG:4326"),t.featureProjection&&(e.defaultFeatureProjection=Object(v.f)(t.featureProjection)),e.geometryName_=t.geometryName,e.extractGeometryName_=t.extractGeometryName,e}function ht(t,e){if(!t)return null;var i,n;switch(t.type){case c.a.POINT:n=t,i=new H.a(n.coordinates);break;case c.a.LINE_STRING:i=new Y(t.coordinates);break;case c.a.POLYGON:n=t,i=new Q.a(n.coordinates);break;case c.a.MULTI_POINT:i=new J(t.coordinates);break;case c.a.MULTI_LINE_STRING:i=new Z(t.coordinates);break;case c.a.MULTI_POLYGON:i=new ct(t.coordinates);break;case c.a.GEOMETRY_COLLECTION:i=function(t,e){t=t.geometries.map(function(t){return ht(t,e)});return new d(t)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return O(i,!1,e)}function pt(t,e){var i,n,r=(t=O(t,!0,e)).getType();switch(r){case c.a.POINT:i={type:"Point",coordinates:t.getCoordinates()};break;case c.a.LINE_STRING:i={type:"LineString",coordinates:t.getCoordinates()};break;case c.a.POLYGON:i=function(t,e){var i;e&&(i=e.rightHanded);return{type:"Polygon",coordinates:t.getCoordinates(i)}}(t,e);break;case c.a.MULTI_POINT:i={type:"MultiPoint",coordinates:t.getCoordinates()};break;case c.a.MULTI_LINE_STRING:i={type:"MultiLineString",coordinates:t.getCoordinates()};break;case c.a.MULTI_POLYGON:i=function(t,e){var i;e&&(i=e.rightHanded);return{type:"MultiPolygon",coordinates:t.getCoordinates(i)}}(t,e);break;case c.a.GEOMETRY_COLLECTION:n=e,i={type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var e=Object(y.a)({},n);return delete e.featureProjection,pt(t,e)})};break;case c.a.CIRCLE:i={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return i}e.a=s},a417:function(t,e,i){},a43f:function(t,e,i){"use strict";e.a={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}},a568:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a}),i.d(e,"d",function(){return l}),i.d(e,"e",function(){return u}),i.d(e,"f",function(){return h}),i.d(e,"g",function(){return p}),i.d(e,"c",function(){return f});var o=i("0af5"),s=i("7fc9");function c(t,e,i){i=void 0!==i?t.toFixed(i):""+t,t=i.indexOf(".");return e<(t=-1===t?i.length:t)?i:new Array(1+e-t).join("0")+i}function n(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function r(t,e,i){var n=Object(s.e)(e+180,360)-180,r=Math.abs(3600*n),o=i||0,a=Math.pow(10,o),e=Math.floor(r/3600),i=Math.floor((r-3600*e)/60),r=r-3600*e-60*i;return 60<=(r=Math.ceil(r*a)/a)&&(r=0,i+=1),60<=i&&(i=0,e+=1),e+"° "+c(i,2)+"′ "+c(r,2,o)+"″"+(0==n?"":" "+t.charAt(n<0?1:0))}function a(t,e){for(var i=!0,n=t.length-1;0<=n;--n)if(t[n]!=e[n]){i=!1;break}return i}function l(t,e){var i=Math.cos(e),n=Math.sin(e),e=t[0]*i-t[1]*n,n=t[1]*i+t[0]*n;return t[0]=e,t[1]=n,t}function u(t,e){return t[0]*=e,t[1]*=e,t}function h(t,e){return t?r("NS",t[1],e)+" "+r("EW",t[0],e):""}function p(t,e){var i;return e.canWrapX()&&(i=Object(o.E)(e.getExtent()),(e=f(t,e,i))&&(t[0]-=e*i)),t}function f(t,e,i){var n=e.getExtent(),r=0;return e.canWrapX()&&(t[0]<n[0]||t[0]>n[2])&&(i=i||Object(o.E)(n),r=Math.floor((t[0]-n[0])/i)),r}},a630:function(t,e,i){var n=i("23e7"),r=i("4df4");n({target:"Array",stat:!0,forced:!i("1c7e")(function(t){Array.from(t)})},{from:r})},a896:function(t,e,i){"use strict";i.d(e,"c",function(){return r}),i.d(e,"g",function(){return o}),i.d(e,"f",function(){return a}),i.d(e,"j",function(){return l}),i.d(e,"a",function(){return u}),i.d(e,"h",function(){return h}),i.d(e,"i",function(){return p}),i.d(e,"e",function(){return f}),i.d(e,"b",function(){return d}),i.d(e,"d",function(){return _}),i.d(e,"k",function(){return g});var c=i("92fa"),n=new Array(6);function r(){return[1,0,0,1,0,0]}function o(t){return s(t,1,0,0,1,0,0)}function a(t,e){var i=t[0],n=t[1],r=t[2],o=t[3],a=t[4],s=t[5],c=e[0],l=e[1],u=e[2],h=e[3],p=e[4],e=e[5];return t[0]=i*c+r*l,t[1]=n*c+o*l,t[2]=i*u+r*h,t[3]=n*u+o*h,t[4]=i*p+r*e+a,t[5]=n*p+o*e+s,t}function s(t,e,i,n,r,o,a){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t}function l(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function u(t,e){var i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e}function h(t,e){var i=Math.cos(e),e=Math.sin(e);return a(t,s(n,i,e,-e,i,0,0))}function p(t,e,i){return a(t,s(n,e,0,0,i,0,0))}function f(t,e,i){return s(t,e,0,0,i,0,0)}function d(t,e,i,n,r,o,a,s){var c=Math.sin(o),o=Math.cos(o);return t[0]=n*o,t[1]=r*c,t[2]=-n*c,t[3]=r*o,t[4]=a*n*o-s*n*c+e,t[5]=a*r*c+s*r*o+i,t}function _(t,e){var i=(s=e)[0]*s[3]-s[1]*s[2];Object(c.a)(0!=i,32);var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],e=e[5];return t[0]=a/i,t[1]=-r/i,t[2]=-o/i,t[3]=n/i,t[4]=(o*e-a*s)/i,t[5]=-(n*e-r*s)/i,t}function g(t){return"matrix("+t.join(", ")+")"}},ab35:function(t,e,i){"use strict";var n=i("1300"),r=i("345d"),i=(o.prototype.clone=function(){var t=this.getScale();return new o({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},o.prototype.getOpacity=function(){return this.opacity_},o.prototype.getRotateWithView=function(){return this.rotateWithView_},o.prototype.getRotation=function(){return this.rotation_},o.prototype.getScale=function(){return this.scale_},o.prototype.getScaleArray=function(){return this.scaleArray_},o.prototype.getDisplacement=function(){return this.displacement_},o.prototype.getAnchor=function(){return Object(n.b)()},o.prototype.getImage=function(t){return Object(n.b)()},o.prototype.getHitDetectionImage=function(){return Object(n.b)()},o.prototype.getPixelRatio=function(t){return 1},o.prototype.getImageState=function(){return Object(n.b)()},o.prototype.getImageSize=function(){return Object(n.b)()},o.prototype.getHitDetectionImageSize=function(){return Object(n.b)()},o.prototype.getOrigin=function(){return Object(n.b)()},o.prototype.getSize=function(){return Object(n.b)()},o.prototype.setOpacity=function(t){this.opacity_=t},o.prototype.setRotateWithView=function(t){this.rotateWithView_=t},o.prototype.setRotation=function(t){this.rotation_=t},o.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Object(r.c)(t)},o.prototype.listenImageChange=function(t){Object(n.b)()},o.prototype.load=function(){Object(n.b)()},o.prototype.unlistenImageChange=function(t){Object(n.b)()},o);function o(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Object(r.c)(t.scale),this.displacement_=t.displacement}e.a=i},abb7:function(t,e,i){"use strict";function n(t,e,i,n){for(var r=0,o=i.length;r<o;++r)t[e++]=i[r];return e}function u(t,e,i,n){for(var r=0,o=i.length;r<o;++r)for(var a=i[r],s=0;s<n;++s)t[e++]=a[s];return e}function h(t,e,i,n,r){for(var o=r||[],a=0,s=0,c=i.length;s<c;++s){var l=u(t,e,i[s],n);e=o[a++]=l}return o.length=a,o}function r(t,e,i,n,r){for(var o=r||[],a=0,s=0,c=i.length;s<c;++s){var l=h(t,e,i[s],n,o[a]);e=(o[a++]=l)[l.length-1]}return o.length=a,o}i.d(e,"a",function(){return n}),i.d(e,"b",function(){return u}),i.d(e,"c",function(){return h}),i.d(e,"d",function(){return r})},acc1:function(t,e,i){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},ae50:function(t,e,i){"use strict";var n,r,o=i("1af9"),a=i("25a5"),s=i.n(a),c=i("38f3"),l=i("6c77"),i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u="renderOrder",i=(r=o.a,i(h,r),h.prototype.getDeclutter=function(){return this.declutter_},h.prototype.getFeatures=function(t){return r.prototype.getFeatures.call(this,t)},h.prototype.getRenderBuffer=function(){return this.renderBuffer_},h.prototype.getRenderOrder=function(){return this.get(u)},h.prototype.getStyle=function(){return this.style_},h.prototype.getStyleFunction=function(){return this.styleFunction_},h.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},h.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},h.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new s.a(9)),this.getRenderer().renderDeclutter(t)},h.prototype.setRenderOrder=function(t){this.set(u,t)},h.prototype.setStyle=function(t){this.style_=void 0!==t?t:l.a,this.styleFunction_=null===t?void 0:Object(l.c)(this.style_),this.changed()},h);function h(t){var e=this,i=t||{},t=Object(c.a)({},i);return delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,(e=r.call(this,t)||this).declutter_=void 0!==i.declutter&&i.declutter,e.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,e.style_=null,e.styleFunction_=void 0,e.setStyle(i.style),e.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,e.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,e}e.a=i},af4e:function(t,e,i){"use strict";i("a417")},b589:function(t,e,i){"use strict";function c(t,e,i,n){for(var r=0,o=t[i-n],a=t[i-n+1];e<i;e+=n){var s=t[e],c=t[e+1];r+=a*s-o*c,o=s,a=c}return r/2}function l(t,e,i,n){for(var r=0,o=0,a=i.length;o<a;++o){var s=i[o];r+=c(t,e,s,n),e=s}return r}function n(t,e,i,n){for(var r=0,o=0,a=i.length;o<a;++o){var s=i[o];r+=l(t,e,s,n),e=s[s.length-1]}return r}i.d(e,"a",function(){return c}),i.d(e,"b",function(){return l}),i.d(e,"c",function(){return n})},bb6c:function(t,e,i){"use strict";function u(t,e,i,n,r){for(var o=void 0!==r?r:[],a=0,s=e;s<i;s+=n)o[a++]=t.slice(s,s+n);return o.length=a,o}function h(t,e,i,n,r){for(var o=void 0!==r?r:[],a=0,s=0,c=i.length;s<c;++s){var l=i[s];o[a++]=u(t,e,l,n,o[a]),e=l}return o.length=a,o}function n(t,e,i,n,r){for(var o=void 0!==r?r:[],a=0,s=0,c=i.length;s<c;++s){var l=i[s];o[a++]=h(t,e,l,n,o[a]),e=l[l.length-1]}return o.length=a,o}i.d(e,"a",function(){return u}),i.d(e,"b",function(){return h}),i.d(e,"c",function(){return n})},bef8:function(t,e,i){"use strict";function n(t,e,i,n,r,o){for(var a=o||[],s=0,c=e;c<i;c+=n){var l=t[c],u=t[c+1];a[s++]=r[0]*l+r[2]*u+r[4],a[s++]=r[1]*l+r[3]*u+r[5]}return o&&a.length!=s&&(a.length=s),a}function r(t,e,i,n,r,o,a){for(var s=a||[],c=Math.cos(r),l=Math.sin(r),u=o[0],h=o[1],p=0,f=e;f<i;f+=n){var d=t[f]-u,_=t[f+1]-h;s[p++]=u+d*c-_*l,s[p++]=h+d*l+_*c;for(var g=f+2;g<f+n;++g)s[p++]=t[g]}return a&&s.length!=p&&(s.length=p),s}function o(t,e,i,n,r,o,a,s){for(var c=s||[],l=a[0],u=a[1],h=0,p=e;p<i;p+=n){var f=t[p]-l,d=t[p+1]-u;c[h++]=l+r*f,c[h++]=u+o*d;for(var _=p+2;_<p+n;++_)c[h++]=t[_]}return s&&c.length!=h&&(c.length=h),c}function a(t,e,i,n,r,o,a){for(var s=a||[],c=0,l=e;l<i;l+=n){s[c++]=t[l]+r,s[c++]=t[l+1]+o;for(var u=l+2;u<l+n;++u)s[c++]=t[u]}return a&&s.length!=c&&(s.length=c),s}i.d(e,"c",function(){return n}),i.d(e,"a",function(){return r}),i.d(e,"b",function(){return o}),i.d(e,"d",function(){return a})},c560:function(t,e,i){"use strict";i.d(e,"a",function(){return p}),i.d(e,"b",function(){return n}),i.d(e,"c",function(){return c}),i.d(e,"d",function(){return r});var a=i("0af5"),s=i("fd4d"),h=i("25f1");function p(t,e,i,n,r){var o=Object(a.s)(Object(a.j)(),t,e,i,n);return!!Object(a.F)(r,o)&&(!!Object(a.g)(r,o)||(o[0]>=r[0]&&o[2]<=r[2]||(o[1]>=r[1]&&o[3]<=r[3]||Object(s.a)(t,e,i,n,function(t,e){return Object(a.G)(r,t,e)}))))}function n(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o){if(p(t,e,i[o],n,r))return!0;e=i[o]}return!1}function c(t,e,i,n,r){if(o=t,a=e,s=i[0],!(p(o,a,s,c=n,e=r)||(Object(h.b)(o,a,s,c,e[0],e[1])||(Object(h.b)(o,a,s,c,e[0],e[3])||(Object(h.b)(o,a,s,c,e[2],e[1])||!!Object(h.b)(o,a,s,c,e[2],e[3]))))))return!1;var o,a,s,c;if(1===i.length)return!0;for(var l=1,u=i.length;l<u;++l)if(Object(h.a)(t,i[l-1],i[l],n,r)&&!p(t,i[l-1],i[l],n,r))return!1;return!0}function r(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o){var s=i[o];if(c(t,e,s,n,r))return!0;e=s[s.length-1]}return!1}},ca42:function(t,e,i){"use strict";function n(t){return Math.pow(t,3)}function r(t){return 1-n(1-t)}function o(t){return 3*t*t-2*t*t*t}function a(t){return t}i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r}),i.d(e,"c",function(){return o}),i.d(e,"d",function(){return a})},cd7e:function(t,e,i){"use strict";i.d(e,"c",function(){return n}),i.d(e,"d",function(){return r}),i.d(e,"e",function(){return o}),i.d(e,"b",function(){return a}),i.d(e,"a",function(){return s}),i.d(e,"f",function(){return u});var n="ol-hidden",r="ol-selectable",o="ol-unselectable",a="ol-control",s="ol-collapsed",c=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),l=["style","variant","weight","size","lineHeight","family"],u=function(t){var e=t.match(c);if(!e)return null;for(var i={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},n=0,r=l.length;n<r;++n){var o=e[n+1];void 0!==o&&(i[l[n]]=o)}return i.families=i.family.split(/,\s?/),i}},ce2c:function(t,e,i){"use strict";var n,r,o=i("869f"),a=i("ab35"),s=i("5c38"),u=i("e98d"),c=i("0999"),h=i("ddea"),i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=(r=a.a,i(l,r),l.prototype.clone=function(){var t=this.getScale(),t=new l({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return t.setOpacity(this.getOpacity()),t},l.prototype.getAnchor=function(){return this.anchor_},l.prototype.getAngle=function(){return this.angle_},l.prototype.getFill=function(){return this.fill_},l.prototype.getHitDetectionImage=function(){var t;return this.hitDetectionCanvas_||(t=this.createRenderOptions(),this.createHitDetectionCanvas_(t)),this.hitDetectionCanvas_},l.prototype.getImage=function(t){var e,i;return this.canvas_[t||1]||(e=this.createRenderOptions(),i=Object(c.a)(e.size*t||1,e.size*t||1),this.draw_(e,i,0,0,t||1),this.canvas_[t||1]=i.canvas),this.canvas_[t||1]},l.prototype.getPixelRatio=function(t){return t},l.prototype.getImageSize=function(){return this.imageSize_},l.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},l.prototype.getImageState=function(){return o.a.LOADED},l.prototype.getOrigin=function(){return this.origin_},l.prototype.getPoints=function(){return this.points_},l.prototype.getRadius=function(){return this.radius_},l.prototype.getRadius2=function(){return this.radius2_},l.prototype.getSize=function(){return this.size_},l.prototype.getStroke=function(){return this.stroke_},l.prototype.listenImageChange=function(t){},l.prototype.load=function(){},l.prototype.unlistenImageChange=function(t){},l.prototype.createRenderOptions=function(){var t,e=h.e,i=h.h,n=0,r=null,o=0,a=0;return this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=h.l),t=Object(u.a)(t),void 0===(a=this.stroke_.getWidth())&&(a=h.i),r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(i=this.stroke_.getLineJoin())&&(i=h.h),void 0===(e=this.stroke_.getLineCap())&&(e=h.e),void 0===(n=this.stroke_.getMiterLimit())&&(n=h.j)),{strokeStyle:t,strokeWidth:a,size:2*(this.radius_+a)+1,lineCap:e,lineDash:r,lineDashOffset:o,lineJoin:i,miterLimit:n}},l.prototype.render=function(){var t=this.createRenderOptions(),e=Object(c.a)(t.size,t.size);this.draw_(t,e,0,0,1),this.canvas_={},this.canvas_[1]=e.canvas;var i=e.canvas.width,n=i,e=this.getDisplacement();this.hitDetectionImageSize_=[t.size,t.size],this.createHitDetectionCanvas_(t),this.anchor_=[i/2-e[0],i/2+e[1]],this.size_=[i,i],this.imageSize_=[n,n]},l.prototype.draw_=function(t,e,i,n,r){var o,a,s;e.setTransform(r,0,0,r,0,0),e.translate(i,n),e.beginPath();var c=this.points_;if(c===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(c*=2),o=0;o<=c;o++)a=2*o*Math.PI/c-Math.PI/2+this.angle_,s=o%2==0?this.radius_:l,e.lineTo(t.size/2+s*Math.cos(a),t.size/2+s*Math.sin(a))}this.fill_&&(null===(n=this.fill_.getColor())&&(n=h.c),e.fillStyle=Object(u.a)(n),e.fill()),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},l.prototype.createHitDetectionCanvas_=function(t){var e,i;this.hitDetectionCanvas_=this.getImage(1),this.fill_&&(i=0,null===(e="string"==typeof(e=this.fill_.getColor())?Object(s.a)(e):e)?i=1:Array.isArray(e)&&(i=4===e.length?e[3]:1),0===i&&(i=Object(c.a)(t.size,t.size),this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i,0,0)))},l.prototype.drawHitDetectionCanvas_=function(t,e,i,n){e.translate(i,n),e.beginPath();var r=this.points_;if(r===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o=void 0!==this.radius2_?this.radius2_:this.radius_;o!==this.radius_&&(r*=2);for(var a,s,c=void 0,c=0;c<=r;c++)s=2*c*Math.PI/r-Math.PI/2+this.angle_,a=c%2==0?this.radius_:o,e.lineTo(t.size/2+a*Math.cos(s),t.size/2+a*Math.sin(s))}e.fillStyle=h.c,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},l);function l(t){var e=this,i=void 0!==t.rotateWithView&&t.rotateWithView;return(e=r.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0]})||this).canvas_={},e.hitDetectionCanvas_=null,e.fill_=void 0!==t.fill?t.fill:null,e.origin_=[0,0],e.points_=t.points,e.radius_=void 0!==t.radius?t.radius:t.radius1,e.radius2_=t.radius2,e.angle_=void 0!==t.angle?t.angle:0,e.stroke_=void 0!==t.stroke?t.stroke:null,e.anchor_=null,e.size_=null,e.imageSize_=null,e.hitDetectionImageSize_=null,e.render(),e}var p,f,i=((p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(d,f=i),d.prototype.clone=function(){var t=this.getScale(),t=new d({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return t.setOpacity(this.getOpacity()),t},d.prototype.setRadius=function(t){this.radius_=t,this.render()},d);function d(t){t=t||{};return f.call(this,{points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0]})||this}e.a=i},cef7:function(t,e,i){"use strict";var n=(r.prototype.preventDefault=function(){this.propagationStopped=!0},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r);function r(t){this.propagationStopped,this.type=t,this.target=null}e.a=n},d28b:function(t,e,i){i("746f")("iterator")},da5c:function(t,e,i){"use strict";var n=(r.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},r.prototype.disposeInternal=function(){},r);function r(){this.disposed=!1}e.a=n},dc07:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var o=(n.prototype.contains=function(t){return this.containsXY(t[1],t[2])},n.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},n.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},n.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},n.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},n);function n(t,e,i,n){this.minX=t,this.maxX=e,this.minY=i,this.maxY=n}function r(t,e,i,n,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=i,r.maxY=n,r):new o(t,e,i,n)}e.b=o},ddea:function(t,e,i){"use strict";i.d(e,"d",function(){return l}),i.d(e,"c",function(){return u}),i.d(e,"e",function(){return h}),i.d(e,"f",function(){return p}),i.d(e,"g",function(){return f}),i.d(e,"h",function(){return d}),i.d(e,"j",function(){return _}),i.d(e,"l",function(){return g}),i.d(e,"m",function(){return y}),i.d(e,"n",function(){return v}),i.d(e,"k",function(){return m}),i.d(e,"i",function(){return b}),i.d(e,"a",function(){return O}),i.d(e,"s",function(){return A}),i.d(e,"q",function(){return D}),i.d(e,"p",function(){return k}),i.d(e,"r",function(){return z}),i.d(e,"t",function(){return U}),i.d(e,"o",function(){return X}),i.d(e,"b",function(){return Y});var n=i("e269"),e=i("0ec0"),r=i("617d"),o=i("38f3"),a=i("0999"),s=i("cd7e"),c=i("a896"),l="10px sans-serif",u="#000",h="round",p=[],f=0,d="round",_=10,g="#000",y="center",v="middle",m=[0,0,0,0],b=1,O=new n.a;(new e.a).setSize=function(){};var E,x,C,j,T,R,S,w,I=null,P={},A=(j=100,T="32px ",S=(R=["monospace","serif"]).length,w="wmytzilWMYTZIL@#/&?$%10",function(t){var e=Object(s.f)(t);if(e)for(var i=e.families,n=0,r=i.length;n<r;++n){var o=i[n],a=e.style+"\n"+e.weight+"\n"+o;void 0===O.get(a)&&(O.set(a,j,!0),L(e.style,e.weight,o)||(O.set(a,0,!0),void 0===x&&(x=setInterval(M,32))))}});function L(t,e,i){for(var n=!0,r=0;r<S;++r){var o=R[r];C=N(t+" "+e+" "+T+o,w),i!=o&&(o=N(t+" "+e+" "+T+i+","+o,w),n=n&&o!=C)}return!!n}function M(){for(var t=!0,e=O.getKeys(),i=0,n=e.length;i<n;++i){var r=e[i];O.get(r)<j&&(L.apply(this,r.split("\n"))?(Object(o.b)(P),I=null,E=void 0,O.set(r,j)):(O.set(r,O.get(r)+1,!0),t=!1))}t&&(clearInterval(x),x=void 0)}var F,D=function(t){var e,i,n=P[t];return null==n&&(r.g?(e=Object(s.f)(t),i=G(t,"Žg"),n=(isNaN(Number(e.lineHeight))?1.2:Number(e.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)):(F||((F=document.createElement("div")).innerHTML="M",F.style.margin="0 !important",F.style.padding="0 !important",F.style.position="absolute !important",F.style.left="-99999px !important"),F.style.font=t,document.body.appendChild(F),n=F.offsetHeight,document.body.removeChild(F)),P[t]=n),n};function G(t,e){return I=I||Object(a.a)(1,1),t!=E&&(I.font=t,E=I.font),I.measureText(e)}function N(t,e){return G(t,e).width}function k(t,e,i){if(e in i)return i[e];t=N(t,e);return i[e]=t}function z(t,e,i){for(var n=e.length,r=0,o=0;o<n;++o){var a=N(t,e[o]),r=Math.max(r,a);i.push(a)}return r}function U(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}function X(t,e,i,n,r,o,a,s,c,l,u){t.save(),1!==i&&(t.globalAlpha*=i),e&&t.setTransform.apply(t,e),n.contextInstructions?(t.translate(c,l),t.scale(u[0],u[1]),function(t,e){for(var i=t.contextInstructions,n=0,r=i.length;n<r;n+=2)Array.isArray(i[n+1])?e[i[n]].apply(e,i[n+1]):e[i[n]]=i[n+1]}(n,t)):u[0]<0||u[1]<0?(t.translate(c,l),t.scale(u[0],u[1]),t.drawImage(n,r,o,a,s,0,0,a,s)):t.drawImage(n,r,o,a,s,c,l,a*u[0],s*u[1]),t.restore()}var B=null;function Y(t){return r.g?Object(c.k)(t):((B=B||Object(a.a)(1,1).canvas).style.transform=Object(c.k)(t),B.style.transform)}},df4c:function(t,e,i){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}},e01a:function(t,e,i){"use strict";var n,r,o,a,s,c=i("23e7"),l=i("83ab"),u=i("da84"),h=i("5135"),p=i("861d"),f=i("9bf2").f,i=i("e893"),d=u.Symbol;!l||"function"!=typeof d||"description"in d.prototype&&void 0===d().description||(n={},i(r=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof r?new d(t):void 0===t?d():d(t);return""===t&&(n[e]=!0),e},d),(i=r.prototype=d.prototype).constructor=r,o=i.toString,a="Symbol(test)"==String(d("test")),s=/^Symbol\((.*)\)[^)]+$/,f(i,"description",{configurable:!0,get:function(){var t=p(this)?this.valueOf():this,e=o.call(t);if(h(n,t))return"";e=a?e.slice(7,-1):e.replace(s,"$1");return""===e?void 0:e}}),c({global:!0,forced:!0},{Symbol:r}))},e269:function(t,e,i){"use strict";i.d(e,"b",function(){return _});var n,r,o=i("cef7"),a=i("7b4f"),s=i("35a7"),c=i("38f3"),l=i("1300"),i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=(r=o.a,i(h,r),h);function h(t,e,i){t=r.call(this,t)||this;return t.key=e,t.oldValue=i,t}var p,i=(p=s.a,i(f,p),f.prototype.get=function(t){var e;return e=this.values_&&this.values_.hasOwnProperty(t)?this.values_[t]:e},f.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},f.prototype.getProperties=function(){return this.values_&&Object(c.a)({},this.values_)||{}},f.prototype.hasProperties=function(){return!!this.values_},f.prototype.notify=function(t,e){var i=_(t);this.dispatchEvent(new u(i,t,e)),i=a.a.PROPERTYCHANGE,this.dispatchEvent(new u(i,t,e))},f.prototype.set=function(t,e,i){var n=this.values_||(this.values_={});i?n[t]=e:(i=n[t])!==(n[t]=e)&&this.notify(t,i)},f.prototype.setProperties=function(t,e){for(var i in t)this.set(i,t[i],e)},f.prototype.applyProperties=function(t){t.values_&&Object(c.a)(this.values_||(this.values_={}),t.values_)},f.prototype.unset=function(t,e){var i;this.values_&&t in this.values_&&(i=this.values_[t],delete this.values_[t],Object(c.d)(this.values_)&&(this.values_=null),e||this.notify(t,i))},f);function f(t){var e=p.call(this)||this;return Object(l.c)(e),e.values_=null,void 0!==t&&e.setProperties(t),e}var d={};function _(t){return d.hasOwnProperty(t)?d[t]:d[t]="change:"+t}e.a=i},e300:function(t,e,i){"use strict";var n,r,o=i("835b"),a=i("e269"),s=i("183a"),c=i("cef7"),i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l="length",u=(r=c.a,i(h,r),h);function h(t,e,i){t=r.call(this,t)||this;return t.element=e,t.index=i,t}var p,i=(p=a.a,i(f,p),f.prototype.clear=function(){for(;0<this.getLength();)this.pop()},f.prototype.extend=function(t){for(var e=0,i=t.length;e<i;++e)this.push(t[e]);return this},f.prototype.forEach=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)t(e[i],i,e)},f.prototype.getArray=function(){return this.array_},f.prototype.item=function(t){return this.array_[t]},f.prototype.getLength=function(){return this.get(l)},f.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new u(s.a.ADD,e,t))},f.prototype.pop=function(){return this.removeAt(this.getLength()-1)},f.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},f.prototype.remove=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)if(e[i]===t)return this.removeAt(i)},f.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new u(s.a.REMOVE,e,t)),e},f.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(e,t);var n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new u(s.a.REMOVE,n,t)),this.dispatchEvent(new u(s.a.ADD,e,t))}else{for(var r=i;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},f.prototype.updateLength_=function(){this.set(l,this.array_.length)},f.prototype.assertUnique_=function(t,e){for(var i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===t&&i!==e)throw new o.a(58)},f);function f(t,e){var i=p.call(this)||this;if(i.unique_=!!(e||{}).unique,i.array_=t||[],i.unique_)for(var n=0,r=i.array_.length;n<r;++n)i.assertUnique_(i.array_[n],n);return i.updateLength_(),i}e.a=i},e98d:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i("5c38");function r(t){return Array.isArray(t)?Object(n.c)(t):t}},f403:function(t,e,i){"use strict";var n,r,o=i("f623"),a=i("9abc"),s=i("0af5"),c=i("abb7"),l=i("7fc9"),i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=(r=a.a,i(u,r),u.prototype.clone=function(){var t=new u(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},u.prototype.closestPointXY=function(t,e,i,n){var r=this.flatCoordinates,e=Object(l.g)(t,e,r[0],r[1]);if(e<n){for(var o=this.stride,a=0;a<o;++a)i[a]=r[a];return i.length=o,e}return n},u.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},u.prototype.computeExtent=function(t){return Object(s.m)(this.flatCoordinates,t)},u.prototype.getType=function(){return o.a.POINT},u.prototype.intersectsExtent=function(t){return Object(s.h)(t,this.flatCoordinates[0],this.flatCoordinates[1])},u.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c.a)(this.flatCoordinates,0,t,this.stride),this.changed()},u);function u(t,e){var i=r.call(this)||this;return i.setCoordinates(t,e),i}e.a=i},f623:function(t,e,i){"use strict";e.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},faf4:function(t,e,i){"use strict";var n,r,o=i("01d4"),a=i("869f"),s=i("35a7"),c=i("6d83"),l=i("1300"),i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=(r=s.a,i(u,r),u.prototype.getFeatures=function(t){return Object(l.b)()},u.prototype.prepareFrame=function(t){return Object(l.b)()},u.prototype.renderFrame=function(t,e){return Object(l.b)()},u.prototype.loadedTileCallback=function(t,e,i){t[e]||(t[e]={}),t[e][i.tileCoord.toString()]=i},u.prototype.createLoadedTileFinder=function(n,r,o){return function(t,e){var i=this.loadedTileCallback.bind(this,o,t);return n.forEachLoadedTile(r,t,e,i)}.bind(this)},u.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){},u.prototype.getDataAtPixel=function(t,e,i){return Object(l.b)()},u.prototype.getLayer=function(){return this.layer_},u.prototype.handleFontsChanged=function(){},u.prototype.handleImageChange_=function(t){t.target.getState()===a.a.LOADED&&this.renderIfReadyAndVisible()},u.prototype.loadImage=function(t){var e=t.getState();return e!=a.a.LOADED&&e!=a.a.ERROR&&t.addEventListener(o.a.CHANGE,this.boundHandleImageChange_),e==a.a.IDLE&&(t.load(),e=t.getState()),e==a.a.LOADED},u.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==c.a.READY&&t.changed()},u);function u(t){var e=r.call(this)||this;return e.boundHandleImageChange_=e.handleImageChange_.bind(e),e.layer_=t,e.declutterExecutorGroup=null,e}e.a=i},fb6a:function(t,e,i){"use strict";var n=i("23e7"),l=i("861d"),u=i("e8b5"),h=i("23cb"),p=i("50c4"),f=i("fc6a"),d=i("8418"),r=i("b622"),i=i("1dde")("slice"),_=r("species"),g=[].slice,y=Math.max;n({target:"Array",proto:!0,forced:!i},{slice:function(t,e){var i,n,r,o=f(this),a=p(o.length),s=h(t,a),c=h(void 0===e?a:e,a);if(u(o)&&((i="function"==typeof(i=o.constructor)&&(i===Array||u(i.prototype))||l(i)&&null===(i=i[_])?void 0:i)===Array||void 0===i))return g.call(o,s,c);for(n=new(void 0===i?Array:i)(y(c-s,0)),r=0;s<c;s++,r++)s in o&&d(n,r,o[s]);return n.length=r,n}})},fced:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var i={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},n={};n[i.DEGREES]=2*Math.PI*6370997/360,n[i.FEET]=.3048,n[i.METERS]=1,n[i.USFEET]=1200/3937,e.b=i},fd4d:function(t,e,i){"use strict";function n(t,e,i,n,r){for(var o,a=[t[e],t[e+1]],s=[];e+n<i;e+=n){if(s[0]=t[e+n],s[1]=t[e+n+1],o=r(a,s))return o;a[0]=s[0],a[1]=s[1]}return!1}i.d(e,"a",function(){return n})},ff80:function(t,e,i){"use strict";var n,r,o=i("e269"),a=i("6d83"),s=i("1300"),c=i("256f"),i=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),i=(r=o.a,i(l,r),l.prototype.getAttributions=function(){return this.attributions_},l.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},l.prototype.getProjection=function(){return this.projection_},l.prototype.getResolutions=function(){return Object(s.b)()},l.prototype.getState=function(){return this.state_},l.prototype.getWrapX=function(){return this.wrapX_},l.prototype.getContextOptions=function(){},l.prototype.refresh=function(){this.changed()},l.prototype.setAttributions=function(t){this.attributions_=u(t),this.changed()},l.prototype.setState=function(t){this.state_=t,this.changed()},l);function l(t){var e=r.call(this)||this;return e.projection_=Object(c.f)(t.projection),e.attributions_=u(t.attributions),e.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,e.loading=!1,e.state_=void 0!==t.state?t.state:a.a.READY,e.wrapX_=void 0!==t.wrapX&&t.wrapX,e}function u(e){return e?Array.isArray(e)?function(t){return e}:"function"==typeof e?e:function(t){return[e]}:null}e.a=i}}]);